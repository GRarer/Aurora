<!doctype html> <html lang=en dir=ltr> <head> <meta charset=utf-8> <title>Aurora</title> <style type="text/css">.main-menu{display:flex;flex-direction:column}.main-menu h1{font-size:40pt;margin:0;padding:0}.main-menu-options button{display:flex;flex-direction:column}.main-menu button{font-size:24pt;border:none;margin:0;padding:0}.main-menu button:hover{font-size:30pt}.main-menu button:active{color:grey}.credits h1{font-size:24pt;margin-bottom:10pt}.credits-container{display:flex;flex-direction:row}.credits-names-column{margin-right:24pt}.credits-name,.credits-roles{font-size:20pt;margin-top:0;margin-bottom:5pt}.credits button{margin-top:10pt;font-size:20pt}.world-screen-header{display:flex;flex-direction:row;margin:0;min-height:60px}.world-screen-quest-description{font-size:16px;padding-right:10px;padding-top:0;padding-bottom:0}.quest-description-emphasis{color:#408040;font-weight:700}.world-screen-hbox{margin:0;display:flex;flex-direction:row}.world-screen-map-box{height:100%;width:100%}.map-canvas{width:100%;margin:0}.world-screen-sidebar{background-color:#000;width:20%;padding:20px;font-size:16px;overflow-y:auto;height:calc(100vh - 125px)}.project-requirement-met{color:#fff}.project-requirement-unmet{color:tomato}.world-screen-inventory{width:20%;margin:10px;font-size:16px}.production-screen{padding-left:10pt}.production-screen-label{font-size:20pt}.production-screen-inventory{font-size:16pt;line-height:0;padding:1pt;outline:solid #fff;width:50%}.conversion-description{font-size:16pt;width:50%;text-align:left}.conversion-description-normal{color:#fff}.conversion-description-cannot-afford{color:tomato}.conversion-description-disabled{color:#ff0}.production-screen-back-button{font-size:20pt;margin-top:20pt}.transition-quote-panel{margin-top:150px;margin-right:auto;margin-left:auto;font-size:16px;width:420px}.transition-attribution{margin-left:50px}.transition-loading-area{text-align:center}.transition-loading-bar{margin-right:auto;margin-left:auto;width:350px;height:20px;border:2px solid #fff;background-image:linear-gradient(#fff,#fff);background-position:0;background-repeat:no-repeat;background-size:0 100%;transition:background-size .75s}.transition-loading-area.loading .transition-loading-bar{background-size:80% 100%}.transition-loading-area.loaded .transition-loading-bar{background-size:100% 100%}:root,button{background-color:#000;color:#fff;font-family:monospace}button{font-size:18px}button:focus{outline:0}button:disabled,button[disabled]{color:grey;border-color:grey}.flex-horizontal{display:flex;flex-direction:row}.flex-vertical{display:flex;flex-direction:column}.fill-horizontal{width:100%;font-family:serif}.fill-vertical{height:100%}img.emoji{height:1em;width:1em;margin:0 .05em 0 .1em;vertical-align:-.1em}</style></head> <body> <div id=rootdiv> <p>Loading scripts...</p> </div> <script type="text/javascript">(function(){/*
 Copyright Twitter Inc. and other contributors. Licensed under MIT */
'use strict';var $jscomp$templatelit$1=["\n           This is a multiline that does not\n           start with indentation"];$jscomp$templatelit$1.raw=$jscomp$templatelit$1.slice();var $jscomp$templatelit$0=["\n                Multiline versions are also possible,\n            and they can use indentation.\n\n                Line breaks are also supported."];$jscomp$templatelit$0.raw=$jscomp$templatelit$0.slice();var $jscomp=$jscomp||{};$jscomp.scope={};
$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,g){a!=Array.prototype&&a!=Object.prototype&&(a[b]=g.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};
$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(g){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(g||"")+"_"+b++,g)}var b=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,g=[];!(b=a.next()).done;)g.push(b.value);return g};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};
$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(g){}return!1};$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var g=$jscomp.setPrototypeOf;g(a,b)}else for(g in b)if("prototype"!=g)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,g);f&&Object.defineProperty(a,g,f)}else a[g]=b[g];a.superClass_=b.prototype};
$jscomp.polyfill=function(a,b,g,f){if(b){g=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var e=a[f];e in g||(g[e]={});g=g[e]}a=a[a.length-1];f=g[a];b=b(f);b!=f&&null!=b&&$jscomp.defineProperty(g,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Math.hypot",function(a){return a?a:function(a){if(2>arguments.length)return arguments.length?Math.abs(arguments[0]):0;var b,f,e;for(b=e=0;b<arguments.length;b++)e=Math.max(e,Math.abs(arguments[b]));if(1e+100<e||1e-100>e){if(!e)return e;for(b=f=0;b<arguments.length;b++){var n=Number(arguments[b])/e;f+=n*n}return Math.sqrt(f)*e}for(b=f=0;b<arguments.length;b++)n=Number(arguments[b]),f+=n*n;return Math.sqrt(f)}},"es6","es3");$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function g(a){return a instanceof e?a:new e(function(b,m){b(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(a)};var f=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){f(a,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var m=a[b];a[b]=null;try{m()}catch(p){this.asyncThrow_(p)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var e=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(m){b.reject(m)}};e.prototype.createResolveAndReject_=function(){function a(a){return function(d){m||(m=!0,a.call(b,d))}}var b=this,m=!1;
return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};e.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof e)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};e.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(m){this.reject_(m);return}"function"==typeof b?
this.settleSameAsThenable_(b,a):this.fulfill_(a)};e.prototype.reject_=function(a){this.settle_(2,a)};e.prototype.fulfill_=function(a){this.settle_(1,a)};e.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)n.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var n=new b;e.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};e.prototype.settleSameAsThenable_=function(a,b){var m=this.createResolveAndReject_();try{a.call(b,m.resolve,m.reject)}catch(p){m.reject(p)}};e.prototype.then=function(a,b){function m(a,b){return"function"==typeof a?function(b){try{p(a(b))}catch(da){d(da)}}:b}var p,d,f=new e(function(a,b){p=a;d=b});this.callWhenSettled_(m(a,p),m(b,d));
return f};e.prototype.catch=function(a){return this.then(void 0,a)};e.prototype.callWhenSettled_=function(a,b){function m(){switch(p.state_){case 1:a(p.result_);break;case 2:b(p.result_);break;default:throw Error("Unexpected state: "+p.state_);}}var p=this;null==this.onSettledCallbacks_?n.asyncExecute(m):this.onSettledCallbacks_.push(m)};e.resolve=g;e.reject=function(a){return new e(function(b,m){m(a)})};e.race=function(a){return new e(function(b,m){for(var p=$jscomp.makeIterator(a),d=p.next();!d.done;d=
p.next())g(d.value).callWhenSettled_(b,m)})};e.all=function(a){var b=$jscomp.makeIterator(a),m=b.next();return m.done?g([]):new e(function(a,d){function f(d){return function(b){p[d]=b;e--;0==e&&a(p)}}var p=[],e=0;do p.push(void 0),e++,g(m.value).callWhenSettled_(f(p.length-1),d),m=b.next();while(!m.done)})};return e},"es6","es3");
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var g=0,f={next:function(){if(g<a.length){var e=g++;return{value:b(e,a[e]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(g,f,e){return g==a&&"q"==f&&e==b}}));return!0===b.q}catch(g){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.polyfill("WeakMap",function(a){function b(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),d=Object.seal({}),f=new a([[b,2],[d,3]]);if(2!=f.get(b)||3!=f.get(d))return!1;f.delete(b);f.set(d,4);return!f.has(b)&&4==f.get(d)}catch(q){return!1}}function g(){}function f(a){var d=typeof a;return"object"===d&&null!==a||"function"===d}function e(a){if(!$jscomp.owns(a,l)){var d=new g;$jscomp.defineProperty(a,l,{value:d})}}function n(a){var d=Object[a];d&&(Object[a]=function(a){if(a instanceof
g)return a;e(a);return d(a)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var l="$jscomp_hidden_"+Math.random();n("freeze");n("preventExtensions");n("seal");var A=0,m=function(a){this.id_=(A+=Math.random()+1).toString();if(a){a=$jscomp.makeIterator(a);for(var d;!(d=a.next()).done;)d=d.value,this.set(d[0],d[1])}};m.prototype.set=function(a,d){if(!f(a))throw Error("Invalid WeakMap key");e(a);if(!$jscomp.owns(a,l))throw Error("WeakMap key fail: "+
a);a[l][this.id_]=d;return this};m.prototype.get=function(a){return f(a)&&$jscomp.owns(a,l)?a[l][this.id_]:void 0};m.prototype.has=function(a){return f(a)&&$jscomp.owns(a,l)&&$jscomp.owns(a[l],this.id_)};m.prototype.delete=function(a){return f(a)&&$jscomp.owns(a,l)&&$jscomp.owns(a[l],this.id_)?delete a[l][this.id_]:!1};return m},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),f=new a($jscomp.makeIterator([[b,"s"]]));if("s"!=f.get(b)||1!=f.size||f.get({x:4})||f.set({x:4},"t")!=f||2!=f.size)return!1;var d=f.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(q){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;$jscomp.initSymbolIterator();var g=new WeakMap,f=function(a){this.data_={};this.head_=l();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};f.prototype.set=function(a,b){a=0===a?0:a;var d=e(this,a);d.list||(d.list=this.data_[d.id]=[]);d.entry?d.entry.value=b:(d.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,
value:b},d.list.push(d.entry),this.head_.previous.next=d.entry,this.head_.previous=d.entry,this.size++);return this};f.prototype.delete=function(a){a=e(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};f.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=l();this.size=0};f.prototype.has=function(a){return!!e(this,a).entry};
f.prototype.get=function(a){return(a=e(this,a).entry)&&a.value};f.prototype.entries=function(){return n(this,function(a){return[a.key,a.value]})};f.prototype.keys=function(){return n(this,function(a){return a.key})};f.prototype.values=function(){return n(this,function(a){return a.value})};f.prototype.forEach=function(a,b){for(var d=this.entries(),f;!(f=d.next()).done;)f=f.value,a.call(b,f[1],f[0],this)};f.prototype[Symbol.iterator]=f.prototype.entries;var e=function(a,b){var d=b&&typeof b;"object"==
d||"function"==d?g.has(b)?d=g.get(b):(d=""+ ++A,g.set(b,d)):d="p_"+b;var f=a.data_[d];if(f&&$jscomp.owns(a.data_,d))for(a=0;a<f.length;a++){var e=f[a];if(b!==b&&e.key!==e.key||b===e.key)return{id:d,list:f,index:a,entry:e}}return{id:d,list:f,index:-1,entry:void 0}},n=function(a,b){var d=a.head_;return $jscomp.iteratorPrototype(function(){if(d){for(;d.head!=a.head_;)d=d.previous;for(;d.next!=d.head;)return d=d.next,{done:!1,value:b(d)};d=null}return{done:!0,value:void 0}})},l=function(){var a={};return a.previous=
a.next=a.head=a},A=0;return f},"es6","es3");$jscomp.polyfill("Array.from",function(a){return a?a:function(a,g,f){g=null!=g?g:function(a){return a};var b=[],n="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if("function"==typeof n){a=n.call(a);for(var l=0;!(n=a.next()).done;)b.push(g.call(f,n.value,l++))}else for(n=a.length,l=0;l<n;l++)b.push(g.call(f,a[l],l));return b}},"es6","es3");
$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,g){return g})}},"es8","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(a,g){return a===g?0!==a||1/a===1/g:a!==a&&g!==g}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,g){var b=this;b instanceof String&&(b=String(b));var e=b.length;g=g||0;for(0>g&&(g=Math.max(g+e,0));g<e;g++){var n=b[g];if(n===a||Object.is(n,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,g){if(null==a)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,g){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,g||0)}},"es6","es3");
$jscomp.polyfill("String.prototype.repeat",function(a){return a?a:function(a){var b=$jscomp.checkStringArgs(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var f="";a;)if(a&1&&(f+=b),a>>>=1)b+=b;return f}},"es6","es3");
(function(a){function b(f){if(g[f])return g[f].exports;var e=g[f]={i:f,l:!1,exports:{}};a[f].call(e.exports,e,e.exports,b);e.l=!0;return e.exports}var g={};b.m=a;b.c=g;b.d=function(a,e,g){b.o(a,e)||Object.defineProperty(a,e,{enumerable:!0,get:g})};b.r=function(a){$jscomp.initSymbol();$jscomp.initSymbol();"undefined"!==typeof Symbol&&Symbol.toStringTag&&($jscomp.initSymbol(),Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}));Object.defineProperty(a,"__esModule",{value:!0})};b.t=function(a,
e){e&1&&(a=b(a));if(e&8||e&4&&"object"===typeof a&&a&&a.__esModule)return a;var f=Object.create(null);b.r(f);Object.defineProperty(f,"default",{enumerable:!0,value:a});if(e&2&&"string"!=typeof a)for(var g in a)b.d(f,g,function(b){return a[b]}.bind(null,g));return f};b.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(e,"a",e);return e};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";return b(b.s=3)})([function(a,b,g){function f(a){for(var d=
[],b,e=0,f=0;f<a.length;)b=a.charCodeAt(f++),e?(d.push((65536+(e-55296<<10)+(b-56320)).toString(16)),e=0):55296<b&&56319>=b?e=b:d.push(b.toString(16));return d}Object.defineProperty(b,"__esModule",{value:!0});b.TypeName=void 0;b.parse=function(a,b){var d=b&&b.assetType?b.assetType:"svg";b=b&&b.buildUrl?b.buildUrl:function(a,b){return"png"===b?"https://twemoji.maxcdn.com/v/latest/72x72/"+a+".png":"https://twemoji.maxcdn.com/v/latest/svg/"+a+".svg"};var g=[];for(e.default.lastIndex=0;;){var l=e.default.exec(a);
if(!l)break;var p=l[0],A=f(m(p)).join("-");g.push({url:A?b(A,d):"",indices:[l.index,e.default.lastIndex],text:p,type:n})}return g};b.toCodePoints=f;var e=(a=g(1))&&a.__esModule?a:{default:a},n=b.TypeName="emoji",l=/\uFE0F/g,A=String.fromCharCode(8205),m=function(a){return 0>a.indexOf(A)?a.replace(l,""):a}},function(a,b,g){Object.defineProperty(b,"__esModule",{value:!0});b.default=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[#*0-9]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5\udeeb\udeec\udef4-\udefa\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddb4\uddb7\uddba\uddbc-\uddca\uddd0\uddde-\uddff\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g},
,function(a,b,g){function f(c,a,b){return Math.max(Math.min(a,b),c)}function e(c){var a=new Image,b=new Promise(function(h,b){a.onload=function(){return h(a)};a.onerror=function(){return h(a)};a.src=c});ia.push(b);return a}function n(c,a){var h=new Z(c,a);c=window;c.cheatsAddResource=function(c,a){return h.addResource(c,a)};c.cheatsAddPopulation=function(c,a){return h.addPopulation(c,a)};Object.freeze(k);Object.freeze(B);c.Resources=k;c.Species=B}function l(){var c=window;c.cheatsAddResource=void 0;
c.cheatsAddPopulation=void 0;c.Resources=void 0;c.Species=void 0}function A(c,a){for(var h=[],b=1;b<arguments.length;++b)h[b-1]=arguments[b];b=c.reduce(function(c,a,b){return c+a+(h[b]||"")}).replace(/\t/,"    ").replace(/^(?:\r?\n)+|(?:\r?\n)+$/g,"").split(/\r?\n/);var d=b.filter(function(c){return""!==c}).map(function(c){return c.match(/^\s*/)[0].length}),e=0;0<b.length&&(e=d.reduce(function(c,a){return Math.min(c,a)}));return 0<e?b.map(function(c){return c.substring(e)}).join("\n"):b.join("\n")}
g.r(b);var m=function(){function c(c,a){return document.createTextNode(a?c.replace(r,""):c)}function a(c,a){return"".concat(a.base,a.size,"/",c,a.ext)}function b(c,a){c=c.childNodes;for(var h=c.length,d,x;h--;)d=c[h],x=d.nodeType,3===x?a.push(d):1!==x||"ownerSVGElement"in d||v.test(d.nodeName.toLowerCase())||b(d,a);return a}function d(c){return l(0>c.indexOf(t)?c.replace(r,""):c)}function e(a,h){for(var x=b(a,[]),X=x.length,e,f,g,Y,S,k,m,n,l,p;X--;){e=!1;g=document.createDocumentFragment();Y=x[X];
S=Y.nodeValue;for(m=0;k=q.exec(S);){n=k.index;n!==m&&g.appendChild(c(S.slice(m,n),!0));k=k[0];p=d(k);m=n+k.length;n=h.callback(p,h);if(p&&n){l=new Image;l.onerror=h.onerror;l.setAttribute("draggable","false");e=h.attributes(k,p);for(f in e)e.hasOwnProperty(f)&&0!==f.indexOf("on")&&!l.hasAttribute(f)&&l.setAttribute(f,e[f]);l.className=h.className;l.alt=k;l.src=n;e=!0;g.appendChild(l)}l||g.appendChild(c(k,!1));l=null}e&&(m<S.length&&g.appendChild(c(S.slice(m),!0)),Y.parentNode.replaceChild(g,Y))}return a}
function f(c,a){return m(c,function(c){var h=c,b=d(c),x=a.callback(b,a),e;if(b&&x){h="<img ".concat('class="',a.className,'" ','draggable="false" ','alt="',c,'"',' src="',x,'"');c=a.attributes(c,b);for(e in c)c.hasOwnProperty(e)&&0!==e.indexOf("on")&&-1===h.indexOf(" "+e+"=")&&(h=h.concat(" ",e,'="',c[e].replace(u,g),'"'));h=h.concat("/>")}return h})}function g(c){return p[c]}function k(){return null}function m(c,a){return String(c).replace(q,a)}function l(c,a){for(var h=[],b,d=0,x=0;x<c.length;)b=
c.charCodeAt(x++),d?(h.push((65536+(d-55296<<10)+(b-56320)).toString(16)),d=0):55296<=b&&56319>=b?d=b:h.push(b.toString(16));return h.join(a||"-")}var n={base:"https://twemoji.maxcdn.com/v/12.1.5/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(c){c="string"===typeof c?parseInt(c,16):c;if(65536>c)return w(c);c-=65536;return w(55296+(c>>10),56320+(c&1023))},toCodePoint:l},onerror:function(){this.parentNode&&this.parentNode.replaceChild(c(this.alt,!1),this)},parse:function(c,
h){h&&"function"!==typeof h||(h={callback:h});var b=h.callback||a,d="function"===typeof h.attributes?h.attributes:k,x="string"===typeof h.base?h.base:n.base,X=h.ext||n.ext,g;(g=h.folder)||(g=h.size||n.size,g="number"===typeof g?g+"x"+g:g);return("string"===typeof c?f:e)(c,{callback:b,attributes:d,base:x,ext:X,size:g,className:h.className||n.className,onerror:h.onerror||n.onerror})},replace:m,test:function(c){q.lastIndex=0;c=q.test(c);q.lastIndex=0;return c}},p={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",
'"':"&quot;"},q=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[#*0-9]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5\udeeb\udeec\udef4-\udefa\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddb4\uddb7\uddba\uddbc-\uddca\uddd0\uddde-\uddff\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,
r=/\uFE0F/g,t=String.fromCharCode(8205),u=/[&<>'"]/g,v=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,w=String.fromCharCode;return n}(),p=g(0),d=function(){};d.makeDiv=function(c){var a=document.createElement("div");c&&a.classList.add.apply(a.classList,$jscomp.arrayFromIterable(c));return a};d.makeDivContaining=function(c,a){a=this.makeDiv(a);c=$jscomp.makeIterator(c);for(var h=c.next();!h.done;h=c.next())a.appendChild(h.value);return a};d.makeElement=function(c,a,b){c=document.createElement(c);
c.innerText=a;b&&c.classList.add.apply(c.classList,$jscomp.arrayFromIterable(b));return c};d.patchEmoji=function(c){m.parse(c,{folder:"svg",ext:".svg"});return c};d.containsEmoji=function(c){return 0<p.parse(c).length};d.makePara=function(c,a){a=d.makeElement("p",c,a);d.containsEmoji(c)&&d.patchEmoji(a);return a};d.makeHeader=function(c,a,b){a=d.makeElement("h"+(void 0===a?1:a),c,b);d.containsEmoji(c)&&d.patchEmoji(a);return a};d.makeButton=function(c,a,b,e){e=void 0===e?!1:e;var h=document.createElement("button");
h.type="button";h.disabled=e;h.innerText=c;b&&h.classList.add.apply(h.classList,$jscomp.arrayFromIterable(b));h.onclick=function(c){c.preventDefault;a.call(this,c)};d.containsEmoji(c)&&d.patchEmoji(h);return h};d.makeCanvas=function(c,a,b){var h=document.createElement("canvas");h.width=c;h.height=a;b&&h.classList.add.apply(h.classList,$jscomp.arrayFromIterable(b));return h};d.fillHTML=function(c,a){c.innerHTML="";a=$jscomp.makeIterator(a);for(var h=a.next();!h.done;h=a.next())c.appendChild(h.value)};
var ja=function(){};ja.renderMainMenu=function(){return d.makeDivContaining([d.makeHeader("Aurora",1),d.makeDivContaining([d.makeButton("start_game",function(){return t.startGame()}),d.makeButton("display_credits",function(){return t.showCredits()})],["main-menu-options"])],["main-menu"])};var q=function(c,a){this.x=c;this.y=a};q.prototype.toString=function(){return"("+this.x+", "+this.y+")"};q.prototype.distanceFrom=function(c){return Math.hypot(Math.abs(this.x-c.x),Math.abs(this.y-c.y))};var ia=
[];a=e("assets/ui/highlight.png");var na=e("assets/tiles/habitat.png"),da=e("assets/tiles/wasteland.png"),oa=e("assets/tiles/solar_panels.png"),pa=e("assets/tiles/mountain.png"),qa=e("assets/tiles/mining_facility.png"),ra=e("assets/tiles/lander.png"),r=function(c,a){var h=this;this.viewWidth=12;this.viewHeight=8;this.viewPosition=new q(0,0);this.highlightedCoordinates=null;this.world=a;this.parentScreen=c;this.canvas=d.makeCanvas(this.viewWidth*r.pixelsPerTile,this.viewHeight*r.pixelsPerTile,["map-canvas"]);
this.canvas.addEventListener("click",function(c){return h.handleClick(c)});this.refreshViewableArea()};r.prototype.getViewCanvas=function(){return this.canvas};r.prototype.refreshViewableArea=function(){var c=this.world.getTilesInRectangle(this.viewPosition.x,this.viewPosition.y,this.viewWidth,this.viewHeight);c=$jscomp.makeIterator(c);for(var a=c.next();!a.done;a=c.next())this.rerenderTile(a.value)};r.prototype.drawSquareAtCoordinates=function(c,a){var h=this.canvas.getContext("2d");h.imageSmoothingEnabled=
!1;var b=a.x-this.viewPosition.x;a=a.y-this.viewPosition.y;0>b||0>a||b>=this.viewWidth||a>=this.viewHeight||h.drawImage(c,b*r.pixelsPerTile,a*r.pixelsPerTile,r.pixelsPerTile,r.pixelsPerTile)};r.prototype.rerenderTile=function(c){this.drawSquareAtCoordinates(c.texture,c.position);c.position===this.highlightedCoordinates&&this.drawSquareAtCoordinates(r.highlightImage,c.position)};r.prototype.selectTile=function(c){if(!c||c.position!==this.highlightedCoordinates){if(this.highlightedCoordinates){var a=
this.world.getTileAtCoordinates(this.highlightedCoordinates);this.highlightedCoordinates=null;this.rerenderTile(a)}c?(this.drawSquareAtCoordinates(r.highlightImage,c.position),this.highlightedCoordinates=c.position):this.highlightedCoordinates=null;this.parentScreen.changeSidebarTile(this.highlightedCoordinates)}};r.prototype.moveViewArea=function(c,a){var h=this.viewPosition.x,b=this.viewPosition.y;c=f(0,this.viewPosition.x+c,this.world.width-this.viewWidth);a=f(0,this.viewPosition.y+a,this.world.height-
this.viewHeight);this.viewPosition=new q(c,a);c=this.viewPosition.x-h;a=this.viewPosition.y-b;h=c*r.pixelsPerTile*-1;b=a*r.pixelsPerTile*-1;this.canvas.getContext("2d").drawImage(this.canvas,h,b);if(0<c)for(h=this.world.getTilesInRectangle(this.viewPosition.x+this.viewWidth-c,this.viewPosition.y,c,this.viewHeight),b=$jscomp.makeIterator(h),h=b.next();!h.done;h=b.next())this.rerenderTile(h.value);if(0>c)for(c=this.world.getTilesInRectangle(this.viewPosition.x,this.viewPosition.y,-1*c,this.viewHeight),
c=$jscomp.makeIterator(c),h=c.next();!h.done;h=c.next())this.rerenderTile(h.value);if(0<a)for(c=this.world.getTilesInRectangle(this.viewPosition.x,this.viewPosition.y+this.viewHeight-a,this.viewWidth,a),c=$jscomp.makeIterator(c),h=c.next();!h.done;h=c.next())this.rerenderTile(h.value);if(0>a)for(a=this.world.getTilesInRectangle(this.viewPosition.x,this.viewPosition.y,this.viewWidth,-1*a),a=$jscomp.makeIterator(a),h=a.next();!h.done;h=a.next())this.rerenderTile(h.value)};r.prototype.handleClick=function(c){c=
this.world.getTileAtCoordinates(new q(Math.floor(this.viewWidth/this.canvas.clientWidth*(c.pageX-this.canvas.offsetLeft))+this.viewPosition.x,Math.floor(this.viewHeight/this.canvas.clientHeight*(c.pageY-this.canvas.offsetTop))+this.viewPosition.y));this.selectTile(c)};r.prototype.handleKeyDown=function(c){c=c.code;"ArrowUp"!==c&&"KeyW"!==c||this.moveViewArea(0,-1);"ArrowLeft"!==c&&"KeyA"!==c||this.moveViewArea(-1,0);"ArrowDown"!==c&&"KeyS"!==c||this.moveViewArea(0,1);"ArrowRight"!==c&&"KeyD"!==c||
this.moveViewArea(1,0)};r.pixelsPerTile=64;r.highlightImage=a;var L=function(c,a){this.parentScreen=c;this.run=a;this.position=null;this.html=d.makeDiv(["world-screen-sidebar"]);this.refresh()};L.prototype.getHTML=function(){return this.html};L.prototype.changeTile=function(c){this.position=c;this.refresh()};L.prototype.refresh=function(){var c=this;if(null==this.position)d.fillHTML(this.html,[d.makePara("No structure or terrain tile selected")]);else{var a=this.run.world.getTileAtCoordinates(this.position),
b=d.makeDiv();a.populationCapacity&&b.appendChild(d.makePara("Population capacity for "+a.populationCapacity.capacity+" "+a.populationCapacity.species.name));var e=d.makeDiv(),f=a.possibleProjects.filter(function(a){return a.isVisible(c.position,c.run)});if(0<f.length){e.appendChild(d.makePara("Projects:"));f=$jscomp.makeIterator(f);for(var g=f.next();!g.done;g=f.next())e.appendChild(this.makeProjectHTML(a,g.value))}f=d.makeDiv();if(0<a.resourceConversions.length){f.appendChild(d.makePara("Production:"));
g=$jscomp.makeIterator(a.resourceConversions);for(var k=g.next();!k.done;k=g.next())f.appendChild(this.makeConversionHTML(k.value))}d.fillHTML(this.html,[d.makePara(a.getTileName()),d.makePara("Coordinates: "+this.position.x+", "+this.position.y),b,e,f])}};L.prototype.makeProjectHTML=function(c,a){var h=this,b=d.makeDiv(),e=!a.canDo(c.position,this.run);e=d.makeButton(a.title,function(){h.doProject(a,c)},[],e);b.appendChild(e);if(0==a.costs.length)b.appendChild(d.makePara("Cost: Free"));else{e=this.run.inventory.canAfford(a.costs)?
"project-requirement-met":"project-requirement-unmet";var f="Cost: "+a.costs.map(function(c){return""+c.toString()}).join(", ");b.appendChild(d.makePara(f,[e]))}0<a.completionRequirements.length&&b.appendChild(d.makePara("Requirements:"));e=$jscomp.makeIterator(a.completionRequirements);for(f=e.next();!f.done;f=e.next()){f=f.value;var g=f.evaluate(this.run,this.position)?"project-requirement-met":"project-requirement-unmet";b.appendChild(d.makePara("- "+f.toString(),[g]))}return b};L.prototype.makeConversionHTML=
function(c){return d.makePara("- "+c.toString())};L.prototype.doProject=function(c,a){c.doAction(a.position,this.run);this.run.updateQuestState();this.parentScreen.refreshComponents()};var ea=function(c){this.inventory=c.inventory;this.html=d.makeDiv(["world-screen-inventory"]);this.refresh()};ea.prototype.getHTML=function(){return this.html};ea.prototype.refresh=function(){for(var c=d.makeHeader("Population: "+this.inventory.getTotalPopulation(),1),a=d.makePara("Available workers: "+this.inventory.getAvailableWorkers()),
b=d.makeDiv(),e=$jscomp.makeIterator(this.inventory.getPopulationStrings()),f=e.next();!f.done;f=e.next())b.appendChild(d.makePara(f.value));e=d.makeDiv();var g=$jscomp.makeIterator(this.inventory.getInventoryStrings());for(f=g.next();!f.done;f=g.next())e.appendChild(d.makePara(f.value));d.fillHTML(this.html,[d.makeDivContaining([c,a,b,d.makeHeader("Inventory:",1),e])])};var fa=function(c){this.html=d.makeDiv(["world-screen-header"]);this.run=c;this.refresh()};fa.prototype.refresh=function(){var c=
this,a=d.makeButton("Quit Game",function(){t.showMainMenu()}),b=d.makeButton("Next Turn",function(){t.transitionToNextTurn()}),e=d.makeButton("Manage Production",function(){t.showProductionScreen()}),f=d.makeButton("Research Projects",function(){t.showResearchScreen()}),g=this.run.getCurrentQuestHint(),k=this.run.getCurrentQuestDescription();g=d.makePara("Objective: "+(g?k+"\n(hint: "+g+")":k),["world-screen-quest-description"]);k=this.run.getPreviousQuestDescription();this.run.questCompletionShown||
(g=d.makePara("Completed: "+k,["world-screen-quest-description","quest-description-emphasis"]),setTimeout(function(){c.refresh()},1500));this.run.questCompletionShown=!0;d.fillHTML(this.html,[a,e,f,b,g])};fa.prototype.getHTML=function(){return this.html};var T=function(c){this.mapUI=new r(this,c.world);this.tileSidebar=new L(this,c);var a=this.mapUI.getViewCanvas();this.inventorySidebar=new ea(c);var b=this.tileSidebar.getHTML(),e=this.inventorySidebar.getHTML();this.header=new fa(c);this.worldScreenHTML=
d.makeDivContaining([this.header.getHTML(),d.makeDivContaining([e,d.makeDivContaining([a],["world-screen-map-box"]),b],["world-screen-hbox"])],["flex-vertical"])};T.prototype.getHTML=function(){return this.worldScreenHTML};T.prototype.refreshComponents=function(){this.mapUI.refreshViewableArea();this.tileSidebar.refresh();this.inventorySidebar.refresh();this.header.refresh()};T.prototype.handleKeyDown=function(c){this.mapUI.handleKeyDown(c)};T.prototype.changeSidebarTile=function(c){this.tileSidebar.changeTile(c)};
var aa=function(){};aa.generate=function(c,a){for(var h=Array(c),b=0;b<c;b++)h[b]=a();return h};aa.flatten=function(c){return c.reduce(function(c,a){c=void 0===c?[]:c;return c.concat(a)})};var z=function(c){this.position=c;this.possibleProjects=[];this.resourceConversions=[];this.populationCapacity=void 0},F=function(c,a,b,d,e){this.title=c;this.action=a;this.costs=b;this.completionRequirements=d;this.visibilityRequirements=e};F.prototype.canDo=function(c,a){return a.inventory.canAfford(this.costs)&&
this.isVisible(c,a)&&this.completionRequirements.every(function(h){return h.evaluate(a,c)})};F.prototype.isVisible=function(c,a){return this.visibilityRequirements.every(function(h){return h.evaluate(a,c)})};F.prototype.doAction=function(c,a){if(!this.canDo(c,a))throw"tried to do project "+this.title+" without meeting requirements";a.inventory.payCost(this.costs);this.action(c,a)};var B=function(c,a){this.name=c;this.growthMultiplier=a};B.values=function(){return Object.keys(B).map(function(c){return B[c]})};
B.Human=new B("\ud83d\udc69\ud83c\udffb\u200d\ud83d\ude80 Human Colonists",.1);B.Robot=new B("\ud83e\udd16 Robots",1);var sa=function(c,a){this.species=c;this.capacity=a},D=function(c){c=z.call(this,c)||this;c.texture=na;c.populationCapacity=new sa(B.Human,200);return c};$jscomp.inherits(D,z);D.prototype.getTileName=function(){return D.tileName};D.tileName="Habitat Dome";var v=function(c,a){this.resource=c;this.quantity=a};v.prototype.toString=function(){return this.resource.name+" x"+this.quantity};
var k=function(a){this.name=a};k.values=function(){return Object.keys(k).map(function(a){return k[a]})};k.Energy=new k("\u26a1 Energy");k.Metal=new k("\u26cf Metal Ore");k.BuildingMaterials=new k("\ud83d\udd29 Construction Parts");k.Electronics=new k("\ud83d\udca1 Electronics");k.EngineeringKnowledge=new k("\u2699\ufe0f Engineering Data");k.SocialKnowledge=new k("\ud83e\udde0 Psychological Data");a=function(){};var U=function(a,h){this.radius=a;this.targetType=h;return this};$jscomp.inherits(U,a);
U.prototype.evaluate=function(a,h){var c=this;return 0<a.world.getTilesInCircle(h,this.radius).filter(function(a){return a instanceof c.targetType}).length};U.prototype.toString=function(){return 1==this.radius?"adjacent to a "+this.targetType.tileName:"within "+this.radius+" units of a "+this.targetType.tileName};var ba=function(a){this.requiredCount=a;return this};$jscomp.inherits(ba,a);ba.prototype.evaluate=function(a,h){return a.world.getTileAtCoordinates(h).resourceConversions.length===this.requiredCount};
ba.prototype.toString=function(){return this.requiredCount+" resource conversions on this tile"};var H=function(a,h,b){this.inputs=a;this.outputs=h;this.enabled=!0;this.requiredWorkers=b||0;this.isFree()?this.priority=0:(this.priority=H.nextNumber,H.nextNumber++)};H.prototype.toString=function(){var a=this.outputs.map(function(a){return a.toString()}).join(", "),h="Produce "+a;0<this.inputs.length&&(h="Convert "+this.inputs.map(function(a){return a.toString()}).join(", ")+" into "+a);0!=this.requiredWorkers&&
(h+=" using "+this.requiredWorkers+" workers");return h};H.prototype.isFree=function(){return 0==this.inputs.length&&!this.requiredWorkers};H.nextNumber=1;var C=function(){};a=function(a,h){this.resource=a;this.minQuantity=h;return this};$jscomp.inherits(a,C);a.prototype.evaluate=function(a){return a.inventory.getResourceQuantity(this.resource)>=this.minQuantity};a.prototype.toString=function(){return"have at least "+this.minQuantity+" units of "+this.resource.name+" in inventory"};b=function(a,h){this.tileType=
a;this.minQuantity=h;return this};$jscomp.inherits(b,C);b.prototype.evaluate=function(a){var c=this;return a.world.getTiles().filter(function(a){return a instanceof c.tileType}).length>=this.minQuantity};b.prototype.toString=function(){return"have at least "+this.minQuantity+"  "+this.tileType.tileName+" tile"+(1==this.minQuantity?"":"s")};g=function(a){this.minimumPopulation=a;return this};$jscomp.inherits(g,C);g.prototype.evaluate=function(a){return a.inventory.getTotalPopulation()>=this.minimumPopulation};
g.prototype.toString=function(){return"have a total population of at least "+this.minimumPopulation};var V=function(a){this.tech=a;return this};$jscomp.inherits(V,C);V.prototype.evaluate=function(a){return a.hasUnlockedTechnology(this.tech)};V.prototype.toString=function(){return"have the "+this.tech.name+" technology"};var I=function(a,h,b,d,e){this.name=a;this.description=h;this.requiredTechs=b;this.researchCost=d;this.visible=void 0===e?!0:e};I.makeUnlockableTechnology=function(a,b,d,e){a=new I(a,
b,d,e,!0);ka.push(a);return a};I.makeHiddenTechnology=function(a,b,d,e){return new I(a,b,[],d,void 0===e?!1:e)};var ka=[],ta=I.makeUnlockableTechnology("Industrial Engineering","Approaches for optimizing production processes",[],new v(k.EngineeringKnowledge,25)),ua=I.makeUnlockableTechnology("Structural Engineering","Techniques for fabricating large structures on the planet's surface",[],new v(k.EngineeringKnowledge,10));C=I.makeUnlockableTechnology("Colonist Behavior Modeling","Simulations of human behavior in the isolated conditions of a deep space colony",
[],new v(k.SocialKnowledge,30));I.makeUnlockableTechnology("Habitation Pods","Compact and efficient residence units allow more humans to be packed into a small habitat",[C],new v(k.EngineeringKnowledge,15));var M=function(a){a=z.call(this,a)||this;a.texture=qa;a.resourceConversions=[new H([new v(k.Metal,100)],[new v(k.BuildingMaterials,100)],60),new H([new v(k.Metal,100)],[new v(k.Electronics,100)],30)];a.possibleProjects=[new F("Double Production Lines",function(a,c){a=c.world.getTileAtCoordinates(a);
c=$jscomp.makeIterator((new M(new q(0,0))).resourceConversions);for(var b=c.next();!b.done;b=c.next())a.resourceConversions.push(b.value)},[new v(k.BuildingMaterials,175),new v(k.Energy,300)],[],[new V(ta),new ba(2)])];return a};$jscomp.inherits(M,z);M.prototype.getTileName=function(){return M.tileName};M.tileName="Ore Processing Center";var G=function(a){a=z.call(this,a)||this;a.texture=pa;a.possibleProjects=[new F("Strip Mining",function(a,c){c.inventory.addResource(k.Metal,150);c.world.placeTile(new w(a))},
[new v(k.Energy,25)],[],[])];return a};$jscomp.inherits(G,z);G.prototype.getTileName=function(){return G.tileName};G.tileName="Mountain";var N=function(a){a=z.call(this,a)||this;a.texture=oa;a.resourceConversions=[new H([],[new v(k.Energy,100)])];return a};$jscomp.inherits(N,z);N.prototype.getTileName=function(){return N.tileName};N.tileName="Photovoltaic Array";var w=function(a){a=z.call(this,a)||this;a.texture=da;a.possibleProjects=[new F("Construct habitat dome",function(a,c){c.world.placeTile(new D(a))},
[new v(k.BuildingMaterials,100)],[new U(1,D),new V(ua)],[]),new F("Construct ore processing center",function(a,c){c.world.placeTile(new M(a))},[new v(k.Energy,200),new v(k.Metal,300)],[new U(5,G)],[]),new F("Construct photovoltaic array",function(a,c){c.world.placeTile(new N(a))},[new v(k.Electronics,200)],[],[])];return a};$jscomp.inherits(w,z);w.prototype.getTileName=function(){return w.tileName};w.tileName="Wasteland";var J=function(){};J.realBetween=function(a,b){return Math.random()*(b-a)+a};
J.intBetween=function(a,b){return Math.floor(J.realBetween(a,b))};J.fromArray=function(a){return a[J.intBetween(0,a.length)]};var O=function(a){this.width=a.worldWidth;this.height=a.worldHeight;this.grid=Array(this.height);for(var c=0;c<this.height;c++){this.grid[c]=Array(this.width);for(var b=0;b<this.width;b++)this.grid[c][b]=new w(new q(b,c))}c=J.intBetween(a.minMountains,a.maxMountains);for(b=0;b<c;b++){var d=this.getTiles().filter(function(a){return a instanceof w});d=J.fromArray(d).position;
this.placeTile(new G(d))}a=$jscomp.makeIterator(a.nonrandomTiles);for(c=a.next();!c.done;c=a.next())this.placeTile(c.value)};O.prototype.placeTile=function(a){this.grid[a.position.y][a.position.x]=a};O.prototype.getTiles=function(){return aa.flatten(this.grid)};O.prototype.getTilesInRectangle=function(a,b,d,e){0>b&&(b=0);0>a&&(a=0);var c=[];b=this.grid.slice(b,b+e);b=$jscomp.makeIterator(b);for(e=b.next();!e.done;e=b.next()){e=e.value.slice(a,a+d);e=$jscomp.makeIterator(e);for(var h=e.next();!h.done;h=
e.next())c.push(h.value)}return c};O.prototype.getTileAtCoordinates=function(a){return this.grid[a.y][a.x]};O.prototype.getTilesInCircle=function(a,b){return this.getTiles().filter(function(c){return a.distanceFrom(c.position)<=b})};O.prototype.getPopulationCapacity=function(a){for(var c=0,b=$jscomp.makeIterator(this.getTiles()),d=b.next();!d.done;d=b.next())d=d.value,d.populationCapacity&&d.populationCapacity.species==a&&(c+=d.populationCapacity.capacity);return c};var E=function(){this.map=new Map([])};
E.prototype.add=function(a,b){this.set(a,this.get(a)+b)};E.prototype.remove=function(a,b){this.add(a,-1*b)};E.prototype.get=function(a){return this.map.get(a)||0};E.prototype.set=function(a,b){if(0>b)throw"tried to set quantity to negative value";0==b?this.map.delete(a):this.map.set(a,b)};E.prototype.getSum=function(){return Array.from(this.map.values()).reduce(function(a,b){return a+b},0)};E.prototype.positiveQuantityKeys=function(){return Array.from(this.map.keys())};E.prototype.clone=function(){for(var a=
new E,b=$jscomp.makeIterator(this.positiveQuantityKeys()),d=b.next();!d.done;d=b.next())d=d.value,a.add(d,this.get(d));return a};var u=function(a){this.world=a;this.resourceQuantities=new E;this.populationQuantities=new E;this.availableWorkers=0};u.prototype.addResource=function(a,b){this.resourceQuantities.add(a,b)};u.prototype.removeResource=function(a,b){this.resourceQuantities.remove(a,b)};u.prototype.getResourceQuantity=function(a){return this.resourceQuantities.get(a)||0};u.prototype.addWorkers=
function(a,b){this.populationQuantities.add(a,b);this.populationQuantities.set(a,f(0,this.populationQuantities.get(a),this.world.getPopulationCapacity(a)))};u.prototype.releaseWorkers=function(){this.availableWorkers=this.populationQuantities.getSum()};u.prototype.occupyWorkers=function(a){if(this.availableWorkers<a)throw"insufficient workers";if(0>a)throw"tried to occupy a negative number of workers";this.availableWorkers-=a};u.prototype.doPopulationGrowth=function(){for(var a=$jscomp.makeIterator(this.populationQuantities.positiveQuantityKeys()),
b=a.next();!b.done;b=a.next()){b=b.value;var d=Math.floor(b.growthMultiplier*this.populationQuantities.get(b));this.addWorkers(b,d)}};u.prototype.getTotalPopulation=function(){return this.populationQuantities.getSum()};u.prototype.getAvailableWorkers=function(){return this.availableWorkers};u.prototype.canAfford=function(a){var c=this,b=new Map;a=$jscomp.makeIterator(a);for(var d=a.next();!d.done;d=a.next())d=d.value,b.set(d.resource,d.quantity+(b.get(d.resource)||0));return Array.from(b.keys()).every(function(a){var d=
b.get(a);a=c.getResourceQuantity(a);return d<=a})};u.prototype.hasEnoughWorkers=function(a){return this.availableWorkers>=a};u.prototype.payCost=function(a){if(this.canAfford(a)){a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())c=c.value,this.removeResource(c.resource,c.quantity)}else throw"Cannot afford to pay cost";};u.prototype.getResourceList=function(){var a=this;return k.values().filter(function(c){return 0!=a.resourceQuantities.get(c)})};u.prototype.getInventoryStrings=function(){var a=
this;return this.getResourceList().map(function(c){return c.name+": "+a.getResourceQuantity(c)})};u.prototype.getPopulationStrings=function(){var a=this;return this.populationQuantities.positiveQuantityKeys().map(function(c){return a.populationQuantities.get(c)+" "+c.name})};u.prototype.applyConversions=function(a){a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value,this.canAfford(c.inputs)&&this.hasEnoughWorkers(c.requiredWorkers)&&c.enabled){this.payCost(c.inputs);this.occupyWorkers(c.requiredWorkers);
c=$jscomp.makeIterator(c.outputs);for(var b=c.next();!b.done;b=c.next())b=b.value,this.addResource(b.resource,b.quantity)}};u.prototype.clone=function(){var a=new u(this.world);a.resourceQuantities=this.resourceQuantities.clone();a.populationQuantities=this.populationQuantities.clone();a.availableWorkers=this.availableWorkers;return a};var Q=function(a){a=z.call(this,a)||this;a.texture=ra;a.possibleProjects=[new F("Unpack Lander",function(a,c){var b=c.world;b.placeTile(new D(new q(a.x+1,a.y)));b.placeTile(new M(new q(a.x,
a.y-1)));b.placeTile(new N(new q(a.x+1,a.y-1)));b.placeTile(new w(a));c.inventory.addWorkers(B.Human,100)},[],[],[])];return a};$jscomp.inherits(Q,z);Q.prototype.getTileName=function(){return Q.tileName};Q.tileName="Landing Pod";var ha=function(a,b,d,e,f){this.nonrandomTiles=a;this.worldWidth=b;this.worldHeight=d;this.minMountains=e;this.maxMountains=f};ha.standardWorldParameters=function(){var a=[new G(new q(0,0)),new G(new q(1,0)),new G(new q(2,0)),new w(new q(0,1)),new w(new q(1,1)),new w(new q(2,
1)),new w(new q(0,2)),new Q(new q(1,2)),new w(new q(2,2)),new w(new q(0,3)),new w(new q(1,3)),new w(new q(2,4))];return new ha(a,20,20,20,25)};C=function(a,b){this.requirement=a;this.nextStage=b};var R=function(a,b,d,e){this.description=a;this.hint=b;this.paths=d;this.isWinState=void 0===e?!1:e};R.prototype.updatedStage=function(a){for(var c=$jscomp.makeIterator(this.paths),b=c.next();!b.done;b=c.next())if(b=b.value,b.requirement.evaluate(a))return b.nextStage().updatedStage(a);return this};var wa=
new R("Deploy shelter for the colonists","select the "+Q.tileName,[new C(new b(D,1),function(){return va})]),va=new R("Build up at least 100 units of "+k.Energy.name,"the "+N.tileName+" produces "+k.Energy.name+" each turn",[new C(new a(k.Energy,100),function(){return xa})]),xa=new R("Acquire "+k.Metal.name,void 0,[new C(new a(k.Metal,1),function(){return ya})]),ya=new R("Grow total worker population to 250","A "+D.tileName+" has capacity for "+(new D(new q(0,0))).populationCapacity.capacity+" colonists",
[new C(new g(250),function(){return za})]),za=new R("[no current objective]",void 0,[]),y=function(){this.turnNumber=1;this.prevQuestDescription="";this.questCompletionShown=!0;this.completedTechs=[];this.world=new O(ha.standardWorldParameters());this.inventory=new u(this.world);this.questStage=wa};y.prototype.getCurrentQuestDescription=function(){return this.questStage.description};y.prototype.getCurrentQuestHint=function(){return this.questStage.hint};y.prototype.getPreviousQuestDescription=function(){return this.prevQuestDescription};
y.prototype.getResourceConversions=function(){var a=aa.flatten(this.world.getTiles().map(function(a){return a.resourceConversions}));a.sort(function(a,c){return a.priority-c.priority});return a};y.prototype.updateQuestState=function(){var a=this.questStage.updatedStage(this);a!=this.questStage&&(this.prevQuestDescription=this.questStage.description,this.questCompletionShown=!1,this.questStage=a)};y.prototype.hasUnlockedTechnology=function(a){return this.completedTechs.includes(a)};y.prototype.unlockTechnology=
function(a){this.hasUnlockedTechnology(a)||this.completedTechs.push(a)};y.prototype.getUnlockedTechnologies=function(){return this.completedTechs};y.prototype.getResearchOptions=function(){var a=this;return ka.filter(function(a){return a.visible}).filter(function(c){return c.requiredTechs.every(function(c){return a.completedTechs.includes(c)})}).filter(function(c){return!a.hasUnlockedTechnology(c)})};y.prototype.completeTurn=function(){this.inventory.applyConversions(this.getResourceConversions());
this.inventory.releaseWorkers();this.inventory.doPopulationGrowth();this.turnNumber++;this.updateQuestState()};y.prototype.increaseConversionPriority=function(a){if(0!=a.priority){var c=this.getResourceConversions(),b=c.indexOf(a);-1!=b&&0!=b&&(c=c[b-1],0!=c.priority&&(b=$jscomp.makeIterator([c.priority,a.priority]),a.priority=b.next().value,c.priority=b.next().value))}};y.prototype.decreaseConversionPriority=function(a){if(0!=a.priority){var c=this.getResourceConversions(),b=c.indexOf(a);-1!=b&&
b!=c.length-1&&(c=c[b+1],b=$jscomp.makeIterator([c.priority,a.priority]),a.priority=b.next().value,c.priority=b.next().value)}};var Z=function(a,b){this.currentGame=a;this.worldScreen=b};Z.prototype.refresh=function(){this.currentGame.updateQuestState();this.worldScreen.refreshComponents()};Z.prototype.addResource=function(a,b){this.currentGame.inventory.addResource(a,b);this.refresh()};Z.prototype.addPopulation=function(a,b){this.currentGame.inventory.addWorkers(a,b);this.refresh()};var P=function(a,
b){this.text=a;this.attribution=b};P.getRandomQuote=function(){return J.fromArray(this.QuotesList)};P.QuotesList=[new P("I am an example quote","Person McQuoteFace"),new P("Lorem ipsum dolor sit amet","Mx. Example"),new P(A($jscomp$templatelit$0),"Author Goes Here"),new P(A($jscomp$templatelit$1),"Name McNameFace")];var W=function(){this.html=d.makeDiv();this.loadingBar=d.makeDiv(["transition-loading-bar"]);this.loadingArea=d.makeDivContaining([this.loadingBar],["transition-loading-area"]);this.quote=
P.getRandomQuote();var a=this.quote.text,b="\u00a0".repeat(4);a=a.replace(/\t/g,b);a=a.replace(/    /g,b);a=a.replace(/^(\s*)/,"$1\u201c")+"\u201d";d.fillHTML(this.html,[d.makeDivContaining([d.makePara(""+a),d.makePara("-"+this.quote.attribution,["transition-attribution"])],["transition-quote-panel"]),this.loadingArea])};W.prototype.getHTML=function(){return this.html};W.prototype.startLoading=function(){var a=this;setTimeout(function(){return a.loadingArea.classList.add("loading")})};W.prototype.revealButton=
function(){var a=this;setTimeout(function(){return a.loadingArea.classList.add("loaded")});setTimeout(function(){d.fillHTML(a.loadingArea,[d.makeButton("Continue",a.continueToNextTurn)])},750)};W.prototype.continueToNextTurn=function(){t.showWorldScreen()};var K=function(a){this.run=a;this.html=d.makeDiv(["production-screen"]);this.refresh()};K.prototype.refresh=function(){var a=this,b=this.run.inventory.clone(),e=this.run.getResourceConversions().filter(function(a){return a.isFree()}),f=e.map(function(b){return a.renderConversion(b,
!0,!1)});b.applyConversions(e);var g=this.run.getResourceConversions().filter(function(a){return!a.isFree()});e=[];g=$jscomp.makeIterator(g);for(var k=g.next();!k.done;k=g.next())k=k.value,b.canAfford(k.inputs)&&b.hasEnoughWorkers(k.requiredWorkers)?(e.push(this.renderConversion(k,!0,!0)),b.applyConversions([k])):e.push(this.renderConversion(k,!1,!0));d.fillHTML(this.html,[d.makePara("Resource Production Report",["production-screen-label"]),d.makePara("Available workers at start of next production cycle: "+
this.run.inventory.getAvailableWorkers(),["production-screen-label"]),d.makePara("Resources available at start of next production cycle:",["production-screen-label"]),this.renderInventory(this.run.inventory),d.makePara("Resource generation in next production cycle:",["production-screen-label"]),d.makeDivContaining(f),d.makePara("Resource conversion in next production cycle:",["production-screen-label"]),d.makeDivContaining(e),d.makePara("Unused workers at end of next production cycle: "+b.getAvailableWorkers(),
["production-screen-label"]),d.makePara("Resources available at end of next production cycle:",["production-screen-label"]),this.renderInventory(b),d.makeButton("Back",function(){t.showWorldScreen()},["production-screen-back-button"])])};K.prototype.getHTML=function(){return this.html};K.prototype.renderInventory=function(a){a=a.getInventoryStrings().map(function(a){return d.makePara(a)});0==a.length&&a.push(d.makePara("(none)"));return d.makeDivContaining(a,["production-screen-inventory"])};K.prototype.renderConversion=
function(a,b,e){var c=this,f=d.makeDiv(["flex-horizontal"]),h=a.toString(),g="conversion-description-normal";a.enabled?b||(h="(cannot afford) "+a.toString(),g="conversion-description-cannot-afford"):(h="(disabled) "+a.toString(),g="conversion-description-disabled");f.appendChild(d.makeButton(h,function(){c.toggle(a)},[g,"conversion-description"]));e&&(f.appendChild(d.makeButton("Move Up",function(){return c.moveConversionUp(a)})),f.appendChild(d.makeButton("Move Down",function(){return c.moveConversionDown(a)})));
return f};K.prototype.moveConversionUp=function(a){this.run.increaseConversionPriority(a);this.refresh()};K.prototype.moveConversionDown=function(a){this.run.decreaseConversionPriority(a);this.refresh()};K.prototype.toggle=function(a){a.enabled=!a.enabled;this.refresh()};a=function(a,b){this.name=a;this.roles=b};var la=[new a("Grace Rarer",["Team Lead","Gameplay Programmer"]),new a("Prindle",["DevOps"]),new a("May Lawver",["Programmer (HTML Composition Code)"])],ma=function(){};ma.render=function(){var a=
la.map(function(a){return d.makePara(a.name,["credits-name"])}),b=la.map(function(a){return d.makePara(a.roles.join(", "),["credits-roles"])});return d.makeDivContaining([d.makeHeader("Credits",1),d.makeDivContaining([d.makeDivContaining(a,["credits-names-column"]),d.makeDivContaining(b)],["credits-container"]),d.makeButton("Back",function(){return t.showMainMenu()})],["credits"])};var ca=function(a){this.run=a;this.html=d.makeDiv();this.refresh()};ca.prototype.getHTML=function(){return this.html};
ca.prototype.refresh=function(){var a=this,b=d.makeHeader("Available Research Projects"),e=this.run.getResearchOptions(),f=d.makeDivContaining(e.map(function(b){return a.renderTechOption(b)}));0==e.length&&(b=d.makeDiv());e=d.makeHeader("Previous Research Projects");var g=this.run.getUnlockedTechnologies().filter(function(a){return a.visible}).map(function(a){return d.makePara(a.name)});0==g.length&&(e=d.makeDiv());var k=d.makeButton("Back",function(){t.showWorldScreen()},[]);d.fillHTML(this.html,
[b,f,e].concat($jscomp.arrayFromIterable(g),[k]))};ca.prototype.renderTechOption=function(a){for(var b=this,c=d.makeDivContaining([d.makePara(a.name),d.makePara(a.description),d.makePara("Development cost: "+a.researchCost)]),e=0,f=$jscomp.makeIterator(a.requiredTechs),g=f.next();!g.done;g=f.next())g=g.value,this.run.hasUnlockedTechnology(g)||(e++,c.appendChild(d.makePara("Requires "+g.name+" research")));e=0==e&&this.run.inventory.canAfford([a.researchCost]);c.appendChild(d.makeButton("Conduct Research",
function(){b.run.unlockTechnology(a);b.refresh()},[],!e));return c};var t=function(){};t.showMainMenu=function(){l();d.fillHTML(this.rootDiv,[ja.renderMainMenu()])};t.showCredits=function(){l();d.fillHTML(this.rootDiv,[ma.render()])};t.startGame=function(){this.currentRun=new y;this.showWorldScreen()};t.showWorldScreen=function(){var a=new T(this.currentRun);d.fillHTML(this.rootDiv,[a.getHTML()]);n(this.currentRun,a);document.onkeydown=function(b){a.handleKeyDown(b)}};t.showProductionScreen=function(){l();
var a=new K(this.currentRun);d.fillHTML(this.rootDiv,[a.getHTML()])};t.showResearchScreen=function(){l();var a=new ca(this.currentRun);d.fillHTML(this.rootDiv,[a.getHTML()])};t.transitionToNextTurn=function(){l();var a=new W;d.fillHTML(this.rootDiv,[a.getHTML()]);a.startLoading();this.currentRun.completeTurn();a.revealButton()};t.rootDiv=document.getElementById("rootdiv");window.onload=function(){console.log("Script Loaded");Promise.all(ia).then(function(){t.showMainMenu()})}}]);}).call(this || window)
</script><script type="text/javascript">(function(){'use strict';}).call(this || window)
</script></body> </html> 