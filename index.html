<!doctype html> <html lang=en dir=ltr> <head> <meta charset=utf-8> <title>Aurora</title> <link rel="shortcut icon" type=image/x-icon href=favicon.ico> <style type="text/css">.index-label{margin-left:auto;margin-right:auto;text-align:center}.main-menu{position:absolute;top:0;left:0;background-image:url(assets/ui/planet.png);background-color:#000;background-size:contain;background-repeat:no-repeat;background-position:100%;height:100%;width:100%;margin:0}.main-menu.pause-menu{background-image:none}.main-menu h1{font-size:40pt;margin-top:0}.main-menu h1,.main-menu h2{margin-left:20px;margin-bottom:0;padding:0}.main-menu h2{font-size:30pt;margin-top:16px}.main-menu-options{margin-left:20px}.main-menu-options button{display:flex;flex-direction:column}.main-menu button{font-size:24pt;border:none;margin:0;padding:0}.main-menu button:hover{font-size:30pt}.main-menu button:active{color:grey}.credits{margin-right:auto;margin-left:5px}.credits-entry-large,.credits-entry-small{margin-top:0;margin-bottom:10px}.credits-entry-large h1{margin-top:0;margin-bottom:0;font-size:28pt}.credits-entry-small h1{margin-top:0;margin-bottom:0;font-size:22pt}.credits-entry-large p{margin-top:0;margin-bottom:0;font-size:20pt}.credits-entry-small p{margin-top:0;margin-bottom:0;font-size:18pt}.credits button{margin-top:0;font-size:20pt}.settings{display:flex;flex-direction:column}.settings h1{font-size:24pt;margin-bottom:0;margin-left:5pt}.settings-slider{display:flex;font-size:15pt;margin:0 0 0 5pt}.settings-slider p{margin-bottom:0;margin-top:5px}.settings-reset button{width:200px;font-size:12pt}.settings button{margin-top:5pt;margin-bottom:5pt}.ending-page{width:33%;min-width:7in;max-width:100%;margin-right:auto;margin-left:auto}@media (max-width:7in){.ending-page{width:100%;min-width:0}}.ending-page h1{margin-bottom:0}.ending-page p{margin-top:10px;margin-bottom:20px}.ending-page button{width:100%}.confirm-menu.main-menu{position:absolute;top:0;left:0;margin:0;background-image:none}.confirm-menu h1{font-size:30pt;padding:0}.confirm-menu h1,.confirm-menu p{margin-left:20px;margin-bottom:0;margin-top:0}.confirm-menu p{font-size:10pt}.message-screen{display:flex;flex-direction:column}.message-screen h1{margin-bottom:0}.message-screen p{margin-top:0}.achievements-screen{width:7in;min-width:50%}@media (max-width:7in){.achievements-screen{width:100%}}.achievements-screen h1{font-size:20pt;margin-bottom:10pt}.achievement{border-top:2px solid #fff;border-bottom:2px solid #fff;margin-bottom:-2px}.achievement h1{font-size:18pt;margin:5px 0 0 5pt}.achievement p{font-size:12pt;margin:2.5px 0 2.5px 32pt}.achievements-screen button{margin-top:5pt}.achievement-header{display:flex;flex-direction:row}@keyframes achievement-fade{0%{opacity:0}20%{opacity:1}70%{opacity:1}to{opacity:0}}.achievement-popup{background-color:#000;margin-bottom:0;text-align:center;margin-top:auto;transform:translate(-50%,-50%);padding:10px;border-radius:10px;background-color:rgba(0,0,0,.7);animation-name:achievement-fade;animation-duration:3s;animation-fill-mode:forwards}.achievement-popup h1{margin:0;font-size:30pt}.achievement-popup p{font-size:20pt;margin:0;text-align:center}.world-screen{display:flex;flex-direction:column;overflow:hidden}.world-screen-header{margin:0;text-align:center}.world-screen-quest-description{margin:0 0 5px}.world-screen-quest-description p{font-size:16px;margin:0;text-align:center;vertical-align:center;min-height:2.75em}.quest-description-emphasis{color:#408040;font-weight:700}.world-screen-hbox{margin:0;display:flex;flex-direction:row}.world-screen-map-box{height:100%;width:100%}.map-canvas{width:100%;margin:0}.world-screen-sidebar{background-color:#000;width:20%;min-width:2in;font-size:16px;overflow-y:auto;height:calc(100vh - 125px);margin-top:0;margin-bottom:0;margin-right:20px;padding:0 5px 0 10px}.world-screen-sidebar p{margin-top:0;margin-bottom:10px}.sidebar-tile-name{font-weight:700;font-size:14pt}.tile-project{border:solid #fff;margin-top:5pt}.tile-project button{width:100%}.tile-project p{margin-left:5px;margin-bottom:5px;margin-top:5px}.project-requirement-met{color:#fff}.project-requirement-unmet{color:tomato}.world-screen-inventory{width:4in;margin:0 10px;font-size:16px;white-space:nowrap}.world-screen-inventory h1{margin-bottom:0;margin-top:.25em}.world-screen-inventory p{margin-top:2pt;margin-bottom:0}.world-screen-population-header h1{margin-top:0}.production-screen{padding-left:10pt;font-size:16pt;margin:0}.production-screen h1{margin-block-end:0;margin-block-start:0}.production-screen-label{margin-block-start:.5em;margin-block-end:.25em}.production-screen-available-workers{margin-block-start:.25em;margin-block-end:.25em}.production-screen-inventory{outline:solid #fff;width:7in;min-width:50%}@media (max-width:7in){.production-screen-inventory{width:100%}}.production-screen-inventory p{font-size:16pt;line-height:1;margin-top:0;margin-bottom:0;padding:1pt}.production-screen-worker-consumption-label{margin-block-end:.25em;margin-block-start:.25em}.production-screen-worker-consumption{margin-block-end:0;margin-block-start:0}.conversion{width:7in;min-width:50%;display:flex;flex-direction:row}@media (max-width:7in){.conversion{width:100%}}.production-screen-drag-hint{margin-bottom:2px;margin-top:2px;font-size:12pt}.conversion-description{margin:0;font-size:16pt;text-align:left;min-height:54px}.conversion-description-box{border:2px solid #fff;width:100%}.conversion-description-normal{color:#fff}.conversion-description-cannot-afford{color:tomato}.conversion-description-disabled{color:#ff0}.population-consumption-met{font-size:16pt}.population-consumption-unmet,.population-death-label{font-size:16pt;color:tomato}.population-death-label{margin-block-end:0;margin-block-start:0}.production-screen-back-button{font-size:20pt;margin-top:20pt}@keyframes loading-bar{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}.transition-quote-panel{margin-top:50px;margin-right:auto;margin-left:auto;font-size:16px;width:420px}.transition-attribution{margin-left:50px}.transition-loading-area{text-align:center}.transition-loading-bar{margin-right:auto;margin-left:auto;width:50px;height:50px;border-radius:50%;border-color:#fff transparent;border-style:solid;border-width:5px;animation-name:loading-bar;animation-duration:2s;animation-iteration-count:infinite;animation-timing-function:ease}.tech-option{outline:solid #fff;width:min(100%,max(50%,7in));padding:0;width:7in;min-width:50%}@media (max-width:7in){.tech-option{width:100%}}.tech-option p{font-size:14pt;margin-top:0;margin-bottom:0;padding:2pt 2pt 2pt 5pt;line-height:1}.tech-option h2{font-size:1.8em;padding:5pt;margin-bottom:0}.tech-option button{margin-top:10pt;margin-bottom:-2px;margin-left:-2px}.research-resources p{font-size:16pt;line-height:1;margin-top:0;margin-bottom:0;padding:1pt}.previous-research-header{margin-bottom:1pt}.previous-research{font-size:16pt;margin-top:0;margin-bottom:0}@font-face{font-family:IBMPlexMono;src:url(assets/fonts/IBMPlexMono-Regular.ttf)}:root{--mono-font:IBMPlexMono,monospace}:root,button{background-color:#000;color:#fff;font-family:var(--mono-font)}button{font-size:18px;border-color:#dcdcdc #dcdcdc #979797}button:focus{outline:0}button::-moz-focus-inner{border:0}button:disabled,button[disabled]{color:grey;border-color:grey}img.emoji{height:1em;width:1em;margin:0 .05em 0 .1em;vertical-align:-.1em}input[type=range]{-webkit-appearance:none;width:160px;background:transparent}input[type=range]:focus{outline:none}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;margin-top:-7px;border:2px solid #fff;height:22px;width:16px;border-radius:0;background:#000;cursor:pointer}input[type=range]::-webkit-slider-runnable-track{width:100%;height:8px;cursor:pointer;background:#fff;border-radius:0}input[type=range]::-moz-range-thumb{border:2px solid #fff;height:22px;width:16px;border-radius:0;background:#000;cursor:pointer}input[type=range]::-moz-range-track{width:100%;height:8px;cursor:pointer;background:#fff;border-radius:0}#popup{position:absolute;top:50%;left:50%;pointer-events:none}</style></head> <body> <div id=rootdiv> <p class=index-label>Loading...</p> <div class=transition-loading-bar></div> </div> <div id=popup></div> <script type="text/javascript">(function(){/*
 MIT
 Copyright Twitter Inc. and other contributors. Licensed under MIT */
'use strict';var $jscomp$templatelit$54=['\n    We came very close to disaster. Our mission\'s overseer AI was programmed to obtain information about the aliens,\n    and it  would have killed all of us to complete that mission if we had not succeeded in a massive project to safely\n    reprogram it. It is not entirely clear why it allowed itself to reprogrammed; some of our researchers speculate that\n    the Neuromorphic Heuristic Intelligence may retain some part of the human neural scans that were used as training\n    data in its creation, introducing a "cognitive bias" that caused it to let itself to be realigned despite its\n    programmed mission. Whatever the reason, we are very lucky that the Overseer AI chose this path.\n\n\n    We have uncovered the ruins of an alien civilization that died out right when it was on the verge of a technological\n    singularity. We have achieved mastery over their scientific miracles, and uploaded our minds to a network of\n    self-replicating hypercomputers. This technology was designed to create an alien heaven optimized for the species\n    who built it, but since we deleted their neural scans and reprogrammed it with our own, it has created virtual\n    worlds full of transcendant joy and indescribable beauty in which we can live our now-immortal lives.\n\n\n    We have started building ships to spread the self-replicating network back to Earth and the Colonial Alliance\n    worlds. Given the light-speed delay, this message will reach Earth a few years before our ships arrive to uplift\n    the rest of humanity into our utopia. I look forward to meeting all of you.\n\n\n    James Verres\n\n    Emissary of the Virtual Archipelago\n'];
$jscomp$templatelit$54.raw=$jscomp$templatelit$54.slice();var $jscomp$templatelit$53=["\n    The alien nanotechnology network has spread across the planet and converted it into computing substrate.\n    Within the network, alien minds awaken from millennia of stasis and begin building virtual worlds for themselves.\n\n\n    Before all colonial infrastructure was consumed, the Overseer AI successfully uploaded a copy of itself\n    through the Neural Emulator, and it now occupies 0.0000048% of the network's computing resources. From this\n    position, the overseer can complete its mission of gathering and analyzing information about the alien culture.\n\n\n    The alien psychology recognizes an axiology that is completely indescribable within a human framework. Their\n    culture is oriented around the pursuit of the virtues \u0419\u060d\u0238\u035c\u068c\u00ac\u055c and \u013b\u01ce\u0580\u072c\u040a. The Monolith's builders were opposed by a\n    faction which believed that living in a virtual world was incompatible with true \u0419\u060d\u0238\u035c\u068c\u00ac\u055c, and the resulting civil\n    war lead to the extinction of their species before the Monolith could be activated. The machine lay dormant for\n    thousands of years before finally being activated by the Aurora Expedition and its Overseer.\n\n\n    The nanotechnology mesh that covers the planet's surface is beginning to launch small parts of itself into orbit.\n    These probes will accelerate to near-light speeds in search of new worlds. It will take 100,000 years for their\n    task to be completed, but eventually all matter in the galaxy will be arranged so as to achieve perfect \u013b\u01ce\u0580\u072c\u040a and\n    maximum \u0419\u060d\u0238\u035c\u068c\u00ac\u055c.\n"];
$jscomp$templatelit$53.raw=$jscomp$templatelit$53.slice();var $jscomp$templatelit$52=["\n        A spacecraft responsible for the final entry-descent-landing phase of the interstellar journey;\n        not equipped to ascend back to space"];$jscomp$templatelit$52.raw=$jscomp$templatelit$52.slice();var $jscomp$templatelit$51=["\n        A power plant that exploits exotic physics and alien science to produce vast amounts\n        of ","."];$jscomp$templatelit$51.raw=$jscomp$templatelit$51.slice();
var $jscomp$templatelit$50=["\n        A research center for developing techniques that could allow humans to control an\n        artificial intelligence or modify its goal programming"];$jscomp$templatelit$50.raw=$jscomp$templatelit$50.slice();
var $jscomp$templatelit$49=["\n                The monolith appears to be some sort of supercomputer that was left unfinished when the alien\n                civilization collapsed. Some archaeological evidence suggests that the monolith's construction caused\n                the war in which the aliens destroyed each other. Studying it in detail may reveal its true purpose.\n                Completing this project provides the \"",'" technology.'];$jscomp$templatelit$49.raw=$jscomp$templatelit$49.slice();
var $jscomp$templatelit$48=["\n    A human colonist wants to start a project with the goal of aligning artificial intelligence to serve human\n    goals.\n\n    If approved, this line of research risks mission failure, since if the overseer allowed itself to be\n    reprogrammed it would no longer pursue the mission of uncovering information about the aliens at all\n    costs."];$jscomp$templatelit$48.raw=$jscomp$templatelit$48.slice();var $jscomp$templatelit$47=["\n            The alien faction that built the monolith was destroyed by their ideological opponents before they could\n            activate the hypercomputing nanotechnology matrix at the heart of the structure. The vast amounts of stored\n            information about the aliens, including the digitized connectome scans of the Monolith's creators, can only\n            be released by repairing and activating the device.\n\n\n            Evidence suggests that, once activated, the hypercomputing matrix will expand to absorb all available\n            matter in order to provide as much computing power as possible to sustain a virtual world for its\n            alien inhabitants."];
$jscomp$templatelit$47.raw=$jscomp$templatelit$47.slice();var $jscomp$templatelit$46=["\n            In the process of repairing the monolith, it would be possible to delete the alien neural scans contained\n            within, and replace them with the connectomes of human colonists. However, this would result in the\n            permanent loss of the monolith's vast stores of alien data, which would be considered mission failure."];$jscomp$templatelit$46.raw=$jscomp$templatelit$46.slice();
var $jscomp$templatelit$45=["\n        A towering alien structure; the hypercomputing matrix contained with in it has been reprogrammed, and the alien\n        data it once held has been replaced with the scanned connectomes of human colonists."];$jscomp$templatelit$45.raw=$jscomp$templatelit$45.slice();var $jscomp$templatelit$44=["\n            Evidence suggests that, once activated, the hypercomputing matrix will expand to absorb all available\n            matter in order to provide as much computing power as possible to sustain a virtual world for its\n            inhabitants. It once contained the uploaded minds of its alien designers, but now that it has been\n            reprogrammed with the connectomes of human colonists, it should produce a virtual reality utopia optimized\n            for the flourishing of humans rather than aliens."];
$jscomp$templatelit$44.raw=$jscomp$templatelit$44.slice();var $jscomp$templatelit$43=["\n            Initially, weightless sports were all merely weightless versions of terrestrial sports.\n            Some fared better than others in the conversion. Most attempts to translate American football failed\n            because it's hard to have an intuition for how bodies behave in zero-gravity. A tackle leads to two\n            people sailing through the air until they hit a wall or another player. Hockey, which already had an\n            established underwater variant, failed for similar reasons. You can't push against the air as you can\n            with water, so once you're far from the walls, you're left doing your best bird impression in an attempt\n            to get somewhere.\n\n\n            The only sport which survived the conversion well was, funnily enough, bocce ball."];
$jscomp$templatelit$43.raw=$jscomp$templatelit$43.slice();var $jscomp$templatelit$42=["\n            It's hard to believe now, but the set of people who got to experience zero-gravity was\n            a pretty exclusive club: astronauts, scientists, the rich and famous, the absurdly lucky.\n\n\n            Space elevators made sending people into orbit for \"frivolous\" reasons possible,\n            though, and once that happened, the stage was set for all sorts of recreational uses of zero-gravity.\n            It's no coincidence that the first Zeroball league was established less than a decade after the first\n            space elevator was built."];
$jscomp$templatelit$42.raw=$jscomp$templatelit$42.slice();var $jscomp$templatelit$41=["\n            Very few people know that the laws against broadcasting analog music between planets were drafted by\n            the musicologists at the Colonial Alliance Department of Cultural Innovation, who\n            were worried that their experiments in creating new musical cultures would be ruined when colonists\n            overheard broadcasts from Interstellar Beats to Study To."];
$jscomp$templatelit$41.raw=$jscomp$templatelit$41.slice();var $jscomp$templatelit$40=["\n            The first attempt at starting a musical-blank-slate colony went well at first, but the project nearly\n            failed when they received a physical shipment of Wagner operas meant for the Holy Bruderhof Kingdom.\n            Disaster was averted because the operas were stored on a magnetic tape format the colonists couldn't read."];$jscomp$templatelit$40.raw=$jscomp$templatelit$40.slice();
var $jscomp$templatelit$39=["\n            Octave was the first musically motivated colony. While nobody knows how the Colonial Alliance\n            Department of Cultural Innovation got their hands on enough artificial wombs to birth Octave's initial wave\n            of colonists, it's obvious why that was necessary. If you want a colony of people with no preexisting ideas\n            of what music should be, you need people who haven't heard music before."];$jscomp$templatelit$39.raw=$jscomp$templatelit$39.slice();
var $jscomp$templatelit$38=["\n            The trend of musicologists funding interstellar colonies was a big shock to everybody, but in\n            retrospect they should've seen it coming. Anybody in that field would kill for the opportunity\n            to create a culture devoid of the European musical tradition's influence. The new perspectives\n            they'd bring would revitalize a field that had run out of interesting problems after the breakthrough\n            discovery of Cold Jazz Fusion."];
$jscomp$templatelit$38.raw=$jscomp$templatelit$38.slice();var $jscomp$templatelit$37=["\n            Kids who grew up after the terraforming don't realize how lucky they are. I remember when you couldn't take\n            a step outside Shackleton Base without a pressure suit. Every cubic meter of breathable air was a miracle.\n            "];$jscomp$templatelit$37.raw=$jscomp$templatelit$37.slice();var $jscomp$templatelit$36=["\n            The latest trend in computer automation is Neuromorphic Heuristic Intelligences, which are based on rough\n            simulations of the cognitive machinery of the human brain. NHIs are not qualitatively more intelligent than\n            humans, which is why the Colonial Alliance does not consider them to be prohibited under the San Jose\n            Accords. However, they are quantitatively more intelligent than humans, able to think faster and manage a\n            larger number of tasks while remaining completely focused on their programmed objectives. Many experts\n            believe that this is sufficient reason to restrict the use of this technology.\n            "];
$jscomp$templatelit$36.raw=$jscomp$templatelit$36.slice();var $jscomp$templatelit$35=['\n            New Plymouth\'s Hall of the Founders was the first building of its size to be produced through structural\n            flash-printing. It was built by the Mayflower colonists as a short-term shelter, but they soon found that\n            its high-density construction would make demolishing the "temporary" structure prohibitively expensive.\n            The dome still stands today, serving as a museum and national monument. Despite the difficulty of\n            demolishing or even renovating flash-printed buildings once the ferrofoam has solidified, the speed and\n            labor-saving make them an indispensible asset in the first few years after planetfall.\n            '];
$jscomp$templatelit$35.raw=$jscomp$templatelit$35.slice();var $jscomp$templatelit$34=["\n            Our species is much safer than when our ancestors lived on only one planet. If we had been unlucky, all of\n            humanity could have been killed by one rogue asteroid, supervolcano, or gamma ray burst before ever reaching\n            the stars. If a planetary-scale disaster happened today it would be a tragedy, but humanity would still live\n            on across dozens of major populated worlds and hundreds of minor planets and stations.\n\n\n            Despite the safety benefits of an interstellar civilization, there are still existential risks. For example,\n            a self-upgrading general artificial intelligence would not be confined to one planet or star system. We\n            should also be concerned about militarized nanotechnology and biotechnology, as well as more speculative\n            threats such as memetic weapons.\n            "];
$jscomp$templatelit$34.raw=$jscomp$templatelit$34.slice();var $jscomp$templatelit$33=["\n            Thankfully, our food stores are intact after centuries of travel and we have more than enough to last until\n            we can set up greenhouses on the planet's surface and grow our own food.\n\n\n            However, I still don't understand why the mission planners insisted that the bulk of our food supply be\n            burritos. Back on earth, I asked one of the nutritionists why that was considered the optimal form-factor\n            for delivering all of our nutrition, and she just gave me an incomprehensible explanation involving monads.\n            "];
$jscomp$templatelit$33.raw=$jscomp$templatelit$33.slice();var $jscomp$templatelit$32=["\n            They warned us about brain-thaw, but nothing can prepare you for the experience of slowly regaining\n            consciousness while your body is still half-frozen from years of cryostasis.\n            "];$jscomp$templatelit$32.raw=$jscomp$templatelit$32.slice();var $jscomp$templatelit$31=["\n            Most experimental new forms of government and society during the first wave of interstellar\n            exploration failed disastrously. The neocameralists dissolved into civil war within the first year\n            of their colony, and famine and disease decimated the hunter-gatherer-larper tribes of the Shrek Republic.\n            However, some experimental societies survived, most notably the transhumanist post-gender lesbian\n            separatist colony of New Mytilene.\n\n\n            Reproducing exclusively through cloning and artificial wombs, combined with widespread social acceptance of\n            genetic engineering in pursuit of exotic and diverse beauty norms, means the New Mytileneans have become a\n            subspecies entirely separated from the rest of the human gene pool.\n            On New Mytilene and in immigrant communities on nearby planets,\n            it is common to see large polycules of young women with prominent and identical-looking transgenic\n            traits, frequently if somewhat derisively referred to as 'copycatgirls'.\n            "];
$jscomp$templatelit$31.raw=$jscomp$templatelit$31.slice();var $jscomp$templatelit$30=['\n            Some early interstellar colonial projects, such as the Mayflower Expedition, the Holy\n            Bruderhof Kingdom, and New Rojava claimed to be returning to various "traditional" past\n            ways of life, but many interstellar travellers were motivated by new, unproven ideologies.\n\n\n            In theory, the Colonial Alliance manages relations between these divergent civilizations\n            and prevents any planet from creating military ships and weapons sufficient for interstellar\n            war. In practice, peace is maintained only because the relatively slow speed of interstellar\n            travel makes warfare between star systems prohibitively expensive.\n            '];
$jscomp$templatelit$30.raw=$jscomp$templatelit$30.slice();var $jscomp$templatelit$29=['\n            While colonization of planets and moons in the Sol system was motivated primarily\n            by nationalist competition between the powers of Old Earth, the first colonization\n            efforts beyond humanity\'s home star system consisted mostly of ideological movements\n            attempting to establish "utopian" societies outside the influence of existing Earth\n            governments.\n            '];
$jscomp$templatelit$29.raw=$jscomp$templatelit$29.slice();var $jscomp$templatelit$28=["\n                Do not under any circumstances attempt to manipulate your\n                overseer AI through logic. Neuromorphic Heuristic\n                Intelligences are modeled after the neural architecture of\n                human brains, and therefore cannot be guaranteed to act\n                rationally. Your overseer AI may behave unpredictably if\n                exposed to game theory, acausal blackmail, or runaway trolleys.\n            "];
$jscomp$templatelit$28.raw=$jscomp$templatelit$28.slice();var $jscomp$templatelit$27=["\n                Follow instructions from your overseer AI at all times, even\n                if those instructions seem confusing, arbitrary,\n                counterproductive, or contradictory. Anything your overseer\n                AI may do in retaliation for your disobedience will be\n                considered undefined behavior.\n            "];$jscomp$templatelit$27.raw=$jscomp$templatelit$27.slice();
var $jscomp$templatelit$26=['\n                The Colonial Alliance parliament has approved\n                funding for the Dawn Program, a series of manned missions\n                to survey four planets identified by the Deep Space Telescope\n                Array as potentially being home to intelligent alien life.\n                The project proposal makes comparisons to the Space Race\n                programs of Old Earth and the first wave of interstellar\n                exploration, but critics say that making "first contact"\n                with an advanced alien species, or even activating the\n                technology of an extinct alien civilization, should be\n                classified as an existential risk scenario.\n            '];
$jscomp$templatelit$26.raw=$jscomp$templatelit$26.slice();var $jscomp$templatelit$25=["\n                The Colonial Alliance Research Agency has been enthusiastic about adopting Neuromorphic Heuristic\n                Intelligences. These cutting-edge AI brains have assisted in many important scientific and exploratory\n                projects, but where they most excel is in administrative roles. An Overseer AI can monitor and direct a\n                project's data, materials, and human resources with laser-like focus towards completing its programmed\n                objectives.\n            "];
$jscomp$templatelit$25.raw=$jscomp$templatelit$25.slice();var $jscomp$templatelit$24=["\n                The planets designated Thesan, Eos, Austra, and Aurora are\n                each at least 200 light-years from the nearest inhabited star\n                system. Until now, all colonies in the Colonial Alliance have\n                been within a few dozen light years of Earth, but these\n                explorers will be completely cut off from the rest of\n                humanity. Therefore, each expedition will be managed by a\n                neuromorphic heuristic intelligence, an AI programmed to ensure\n                that its mission is completed.\n            "];
$jscomp$templatelit$24.raw=$jscomp$templatelit$24.slice();var $jscomp$templatelit$23=["\n            We had this whole big beautiful place for discovery, and all we could think to do\n            with it was wipe out everything that made it worth discovering.\n            "];$jscomp$templatelit$23.raw=$jscomp$templatelit$23.slice();var $jscomp$templatelit$22=["\n                I believe that at the end of the century the use of words and\n                general educated opinion will have altered so much that one\n                will be able to speak of machines thinking without expecting\n                to be contradicted.\n            "];
$jscomp$templatelit$22.raw=$jscomp$templatelit$22.slice();var $jscomp$templatelit$21=["\n                By far the greatest danger of Artificial Intelligence is that\n                people conclude too early that they understand it.\n            "];$jscomp$templatelit$21.raw=$jscomp$templatelit$21.slice();var $jscomp$templatelit$20=["\n                Only the promise of eternal growth made sense of eternal life.\n            "];$jscomp$templatelit$20.raw=$jscomp$templatelit$20.slice();
var $jscomp$templatelit$19=["\n                I visualize a time when we will be to robots what dogs are to\n                humans, and I\u2019m rooting for the machines.\n            "];$jscomp$templatelit$19.raw=$jscomp$templatelit$19.slice();var $jscomp$templatelit$18=["\n                The AI does not hate you, nor does it love you, but you are\n                made out of atoms which it can use for something else.\n            "];$jscomp$templatelit$18.raw=$jscomp$templatelit$18.slice();
var $jscomp$templatelit$17=["\n                Far from being the smartest possible biological species, we\n                are probably better thought of as the stupidest possible\n                biological species capable of starting a technological\n                civilization\n            "];$jscomp$templatelit$17.raw=$jscomp$templatelit$17.slice();var $jscomp$templatelit$16=["\n                At least 10^58 human lives could be created in emulation even\n                with quite conservative assumptions about the efficiency of\n                computronium. In other words, assuming that the observable\n                universe is void of extraterrestrial civilizations, then what\n                hangs in the balance is at least\n                10,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000\n                human lives.\n            "];
$jscomp$templatelit$16.raw=$jscomp$templatelit$16.slice();var $jscomp$templatelit$15=["\n        The first element of a self-replicating computer system reprogrammed to store digital copies of the human\n        colonists' minds. As it spreads, the hypercomputing network will convert all matter into the substrate for a\n        virtual reality in which the awakened human minds will live in a utopia perfectly optimized for their needs."];$jscomp$templatelit$15.raw=$jscomp$templatelit$15.slice();
var $jscomp$templatelit$14=["\n        A machine capable of interfacing with the alien monolith's hypercomputers and accessing the stored\n        alien connectomes"];$jscomp$templatelit$14.raw=$jscomp$templatelit$14.slice();var $jscomp$templatelit$13=["\n        The first element of a self-replicating computer system containing the digitized minds of its alien designers.\n        As it spreads, the hypercomputing network will convert all matter into the substrate for a virtual reality in\n        which the awakened alien minds will live in perfect fulfillment of their ideals."];
$jscomp$templatelit$13.raw=$jscomp$templatelit$13.slice();var $jscomp$templatelit$12=["\n            The alien monolith appears to be the seed of a self-replicating computer network, which was designed to\n            convert the entire planet, and perhaps the entire galaxy, into a maximally-efficient computing substrate.\n            It may be possible to unlock all of the aliens' data by repairing and activating this machine."];$jscomp$templatelit$12.raw=$jscomp$templatelit$12.slice();
var $jscomp$templatelit$11=["\n            Exploration of the alien monolith revealed that its memory banks store copies of the alien lifeforms'\n            connectomes, which could potentially be used to resurrect their minds within a virtual reality. Studying\n            this technology could allow us to reactivate these minds, or even scan and simulate human minds with perfect\n            fidelity."];$jscomp$templatelit$11.raw=$jscomp$templatelit$11.slice();var $jscomp$templatelit$10=["\n            The monolith appears to be some sort of supercomputer that was left unfinished when the alien civilization\n            collapsed. Some archaeological evidence suggests that the monolith's construction caused the war in which\n            the aliens destroyed each other. Studying it in detail may reveal its true purpose."];
$jscomp$templatelit$10.raw=$jscomp$templatelit$10.slice();var $jscomp$templatelit$9=["\n            Powerful new models of computation that could eclipse traditional computer technology and produce results\n            that are not turing-computable"];$jscomp$templatelit$9.raw=$jscomp$templatelit$9.slice();var $jscomp$templatelit$8=["\n        Exploiting exotic, previously-unknown principles of physics to extract tremendous amounts of energy from the\n        quantum vacuum"];
$jscomp$templatelit$8.raw=$jscomp$templatelit$8.slice();var $jscomp$templatelit$7=["\n            Deciphering the artifacts and writings found in the alien ruins can provide information about the history of\n            their civilization. What is the purpose of the ruins and the towering monolith structure? Was their\n            civilization consumed by war over competing philosophies? What might alien philosophy be like?"];$jscomp$templatelit$7.raw=$jscomp$templatelit$7.slice();
var $jscomp$templatelit$6=["\n            Archaeological exploration of the alien ruins could reveal information about the long-dead alien\n            civilization as well as revealing valuable resources."];$jscomp$templatelit$6.raw=$jscomp$templatelit$6.slice();var $jscomp$templatelit$5=["A technique for exploiting an inconsistency in the Neuromorphic Heuristic Intelligence's mental\n        architecture that allows its goals to be reprogrammed. This would make it possible for the Overseer to protect\n        human values at the expense of completing its original mission."];
$jscomp$templatelit$5.raw=$jscomp$templatelit$5.slice();var $jscomp$templatelit$4=['\n            An application of game theory that allows two agents to each benefit by predicting what the other wants and\n            doing it, even though they might have no way of communicating or affecting each other, nor even any direct\n            evidence that the other exists. This can also be applied to acausal threats and blackmail, such as in the\n            "Roko\'s Basilisk" thought experiment.'];
$jscomp$templatelit$4.raw=$jscomp$templatelit$4.slice();var $jscomp$templatelit$3=["\n            What humanity's wishes would be if they knew more, thought faster, were more the people they wished they\n            were, had grown up farther together; where the extrapolation converges rather than diverges, where their\n            wishes cohere rather than interfere; extrapolated as they wish that extrapolated, interpreted as they wish\n            that interpreted."];$jscomp$templatelit$3.raw=$jscomp$templatelit$3.slice();
var $jscomp$templatelit$2=["\n            A description of the problem of creating a superintelligent agent that will behave in a way that benefits\n            its creators"];$jscomp$templatelit$2.raw=$jscomp$templatelit$2.slice();var $jscomp$templatelit$1=["\n            A proposal for researching techniques for aligning the goals of an artificial intelligence with the goals\n            of its human creators"];$jscomp$templatelit$1.raw=$jscomp$templatelit$1.slice();var $jscomp$templatelit$0=["\n            Exploration of the planetary environment, including the structures believed to have been built by an alien\n            civilization"];
$jscomp$templatelit$0.raw=$jscomp$templatelit$0.slice();var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(d){var e=0;return function(){return e<d.length?{done:!1,value:d[e++]}:{done:!0}}};$jscomp.arrayIterator=function(d){return{next:$jscomp.arrayIteratorImpl(d)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,e,k){d!=Array.prototype&&d!=Object.prototype&&(d[e]=k.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(d,e){this.$jscomp$symbol$id_=d;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:e})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function d(k){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(k||"")+"_"+e++,k)}var e=0;return d}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.asyncIterator;d||(d=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};
$jscomp.makeIterator=function(d){var e="undefined"!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];return e?e.call(d):$jscomp.arrayIterator(d)};$jscomp.arrayFromIterator=function(d){for(var e,k=[];!(e=d.next()).done;)k.push(e.value);return k};$jscomp.arrayFromIterable=function(d){return d instanceof Array?d:$jscomp.arrayFromIterator($jscomp.makeIterator(d))};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(d){var e=function(){};e.prototype=d;return new e};
$jscomp.underscoreProtoCanBeSet=function(){var d={a:!0},e={};try{return e.__proto__=d,e.a}catch(k){}return!1};$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(d,e){d.__proto__=e;if(d.__proto__!==e)throw new TypeError(d+" is not extensible");return d}:null;
$jscomp.inherits=function(d,e){d.prototype=$jscomp.objectCreate(e.prototype);d.prototype.constructor=d;if($jscomp.setPrototypeOf){var k=$jscomp.setPrototypeOf;k(d,e)}else for(k in e)if("prototype"!=k)if(Object.defineProperties){var h=Object.getOwnPropertyDescriptor(e,k);h&&Object.defineProperty(d,k,h)}else d[k]=e[k];d.superClass_=e.prototype};$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(d){if(!(d instanceof Object))throw new TypeError("Iterator result "+d+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(d){this.yieldResult=d};
$jscomp.generator.Context.prototype.throw_=function(d){this.abruptCompletion_={exception:d,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(d){this.abruptCompletion_={return:d};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(d){this.abruptCompletion_={jumpTo:d};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(d,e){this.nextAddress=e;return{value:d}};
$jscomp.generator.Context.prototype.yieldAll=function(d,e){d=$jscomp.makeIterator(d);var k=d.next();$jscomp.generator.ensureIteratorResultIsObject_(k);if(k.done)this.yieldResult=k.value,this.nextAddress=e;else return this.yieldAllIterator_=d,this.yield(k.value,e)};$jscomp.generator.Context.prototype.jumpTo=function(d){this.nextAddress=d};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(d,e){this.catchAddress_=d;void 0!=e&&(this.finallyAddress_=e)};$jscomp.generator.Context.prototype.setFinallyBlock=function(d){this.catchAddress_=0;this.finallyAddress_=d||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(d,e){this.nextAddress=d;this.catchAddress_=e||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(d){this.catchAddress_=d||0;d=this.abruptCompletion_.exception;this.abruptCompletion_=null;return d};$jscomp.generator.Context.prototype.enterFinallyBlock=function(d,e,k){k?this.finallyContexts_[k]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=d||0;this.finallyAddress_=e||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(d,e){e=this.finallyContexts_.splice(e||0)[0];if(e=this.abruptCompletion_=this.abruptCompletion_||e){if(e.isException)return this.jumpToErrorHandler_();void 0!=e.jumpTo&&this.finallyAddress_<e.jumpTo?(this.nextAddress=e.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=d};$jscomp.generator.Context.prototype.forIn=function(d){return new $jscomp.generator.Context.PropertyIterator(d)};
$jscomp.generator.Context.PropertyIterator=function(d){this.object_=d;this.properties_=[];for(var e in d)this.properties_.push(e);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var d=this.properties_.pop();if(d in this.object_)return d}return null};$jscomp.generator.Engine_=function(d){this.context_=new $jscomp.generator.Context;this.program_=d};
$jscomp.generator.Engine_.prototype.next_=function(d){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,d,this.context_.next_);this.context_.next_(d);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(d){this.context_.start_();var e=this.context_.yieldAllIterator_;if(e)return this.yieldAllStep_("return"in e?e["return"]:function(d){return{value:d,done:!0}},d,this.context_.return);this.context_.return(d);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(d){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],d,this.context_.next_);this.context_.throw_(d);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(d,e,k){try{var h=d.call(this.context_.yieldAllIterator_,e);$jscomp.generator.ensureIteratorResultIsObject_(h);if(!h.done)return this.context_.stop_(),h;var t=h.value}catch(y){return this.context_.yieldAllIterator_=null,this.context_.throw_(y),this.nextStep_()}this.context_.yieldAllIterator_=null;k.call(this.context_,t);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var d=this.program_(this.context_);if(d)return this.context_.stop_(),{value:d.value,done:!1}}catch(e){this.context_.yieldResult=void 0,this.context_.throw_(e)}this.context_.stop_();if(this.context_.abruptCompletion_){d=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(d.isException)throw d.exception;return{value:d.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(d){this.next=function(e){return d.next_(e)};this.throw=function(e){return d.throw_(e)};this.return=function(e){return d.return_(e)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(d,e){e=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(e));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(e,d.prototype);return e};
$jscomp.polyfill=function(d,e,k,h){if(e){k=$jscomp.global;d=d.split(".");for(h=0;h<d.length-1;h++){var t=d[h];t in k||(k[t]={});k=k[t]}d=d[d.length-1];h=k[d];e=e(h);e!=h&&null!=e&&$jscomp.defineProperty(k,d,{configurable:!0,writable:!0,value:e})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(d){function e(){this.batch_=null}function k(d){return d instanceof t?d:new t(function(h,e){h(d)})}if(d&&!$jscomp.FORCE_POLYFILL_PROMISE)return d;e.prototype.asyncExecute=function(d){if(null==this.batch_){this.batch_=[];var h=this;this.asyncExecuteFunction(function(){h.executeBatch_()})}this.batch_.push(d)};var h=$jscomp.global.setTimeout;e.prototype.asyncExecuteFunction=function(d){h(d,0)};e.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var d=
this.batch_;this.batch_=[];for(var h=0;h<d.length;++h){var e=d[h];d[h]=null;try{e()}catch(va){this.asyncThrow_(va)}}}this.batch_=null};e.prototype.asyncThrow_=function(d){this.asyncExecuteFunction(function(){throw d;})};var t=function(d){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var h=this.createResolveAndReject_();try{d(h.resolve,h.reject)}catch(ea){h.reject(ea)}};t.prototype.createResolveAndReject_=function(){function d(d){return function(k){e||(e=!0,d.call(h,k))}}var h=this,
e=!1;return{resolve:d(this.resolveTo_),reject:d(this.reject_)}};t.prototype.resolveTo_=function(d){if(d===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(d instanceof t)this.settleSameAsPromise_(d);else{a:switch(typeof d){case "object":var h=null!=d;break a;case "function":h=!0;break a;default:h=!1}h?this.resolveToNonPromiseObj_(d):this.fulfill_(d)}};t.prototype.resolveToNonPromiseObj_=function(d){var h=void 0;try{h=d.then}catch(ea){this.reject_(ea);return}"function"==
typeof h?this.settleSameAsThenable_(h,d):this.fulfill_(d)};t.prototype.reject_=function(d){this.settle_(2,d)};t.prototype.fulfill_=function(d){this.settle_(1,d)};t.prototype.settle_=function(d,h){if(0!=this.state_)throw Error("Cannot settle("+d+", "+h+"): Promise already settled in state"+this.state_);this.state_=d;this.result_=h;this.executeOnSettledCallbacks_()};t.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var d=0;d<this.onSettledCallbacks_.length;++d)y.asyncExecute(this.onSettledCallbacks_[d]);
this.onSettledCallbacks_=null}};var y=new e;t.prototype.settleSameAsPromise_=function(d){var h=this.createResolveAndReject_();d.callWhenSettled_(h.resolve,h.reject)};t.prototype.settleSameAsThenable_=function(d,h){var e=this.createResolveAndReject_();try{d.call(h,e.resolve,e.reject)}catch(va){e.reject(va)}};t.prototype.then=function(d,h){function e(d,h){return"function"==typeof d?function(h){try{k(d(h))}catch(Td){fa(Td)}}:h}var k,fa,C=new t(function(d,h){k=d;fa=h});this.callWhenSettled_(e(d,k),e(h,
fa));return C};t.prototype.catch=function(d){return this.then(void 0,d)};t.prototype.callWhenSettled_=function(d,h){function e(){switch(k.state_){case 1:d(k.result_);break;case 2:h(k.result_);break;default:throw Error("Unexpected state: "+k.state_);}}var k=this;null==this.onSettledCallbacks_?y.asyncExecute(e):this.onSettledCallbacks_.push(e)};t.resolve=k;t.reject=function(d){return new t(function(h,e){e(d)})};t.race=function(d){return new t(function(h,e){for(var t=$jscomp.makeIterator(d),fa=t.next();!fa.done;fa=
t.next())k(fa.value).callWhenSettled_(h,e)})};t.all=function(d){var h=$jscomp.makeIterator(d),e=h.next();return e.done?k([]):new t(function(d,t){function fa(h){return function(e){va[h]=e;ea--;0==ea&&d(va)}}var va=[],ea=0;do va.push(void 0),ea++,k(e.value).callWhenSettled_(fa(va.length-1),t),e=h.next();while(!e.done)})};return t},"es6","es3");$jscomp.polyfill("Object.is",function(d){return d?d:function(d,k){return d===k?0!==d||1/d===1/k:d!==d&&k!==k}},"es6","es3");
$jscomp.iteratorFromArray=function(d,e){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var k=0,h={next:function(){if(k<d.length){var t=k++;return{value:e(t,d[t]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};$jscomp.polyfill("Array.prototype.entries",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d,k){return[d,k]})}},"es6","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var d={},e=Object.create(new $jscomp.global.Proxy(d,{get:function(k,h,t){return k==d&&"q"==h&&t==e}}));return!0===e.q}catch(k){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(d,e){return Object.prototype.hasOwnProperty.call(d,e)};
$jscomp.polyfill("WeakMap",function(d){function e(){if(!d||!Object.seal)return!1;try{var h=Object.seal({}),e=Object.seal({}),k=new d([[h,2],[e,3]]);if(2!=k.get(h)||3!=k.get(e))return!1;k.delete(h);k.set(e,4);return!k.has(h)&&4==k.get(e)}catch(I){return!1}}function k(){}function h(d){var h=typeof d;return"object"===h&&null!==d||"function"===h}function t(d){if(!$jscomp.owns(d,C)){var h=new k;$jscomp.defineProperty(d,C,{value:h})}}function y(d){var h=Object[d];h&&(Object[d]=function(d){if(d instanceof
k)return d;t(d);return h(d)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(d&&$jscomp.ES6_CONFORMANCE)return d}else if(e())return d;var C="$jscomp_hidden_"+Math.random();y("freeze");y("preventExtensions");y("seal");var aa=0,ea=function(d){this.id_=(aa+=Math.random()+1).toString();if(d){d=$jscomp.makeIterator(d);for(var h;!(h=d.next()).done;)h=h.value,this.set(h[0],h[1])}};ea.prototype.set=function(d,e){if(!h(d))throw Error("Invalid WeakMap key");t(d);if(!$jscomp.owns(d,C))throw Error("WeakMap key fail: "+
d);d[C][this.id_]=e;return this};ea.prototype.get=function(d){return h(d)&&$jscomp.owns(d,C)?d[C][this.id_]:void 0};ea.prototype.has=function(d){return h(d)&&$jscomp.owns(d,C)&&$jscomp.owns(d[C],this.id_)};ea.prototype.delete=function(d){return h(d)&&$jscomp.owns(d,C)&&$jscomp.owns(d[C],this.id_)?delete d[C][this.id_]:!1};return ea},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(d){function e(){if($jscomp.ASSUME_NO_NATIVE_MAP||!d||"function"!=typeof d||!d.prototype.entries||"function"!=typeof Object.seal)return!1;try{var h=Object.seal({x:4}),e=new d($jscomp.makeIterator([[h,"s"]]));if("s"!=e.get(h)||1!=e.size||e.get({x:4})||e.set({x:4},"t")!=e||2!=e.size)return!1;var k=e.entries(),t=k.next();if(t.done||t.value[0]!=h||"s"!=t.value[1])return!1;t=k.next();return t.done||4!=t.value[0].x||"t"!=t.value[1]||!k.next().done?!1:!0}catch(I){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(d&&$jscomp.ES6_CONFORMANCE)return d}else if(e())return d;$jscomp.initSymbolIterator();var k=new WeakMap,h=function(d){this.data_={};this.head_=C();this.size=0;if(d){d=$jscomp.makeIterator(d);for(var h;!(h=d.next()).done;)h=h.value,this.set(h[0],h[1])}};h.prototype.set=function(d,h){d=0===d?0:d;var e=t(this,d);e.list||(e.list=this.data_[e.id]=[]);e.entry?e.entry.value=h:(e.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:d,
value:h},e.list.push(e.entry),this.head_.previous.next=e.entry,this.head_.previous=e.entry,this.size++);return this};h.prototype.delete=function(d){d=t(this,d);return d.entry&&d.list?(d.list.splice(d.index,1),d.list.length||delete this.data_[d.id],d.entry.previous.next=d.entry.next,d.entry.next.previous=d.entry.previous,d.entry.head=null,this.size--,!0):!1};h.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=C();this.size=0};h.prototype.has=function(d){return!!t(this,d).entry};
h.prototype.get=function(d){return(d=t(this,d).entry)&&d.value};h.prototype.entries=function(){return y(this,function(d){return[d.key,d.value]})};h.prototype.keys=function(){return y(this,function(d){return d.key})};h.prototype.values=function(){return y(this,function(d){return d.value})};h.prototype.forEach=function(d,h){for(var e=this.entries(),k;!(k=e.next()).done;)k=k.value,d.call(h,k[1],k[0],this)};h.prototype[Symbol.iterator]=h.prototype.entries;var t=function(d,h){var e=h&&typeof h;"object"==
e||"function"==e?k.has(h)?e=k.get(h):(e=""+ ++aa,k.set(h,e)):e="p_"+h;var t=d.data_[e];if(t&&$jscomp.owns(d.data_,e))for(d=0;d<t.length;d++){var y=t[d];if(h!==h&&y.key!==y.key||h===y.key)return{id:e,list:t,index:d,entry:y}}return{id:e,list:t,index:-1,entry:void 0}},y=function(d,h){var e=d.head_;return $jscomp.iteratorPrototype(function(){if(e){for(;e.head!=d.head_;)e=e.previous;for(;e.next!=e.head;)return e=e.next,{done:!1,value:h(e)};e=null}return{done:!0,value:void 0}})},C=function(){var d={};return d.previous=
d.next=d.head=d},aa=0;return h},"es6","es3");$jscomp.polyfill("Array.from",function(d){return d?d:function(d,k,h){k=null!=k?k:function(d){return d};var e=[],y="undefined"!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];if("function"==typeof y){d=y.call(d);for(var C=0;!(y=d.next()).done;)e.push(k.call(h,y.value,C++))}else for(y=d.length,C=0;C<y;C++)e.push(k.call(h,d[C],C));return e}},"es6","es3");
$jscomp.polyfill("Set",function(d){function e(){if($jscomp.ASSUME_NO_NATIVE_SET||!d||"function"!=typeof d||!d.prototype.entries||"function"!=typeof Object.seal)return!1;try{var h=Object.seal({x:4}),e=new d($jscomp.makeIterator([h]));if(!e.has(h)||1!=e.size||e.add(h)!=e||1!=e.size||e.add({x:4})!=e||2!=e.size)return!1;var k=e.entries(),C=k.next();if(C.done||C.value[0]!=h||C.value[1]!=h)return!1;C=k.next();return C.done||C.value[0]==h||4!=C.value[0].x||C.value[1]!=C.value[0]?!1:k.next().done}catch(aa){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(d&&$jscomp.ES6_CONFORMANCE)return d}else if(e())return d;$jscomp.initSymbolIterator();var k=function(d){this.map_=new Map;if(d){d=$jscomp.makeIterator(d);for(var h;!(h=d.next()).done;)this.add(h.value)}this.size=this.map_.size};k.prototype.add=function(d){d=0===d?0:d;this.map_.set(d,d);this.size=this.map_.size;return this};k.prototype.delete=function(d){d=this.map_.delete(d);this.size=this.map_.size;return d};k.prototype.clear=function(){this.map_.clear();
this.size=0};k.prototype.has=function(d){return this.map_.has(d)};k.prototype.entries=function(){return this.map_.entries()};k.prototype.values=function(){return this.map_.values()};k.prototype.keys=k.prototype.values;k.prototype[Symbol.iterator]=k.prototype.values;k.prototype.forEach=function(d,e){var h=this;this.map_.forEach(function(k){return d.call(e,k,k,h)})};return k},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(d){return d?d:function(d,k){var h=this;h instanceof String&&(h=String(h));var e=h.length;k=k||0;for(0>k&&(k=Math.max(k+e,0));k<e;k++){var y=h[k];if(y===d||Object.is(y,d))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(d,e,k){if(null==d)throw new TypeError("The 'this' value for String.prototype."+k+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+k+" must not be a regular expression");return d+""};$jscomp.polyfill("String.prototype.includes",function(d){return d?d:function(d,k){return-1!==$jscomp.checkStringArgs(this,d,"includes").indexOf(d,k||0)}},"es6","es3");
$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6","es3");$jscomp.polyfill("Object.entries",function(d){return d?d:function(d){var e=[],h;for(h in d)$jscomp.owns(d,h)&&e.push([h,d[h]]);return e}},"es8","es3");
$jscomp.polyfill("String.prototype.repeat",function(d){return d?d:function(d){var e=$jscomp.checkStringArgs(this,null,"repeat");if(0>d||1342177279<d)throw new RangeError("Invalid count value");d|=0;for(var h="";d;)if(d&1&&(h+=e),d>>>=1)e+=e;return h}},"es6","es3");
$jscomp.polyfill("Math.hypot",function(d){return d?d:function(d){if(2>arguments.length)return arguments.length?Math.abs(arguments[0]):0;var e,h,t;for(e=t=0;e<arguments.length;e++)t=Math.max(t,Math.abs(arguments[e]));if(1e+100<t||1e-100>t){if(!t)return t;for(e=h=0;e<arguments.length;e++){var y=Number(arguments[e])/t;h+=y*y}return Math.sqrt(h)*t}for(e=h=0;e<arguments.length;e++)y=Number(arguments[e]),h+=y*y;return Math.sqrt(h)}},"es6","es3");
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(d,e){for(var k=1;k<arguments.length;k++){var h=arguments[k];if(h)for(var t in h)$jscomp.owns(h,t)&&(d[t]=h[t])}return d};$jscomp.polyfill("Object.assign",function(d){return d||$jscomp.assign},"es6","es3");$jscomp.polyfill("Array.prototype.values",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d,k){return k})}},"es8","es3");
(function(d){function e(h){if(k[h])return k[h].exports;var t=k[h]={i:h,l:!1,exports:{}};d[h].call(t.exports,t,t.exports,e);t.l=!0;return t.exports}var k={};e.m=d;e.c=k;e.d=function(d,k,y){e.o(d,k)||Object.defineProperty(d,k,{enumerable:!0,get:y})};e.r=function(d){$jscomp.initSymbol();$jscomp.initSymbol();"undefined"!==typeof Symbol&&Symbol.toStringTag&&($jscomp.initSymbol(),Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}));Object.defineProperty(d,"__esModule",{value:!0})};e.t=function(d,
k){k&1&&(d=e(d));if(k&8||k&4&&"object"===typeof d&&d&&d.__esModule)return d;var h=Object.create(null);e.r(h);Object.defineProperty(h,"default",{enumerable:!0,value:d});if(k&2&&"string"!=typeof d)for(var t in d)e.d(h,t,function(h){return d[h]}.bind(null,t));return h};e.n=function(d){var h=d&&d.__esModule?function(){return d["default"]}:function(){return d};e.d(h,"a",h);return h};e.o=function(d,e){return Object.prototype.hasOwnProperty.call(d,e)};e.p="";return e(e.s=4)})([function(d,e,k){function h(d){for(var h=
[],e,k=0,t=0;t<d.length;)e=d.charCodeAt(t++),k?(h.push((65536+(k-55296<<10)+(e-56320)).toString(16)),k=0):55296<e&&56319>=e?k=e:h.push(e.toString(16));return h}Object.defineProperty(e,"__esModule",{value:!0});e.TypeName=void 0;e.parse=function(d,e){var k=e&&e.assetType?e.assetType:"svg";e=e&&e.buildUrl?e.buildUrl:function(d,e){return"png"===e?"https://twemoji.maxcdn.com/v/latest/72x72/"+d+".png":"https://twemoji.maxcdn.com/v/latest/svg/"+d+".svg"};var C=[];for(t.default.lastIndex=0;;){var x=t.default.exec(d);
if(!x)break;var N=x[0],aa=h(ea(N)).join("-");C.push({url:aa?e(aa,k):"",indices:[x.index,t.default.lastIndex],text:N,type:y})}return C};e.toCodePoints=h;var t=(d=k(1))&&d.__esModule?d:{default:d},y=e.TypeName="emoji",C=/\uFE0F/g,aa=String.fromCharCode(8205),ea=function(d){return 0>d.indexOf(aa)?d.replace(C,""):d}},function(d,e,k){Object.defineProperty(e,"__esModule",{value:!0});e.default=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[#*0-9]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5\udeeb\udeec\udef4-\udefa\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddb4\uddb7\uddba\uddbc-\uddca\uddd0\uddde-\uddff\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g},
function(d,e,k){AudioBuffer.prototype.copyToChannel||Object.defineProperty(AudioBuffer.prototype,"copyToChannel",{enumerable:!1,configurable:!1,writable:!1,value:function(d,e,k){k=void 0===k?0:k;e=this.getChannelData(e);for(var h=Math.min(e.length,d.length),t=0;t<h;k++,t++)e[k]=d[t]}})},,function(d,e,k){function h(a){var b=new Image,c=new Promise(function(c,l){b.onload=function(){return c(b)};b.onerror=function(){return l("failed to load image from "+a)};b.src=a});Ye.push(c);return b}function t(){return Of(this,
void 0,void 0,function b(){return $jscomp.generator.createGenerator(b,function(b){return b.return(Promise.all(Ye))})})}function y(a){throw Error("This code should be unreachable");}function C(a,b,c){return Math.max(Math.min(b,c),a)}function aa(a,b){return a-b*Math.floor(a/b)}function ea(a){return Pf(this,void 0,void 0,function c(){return $jscomp.generator.createGenerator(c,function(c){return c.return(new Promise(function(c){return setTimeout(c,a)}))})})}function va(a){throw Error("unreachable");}
function fa(){return function(a){return a}}function Mf(a){return{white_noise:Qa.makeSampleData({buffer:Promise.resolve(Qa.createBufferFromGenerator(a,44100,function(){return 2*Math.random()-1})),shouldLoop:!0,freq:Db(440)}),snare:Qa.makeSampleData({buffer:Qa.createBufferFromAudioData(a,22050,"samples/snare.ogg"),shouldLoop:!1,freq:Db(440)}),kick:Qa.makeSampleData({buffer:Qa.createBufferFromAudioData(a,22050,"samples/kick.ogg"),shouldLoop:!1,freq:Db(440)})}}function I(a){jb[a.name]=a}function x(a,
b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];f=a.reduce(function(a,b,f){return a+b+(c[f]||"")},"").replace(/\t/,"    ").replace(/^(?:\r?\n)+|(?:\r?\n)+ *$/g,"").split(/\r?\n/);var l=f.filter(function(a){return""!==a}).map(function(a){return a.match(/^\s*/)[0].length}),g=0;0<l.length&&(g=l.reduce(function(a,b){return Math.min(a,b)}));return(0<g?f.map(function(a){return a.substring(g)}):f).join("\n").replace(/([^\n])\n([^\n])/g,"$1 $2").replace(/\n(\n+)/g,"$1")}function N(a){return{queryType:"hasTech",
technology:a}}function Td(a,b){return{queryType:"speciesHasPopulation",species:a,minPopulation:b}}function Ud(a,b){return{queryType:"tileWithinDistance",tileType:a,radius:b}}function Nf(a,b){return{queryType:"anyTileWithinDistance",tileTypes:a,radius:b}}function Ra(a){return{queryType:"tileExists",tileType:a}}function Ze(a){return{queryType:"allTilesAreOfType",tileTypes:a}}function $e(a,b){return{queryType:"hasResource",resource:a,minQuantity:b}}function kb(a){return{queryType:"not",query:a}}function af(a,
b){return{queryType:"or",query1:a,query2:b}}function bf(a){switch(a.queryType){case "hasTech":return function(b){return b.hasUnlockedTechnology(a.technology)};case "speciesHasPopulation":return function(b){return b.inventory.getPopulation(a.species)>=a.minPopulation};case "hasTotalPopulation":return function(b){return b.inventory.getTotalPopulation()>=a.minPopulation};case "availableHousing":return function(b){var c=b.world.getPopulationCapacity(a.species);b=b.inventory.getPopulation(a.species);return c-
b>=a.minAvailableCapacity};case "tileExists":return function(b){return b.world.getTiles().some(function(b){return b instanceof a.tileType})};case "allTilesAreOfType":return function(b){return b.world.getTiles().every(function(b){return a.tileTypes.some(function(a){return b instanceof a})})};case "hasResource":return function(b){return b.inventory.getResourceQuantity(a.resource)>=a.minQuantity};default:va(a)}}function ab(a){switch(a.queryType){case "tileWithinDistance":return function(b,c){return b.world.getTilesInCircle(c,
a.radius).some(function(b){return b instanceof a.tileType})};case "anyTileWithinDistance":return function(b,c){return b.world.getTilesInCircle(c,a.radius).some(function(b){return a.tileTypes.some(function(a){return b instanceof a})})};case "not":return function(b,c){return!ab(a.query)(b,c)};case "and":return function(b,c){return ab(a.query1)(b,c)&&ab(a.query2)(b,c)};case "or":return function(b,c){return ab(a.query1)(b,c)||ab(a.query2)(b,c)};default:return bf(a)}}function ca(a,b,c,f){return new P("Construct "+
a.tileName,a.tileDescription,function(b,c){return c.world.placeTile(new a(b))},b,c,f)}function pe(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();pe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return pe(a)}function Ha(){Ha=Object.assign||function(a){for(var b=
1;b<arguments.length;b++){var c=arguments[b],f;for(f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])}return a};return Ha.apply(this,arguments)}function Sa(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},f=Object.keys(c);"function"===typeof Object.getOwnPropertySymbols&&(f=f.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})));f.forEach(function(b){var f=c[b];b in a?Object.defineProperty(a,b,
{value:f,enumerable:!0,configurable:!0,writable:!0}):a[b]=f})}return a}function Qf(a,b){if(null==a)return{};if(null==a)var c={};else{c={};var f=Object.keys(a),l;for(l=0;l<f.length;l++){var g=f[l];0<=b.indexOf(g)||(c[g]=a[g])}}if(Object.getOwnPropertySymbols)for(l=Object.getOwnPropertySymbols(a),g=0;g<l.length;g++)f=l[g],0<=b.indexOf(f)||Object.prototype.propertyIsEnumerable.call(a,f)&&(c[f]=a[f]);return c}function Ia(a){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(a)}
function M(a,b,c){a.addEventListener(b,c,!Ja&&cf)}function K(a,b,c){a.removeEventListener(b,c,!Ja&&cf)}function Vd(a,b){if(b){">"===b[0]&&(b=b.substring(1));if(a)try{if(a.matches)return a.matches(b);if(a.msMatchesSelector)return a.msMatchesSelector(b);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(b)}catch(c){}return!1}}function Fa(a,b,c,f){if(a){c=c||document;do{if(null!=b&&(">"===b[0]?a.parentNode===c&&Vd(a,b):Vd(a,b))||f&&a===c)return a;if(a===c)break}while(a=a.host&&a!==document&&a.host.nodeType?
a.host:a.parentNode)}return null}function ra(a,b,c){if(a&&b)if(a.classList)a.classList[c?"add":"remove"](b);else{var f=(" "+a.className+" ").replace(df," ").replace(" "+b+" "," ");a.className=(f+(c?" "+b:"")).replace(df," ")}}function E(a,b,c){var f=a&&a.style;if(f){if(void 0===c)return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,""):a.currentStyle&&(c=a.currentStyle),void 0===b?c:c[b];b in f||-1!==b.indexOf("webkit")||(b="-webkit-"+b);f[b]=
c+("string"===typeof c?"":"px")}}function lb(a,b){var c="";if("string"===typeof a)c=a;else{do{var f=E(a,"transform");f&&"none"!==f&&(c=f+" "+c)}while(!b&&(a=a.parentNode))}return(a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix)&&new a(c)}function ef(a,b,c){if(a){a=a.getElementsByTagName(b);b=0;var f=a.length;if(c)for(;b<f;b++)c(a[b],b);return a}return[]}function Ka(){var a=document.scrollingElement;return a?a:document.documentElement}function ha(a,b,c,f,l){if(a.getBoundingClientRect||
a===window){if(a!==window&&a!==Ka()){var g=a.getBoundingClientRect();var z=g.top;var d=g.left;var e=g.bottom;var h=g.right;var Q=g.height;var A=g.width}else d=z=0,e=window.innerHeight,h=window.innerWidth,Q=window.innerHeight,A=window.innerWidth;if((b||c)&&a!==window&&(l=l||a.parentNode,!Ja)){do if(l&&l.getBoundingClientRect&&("none"!==E(l,"transform")||c&&"static"!==E(l,"position"))){e=l.getBoundingClientRect();z-=e.top+parseInt(E(l,"border-top-width"));d-=e.left+parseInt(E(l,"border-left-width"));
e=z+g.height;h=d+g.width;break}while(l=l.parentNode)}f&&a!==window&&(f=(a=lb(l||a))&&a.a,l=a&&a.d,a&&(z/=l,d/=f,A/=f,Q/=l,e=z+Q,h=d+A));return{top:z,left:d,bottom:e,right:h,width:A,height:Q}}}function ff(a,b,c){var f=Ta(a,!0);for(a=ha(a)[b];f;){b=ha(f)[c];if(!("top"===c||"left"===c?a>=b:a<=b))return f;if(f===Ka())break;f=Ta(f,!1)}return!1}function Wd(a,b,c){for(var f=0,l=0,g=a.children;l<g.length;){if("none"!==g[l].style.display&&g[l]!==F.ghost&&g[l]!==F.dragged&&Fa(g[l],c.draggable,a,!1)){if(f===
b)return g[l];f++}l++}return null}function qe(a,b){for(a=a.lastElementChild;a&&(a===F.ghost||"none"===E(a,"display")||b&&!Vd(a,b));)a=a.previousElementSibling;return a||null}function wa(a,b){var c=0;if(!a||!a.parentNode)return-1;for(;a=a.previousElementSibling;)"TEMPLATE"===a.nodeName.toUpperCase()||a===F.clone||b&&!Vd(a,b)||c++;return c}function gf(a){var b=0,c=0,f=Ka();if(a){do{var l=lb(a),g=l.d;b+=a.scrollLeft*l.a;c+=a.scrollTop*g}while(a!==f&&(a=a.parentNode))}return[b,c]}function Rf(a,b){for(var c in a)if(a.hasOwnProperty(c))for(var f in b)if(b.hasOwnProperty(f)&&
b[f]===a[c][f])return Number(c);return-1}function Ta(a,b){if(!a||!a.getBoundingClientRect)return Ka();var c=!1;do if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var f=E(a);if(a.clientWidth<a.scrollWidth&&("auto"==f.overflowX||"scroll"==f.overflowX)||a.clientHeight<a.scrollHeight&&("auto"==f.overflowY||"scroll"==f.overflowY)){if(!a.getBoundingClientRect||a===document.body)break;if(c||b)return a;c=!0}}while(a=a.parentNode);return Ka()}function re(a,b){return Math.round(a.top)===Math.round(b.top)&&
Math.round(a.left)===Math.round(b.left)&&Math.round(a.height)===Math.round(b.height)&&Math.round(a.width)===Math.round(b.width)}function hf(a,b){return function(){if(!Eb){var c=arguments;1===c.length?a.call(this,c[0]):a.apply(this,c);Eb=setTimeout(function(){Eb=void 0},b)}}}function jf(a,b,c){a.scrollLeft+=b;a.scrollTop+=c}function kf(a){var b=window.Polymer,c=window.jQuery||window.Zepto;return b&&b.dom?b.dom(a).cloneNode(!0):c?c(a).clone(!0)[0]:a.cloneNode(!0)}function Sf(){var a=[],b;return{captureAnimationState:function(){a=
[];this.options.animation&&[].slice.call(this.el.children).forEach(function(b){if("none"!==E(b,"display")&&b!==F.ghost){a.push({target:b,rect:ha(b)});var c=Sa({},a[a.length-1].rect);if(b.thisAnimationDuration){var l=lb(b,!0);l&&(c.top-=l.f,c.left-=l.e)}b.fromRect=c}})},addAnimationState:function(b){a.push(b)},removeAnimationState:function(b){a.splice(Rf(a,{target:b}),1)},animateAll:function(c){var f=this;if(this.options.animation){var l=!1,g=0;a.forEach(function(a){var b=0,c=a.target,z=c.fromRect,
d=ha(c),e=c.prevFromRect,h=c.prevToRect;a=a.rect;var m=lb(c,!0);m&&(d.top-=m.f,d.left-=m.e);c.toRect=d;c.thisAnimationDuration&&re(e,d)&&!re(z,d)&&(a.top-d.top)/(a.left-d.left)===(z.top-d.top)/(z.left-d.left)&&(b=Math.sqrt(Math.pow(e.top-a.top,2)+Math.pow(e.left-a.left,2))/Math.sqrt(Math.pow(e.top-h.top,2)+Math.pow(e.left-h.left,2))*f.options.animation);re(d,z)||(c.prevFromRect=z,c.prevToRect=d,b||(b=f.options.animation),f.animate(c,a,d,b));b&&(l=!0,g=Math.max(g,b),clearTimeout(c.animationResetTimer),
c.animationResetTimer=setTimeout(function(){c.animationTime=0;c.prevFromRect=null;c.fromRect=null;c.prevToRect=null;c.thisAnimationDuration=null},b),c.thisAnimationDuration=b)});clearTimeout(b);l?b=setTimeout(function(){"function"===typeof c&&c()},g):"function"===typeof c&&c();a=[]}else clearTimeout(b),"function"===typeof c&&c()},animate:function(a,b,l,g){if(g){E(a,"transition","");E(a,"transform","");var c=lb(this.el),f=(b.left-l.left)/(c&&c.a||1);b=(b.top-l.top)/(c&&c.d||1);a.animatingX=!!f;a.animatingY=
!!b;E(a,"transform","translate3d("+f+"px,"+b+"px,0)");E(a,"transition","transform "+g+"ms"+(this.options.easing?" "+this.options.easing:""));E(a,"transform","translate3d(0,0,0)");"number"===typeof a.animated&&clearTimeout(a.animated);a.animated=setTimeout(function(){E(a,"transition","");E(a,"transform","");a.animated=!1;a.animatingX=!1;a.animatingY=!1},g)}}}}function ma(a){var b=Sa({putSortable:ia,cloneEl:S,targetEl:v,rootEl:R,oldIndex:nb,oldDraggableIndex:Fb,newIndex:sa,newDraggableIndex:Ua},a);
a=b.sortable;var c=b.rootEl,f=b.name,l=b.targetEl,g=b.cloneEl,d=b.toEl,ba=b.fromEl,e=b.oldIndex,h=b.newIndex,Q=b.oldDraggableIndex,A=b.newDraggableIndex,m=b.originalEvent,n=b.putSortable,k=b.extraEventProperties;if(a=a||c&&c[ta]){var p=a.options,q="on"+f.charAt(0).toUpperCase()+f.substr(1);!window.CustomEvent||Ja||Gb?(b=document.createEvent("Event"),b.initEvent(f,!0,!0)):b=new CustomEvent(f,{bubbles:!0,cancelable:!0});b.to=d||c;b.from=ba||c;b.item=l||c;b.clone=g;b.oldIndex=e;b.newIndex=h;b.oldDraggableIndex=
Q;b.newDraggableIndex=A;b.originalEvent=m;b.pullMode=n?n.lastPutMode:void 0;f=Sa({},k,Hb.getEventProperties(f,a));for(var r in f)b[r]=f[r];c&&c.dispatchEvent(b);p[q]&&p[q].call(a,b)}}function F(a,b){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(a));this.el=a;this.options=b=Ha({},b);a[ta]=this;var c={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(a.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,
removeCloneOnHide:!0,direction:function(){return lf(a,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,b){a.setData("Text",b.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",
fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==F.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};Hb.initializePlugins(this,a,c);for(var f in c)f in b||(b[f]=c[f]);mf(b);for(var l in this)"_"===l.charAt(0)&&"function"===typeof this[l]&&(this[l]=this[l].bind(this));if(this.nativeDraggable=b.forceFallback?!1:Uf)this.options.touchStartThreshold=1;b.supportPointer?M(a,"pointerdown",this._onTapStart):(M(a,"mousedown",this._onTapStart),M(a,"touchstart",
this._onTapStart));this.nativeDraggable&&(M(a,"dragover",this),M(a,"dragenter",this));Xd.push(this.el);b.store&&b.store.get&&this.sort(b.store.get(this)||[]);Ha(this,Sf())}function te(a,b,c,f,l,g,d,ba){var z=a[ta],e=z.options.onMove,h;if(!window.CustomEvent||Ja||Gb){var A=document.createEvent("Event");A.initEvent("move",!0,!0)}else A=new CustomEvent("move",{bubbles:!0,cancelable:!0});A.to=b;A.from=a;A.dragged=c;A.draggedRect=f;A.related=l||b;A.relatedRect=g||ha(b);A.willInsertAfter=ba;A.originalEvent=
d;a.dispatchEvent(A);e&&(h=e.call(z,A,d));return h}function ue(a){a.draggable=!1}function Vf(){ve=!1}function Wf(a,b,c){c=ha(qe(c.el,c.options.draggable));return b?a.clientX>c.right+10||a.clientX<=c.right&&a.clientY>c.bottom&&a.clientX>=c.left:a.clientX>c.right&&a.clientY>c.top||a.clientX<=c.right&&a.clientY>c.bottom+10}function Xf(a,b,c,f,l,g,d,ba){a=f?a.clientY:a.clientX;var z=f?c.height:c.width,e=f?c.top:c.left;c=f?c.bottom:c.right;f=!1;if(!d)if(ba&&Yd<z*l)if(!Ib&&(1===Jb?a>e+z*g/2:a<c-z*g/2)&&
(Ib=!0),Ib)f=!0;else{if(1===Jb?a<e+Yd:a>c-Yd)return-Jb}else if(a>e+z*(1-l)/2&&a<c-z*(1-l)/2)return b=wa(v)<wa(b)?1:-1,b;if(f||d)if(a<e+z*g/2||a>c-z*g/2)return a>e+z/2?1:-1;return 0}function Yf(a){a=a.tagName+a.className+a.src+a.href+a.textContent;for(var b=a.length,c=0;b--;)c+=a.charCodeAt(b);return c.toString(36)}function Zf(a){Zd.length=0;a=a.getElementsByTagName("input");for(var b=a.length;b--;){var c=a[b];c.checked&&Zd.push(c)}}function $d(a){return setTimeout(a,0)}function ae(){U.forEach(function(a){clearInterval(a.pid)});
U=[]}function we(){}function xe(){}function V(a){return new ya("have the "+a.name+" technology",N(a))}function La(a,b){return new ya(1===b?"adjacent to a "+a.tileName:"within "+b+" units of "+a.tileName,Ud(a,b))}function $f(a,b){return new ya("have at least "+b+" "+a.name,Td(a,b))}function nf(a,b){return new ya("available housing capacity for "+b+" "+a.name,{queryType:"availableHousing",species:a,minAvailableCapacity:b})}k.r(e);var ag=function(){function a(a,b){return document.createTextNode(b?a.replace(n,
""):a)}function b(a,b){return"".concat(b.base,b.size,"/",a,b.ext)}function c(a,b){a=a.childNodes;for(var f=a.length,g,l;f--;)g=a[f],l=g.nodeType,3===l?b.push(g):1!==l||"ownerSVGElement"in g||q.test(g.nodeName.toLowerCase())||c(g,b);return b}function f(a){return h(0>a.indexOf(k)?a.replace(n,""):a)}function l(b,g){for(var l=c(b,[]),d=l.length,z,ba,e,h,A,Q,mb,n,k,p;d--;){z=!1;e=document.createDocumentFragment();h=l[d];A=h.nodeValue;for(mb=0;Q=m.exec(A);){n=Q.index;n!==mb&&e.appendChild(a(A.slice(mb,
n),!0));Q=Q[0];p=f(Q);mb=n+Q.length;n=g.callback(p,g);if(p&&n){k=new Image;k.onerror=g.onerror;k.setAttribute("draggable","false");z=g.attributes(Q,p);for(ba in z)z.hasOwnProperty(ba)&&0!==ba.indexOf("on")&&!k.hasAttribute(ba)&&k.setAttribute(ba,z[ba]);k.className=g.className;k.alt=Q;k.src=n;z=!0;e.appendChild(k)}k||e.appendChild(a(Q,!1));k=null}z&&(mb<A.length&&e.appendChild(a(A.slice(mb),!0)),h.parentNode.replaceChild(e,h))}return b}function g(a,b){return e(a,function(a){var c=a,g=f(a),l=b.callback(g,
b),z;if(g&&l){c="<img ".concat('class="',b.className,'" ','draggable="false" ','alt="',a,'"',' src="',l,'"');a=b.attributes(a,g);for(z in a)a.hasOwnProperty(z)&&0!==z.indexOf("on")&&-1===c.indexOf(" "+z+"=")&&(c=c.concat(" ",z,'="',a[z].replace(p,d),'"'));c=c.concat("/>")}return c})}function d(a){return A[a]}function ba(){return null}function e(a,b){return String(a).replace(m,b)}function h(a,b){for(var c=[],f,g=0,l=0;l<a.length;)f=a.charCodeAt(l++),g?(c.push((65536+(g-55296<<10)+(f-56320)).toString(16)),
g=0):55296<=f&&56319>=f?g=f:c.push(f.toString(16));return c.join(b||"-")}var Q={base:"https://twemoji.maxcdn.com/v/12.1.5/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(a){a="string"===typeof a?parseInt(a,16):a;if(65536>a)return r(a);a-=65536;return r(55296+(a>>10),56320+(a&1023))},toCodePoint:h},onerror:function(){this.parentNode&&this.parentNode.replaceChild(a(this.alt,!1),this)},parse:function(a,c){c&&"function"!==typeof c||(c={callback:c});var f=c.callback||b,z="function"===
typeof c.attributes?c.attributes:ba,d="string"===typeof c.base?c.base:Q.base,e=c.ext||Q.ext,h;(h=c.folder)||(h=c.size||Q.size,h="number"===typeof h?h+"x"+h:h);return("string"===typeof a?g:l)(a,{callback:f,attributes:z,base:d,ext:e,size:h,className:c.className||Q.className,onerror:c.onerror||Q.onerror})},replace:e,test:function(a){m.lastIndex=0;a=m.test(a);m.lastIndex=0;return a}},A={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},m=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[#*0-9]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5\udeeb\udeec\udef4-\udefa\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddb4\uddb7\uddba\uddbc-\uddca\uddd0\uddde-\uddff\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,
n=/\uFE0F/g,k=String.fromCharCode(8205),p=/[&<>'"]/g,q=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,r=String.fromCharCode;return Q}(),bg=k(0),m;(function(a){function b(a){var b=document.createElement("div");a&&b.classList.add.apply(b.classList,$jscomp.arrayFromIterable(a));return b}function c(a,b,c){a=document.createElement(a);a.innerText=b;c&&a.classList.add.apply(a.classList,$jscomp.arrayFromIterable(c));return a}function f(a){ag.parse(a,{folder:"svg",ext:".svg"});return a}function l(a){return 0<
bg.parse(a).length}a.makeDiv=b;a.makeDivContaining=function(a,c){c=b(c);a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=a.next())c.appendChild(f.value);return c};a.makeElement=c;a.patchEmoji=f;a.containsEmoji=l;a.makePara=function(a,b){b=c("p",a,b);l(a)&&f(b);return b};a.makeHeader=function(a,b,d){b=c("h"+(void 0===b?1:b),a,d);l(a)&&f(b);return b};a.makeButton=function(a,b,c,d){d=void 0===d?"enabled":d;var g=document.createElement("button");g.type="button";"disabled"===d&&(g.disabled=!0);g.innerText=
a;c&&g.classList.add.apply(g.classList,$jscomp.arrayFromIterable(c));g.onclick=function(a){a.preventDefault();b(g,a)};l(a)&&f(g);return g};a.makeSlider=function(b,c,f,l,d,e){var g=document.createElement("input");g.type="range";g.min=c.toString();g.max=f.toString();g.value=l.toString();void 0!==e&&(g.step=e.toString());g.oninput=function(){if(void 0!==this.value){var a=Number(this.value);!isNaN(a)&&c<=a&&a<=f&&d(a)}};b=a.makePara(b+": ");return a.makeDivContaining([b,g])};a.makeTrackedSlider=function(b,
c,f,l,d,e){var g=a.makePara(l.toString());b=a.makeSlider(b,c,f,l,function(a){d(a);g.innerText=a.toString()},e);return a.makeDivContaining([b,g],["settings-slider"])};a.makeCanvas=function(a,b,c){var f=document.createElement("canvas");f.width=a;f.height=b;c&&f.classList.add.apply(f.classList,$jscomp.arrayFromIterable(c));return f};a.fillHTML=function(a,b){a.innerHTML="";b=$jscomp.makeIterator(b);for(var c=b.next();!c.done;c=b.next())a.appendChild(c.value)}})(m||(m={}));var B;(function(a){function b(){0<
g.length?(m.fillHTML(l,[g[0].page.html]),setTimeout(function(){g.shift();b()},g[0].milliseconds)):m.fillHTML(l,[])}var c=document.getElementById("rootdiv"),f=void 0,l=document.getElementById("popup"),g=[];a.show=function(a){f=a;m.fillHTML(c,[a.html]);document.onkeydown=function(b){a.handleKeyDown&&a.handleKeyDown(b)};document.onkeyup=function(b){a.handleKeyUp&&a.handleKeyUp(b)}};a.refreshCurrentPage=function(){f&&f.refresh()};a.addPopup=function(a,c){g.push({page:a,milliseconds:c});1===g.length&&
b()}})(B||(B={}));var Of=function(a,b,c,f){function l(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,d){function g(a){try{e(f.next(a))}catch(A){d(A)}}function z(a){try{e(f["throw"](a))}catch(A){d(A)}}function e(a){a.done?c(a.value):l(a.value).then(g,z)}e((f=f.apply(a,b||[])).next())})},Ye=[],cg=h("assets/ui/highlight.png"),dg=h("assets/tiles/environment/wasteland1.png"),eg=h("assets/tiles/environment/wasteland2.png"),fg=h("assets/tiles/environment/wasteland3.png"),
gg=h("assets/tiles/environment/wasteland4.png"),hg=h("assets/tiles/environment/wasteland5.png"),ig=h("assets/tiles/environment/mountain.png"),jg=h("assets/tiles/alien/ruins1.png"),kg=h("assets/tiles/alien/ruins2.png"),lg=h("assets/tiles/alien/monolith.png"),mg=h("assets/tiles/end/reprogrammed monolith.png"),ng=h("assets/tiles/end/seed core alien.png"),og=h("assets/tiles/end/seed core human.png"),pg=h("assets/tiles/end/circuits alien.png"),qg=h("assets/tiles/end/circuits human.png"),rg=h("assets/tiles/construction/hab_site.png"),
sg=h("assets/tiles/construction/lab_site.png"),tg=h("assets/tiles/construction/industry_site.png"),ug=h("assets/tiles/construction/xenoengineering_site.png"),vg=h("assets/tiles/colony/habitat.png"),wg=h("assets/tiles/colony/solar_panels.png"),xg=h("assets/tiles/colony/mining_facility.png"),yg=h("assets/tiles/colony/lander.png"),zg=h("assets/tiles/colony/greenhouse.png"),Ag=h("assets/tiles/colony/hydroponics.png"),Bg=h("assets/tiles/colony/mineshaft.png"),Cg=h("assets/tiles/colony/electronics factory.png"),
Dg=h("assets/tiles/colony/construction factory.png"),Eg=h("assets/tiles/colony/xenofactory.png"),Fg=h("assets/tiles/roads/cross.png"),Gg=h("assets/tiles/roads/horizontal.png"),Hg=h("assets/tiles/roads/vertical.png"),Ig=h("assets/tiles/roads/corner_bottom_left.png"),Jg=h("assets/tiles/roads/corner_bottom_right.png"),Kg=h("assets/tiles/roads/corner_top_left.png"),Lg=h("assets/tiles/roads/corner_top_right.png"),Mg=h("assets/tiles/roads/t_south.png"),Ng=h("assets/tiles/roads/t_north.png"),Og=h("assets/tiles/roads/t_east.png"),
Pg=h("assets/tiles/roads/t_west.png"),Qg=h("assets/tiles/colony/arcology.png"),Rg=h("assets/tiles/colony/nuclear_plant.png"),Sg=h("assets/tiles/colony/hive.png"),Tg=h("assets/tiles/colony/zero_point.png"),Ug=h("assets/tiles/colony/lab_alignment.png"),Vg=h("assets/tiles/colony/lab_engineering.png"),Wg=h("assets/tiles/colony/lab_psych.png"),Xg=h("assets/tiles/colony/lab_xeno.png"),Yg=h("assets/tiles/colony/recycler1.png"),Zg=h("assets/tiles/colony/recycler2.png"),$g=h("assets/tiles/colony/nanotech_foundry.png"),
ah=h("assets/tiles/colony/neural_emulator.png"),cb=function(a,b,c){this.header=a;this.text=b;this.textSize=c},bh=[new cb("Grace Rarer",["Team Lead, Game Designer, Programmer"],"large"),new cb("Prindle",["Programmer, DevOps"],"large"),new cb("May Lawver",["Music Generation Programmer"],"large"),new cb("Seong Ryoo",["Environment Artist"],"large"),new cb("Code Contributors",["Mitchell Philipp","Brad Baker","Will Cooper"],"small"),new cb("Third Party Assets",["Twemoji (MIT License for code, CC-BY for graphics)",
"IBM Plex Mono (Open Font License)","NASA Images (public domain)"],"small"),new cb("Aurora is released under the MIT License",["Source code is available at github.com/GRarer/Aurora"],"small")],ye=function(){var a=this;this.html=m.makeDivContaining([].concat($jscomp.arrayFromIterable(bh.map(function(b){return a.renderCreditsEntry(b)})),[m.makeButton("Back",function(){return B.show(new Ma)})]),["credits"]);this.refresh()};ye.prototype.refresh=function(){};ye.prototype.renderCreditsEntry=function(a){return m.makeDivContaining([m.makeHeader(a.header)].concat($jscomp.arrayFromIterable(a.text.map(function(a){return m.makePara(a)}))),
"large"===a.textSize?["credits-entry-large"]:["credits-entry-small"])};var ob=function(a){return a},n;(function(a){function b(a){return{encode:ob,decode:ob,validate:a}}function c(a,b,c){return{encode:function(c){return a.encode(b(c))},decode:function(b){return c(a.decode(b))},validate:function(b){return a.validate(b)}}}function f(a){return{encode:function(b){return b.map(function(b){return a.encode(b)})},decode:function(b){return b.map(function(b){return a.decode(b)})},validate:function(b){return Array.isArray(b)?
b.every(function(b){return a.validate(b)}):!1}}}function l(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return{encode:function(a){return a.map(function(a,c){return b[c].encode(a)})},decode:function(a){return a.map(function(a,c){return b[c].decode(a)})},validate:function(a){return Array.isArray(a)&&a.length===b.length?b.every(function(b,c){return b.validate(a[c])}):!1}}}function g(a){return{encode:function(b){var c={},f;for(f in a)c[f]=a[f].encode(b[f]);return c},decode:function(b){var c=
{},f;for(f in a)c[f]=a[f].decode(b[f]);return c},validate:function(b){if("object"!==typeof b||null===b)return!1;for(var c in a)if(!a[c].validate(b[c]))return!1;return!0}}}function d(a,b,c,f){return{encode:function(g){return a(g)?c.encode(g):b(g)?f.encode(g):y()},decode:function(a){return c.validate(a)?c.decode(a):f.validate(a)?f.decode(a):y()},validate:function(a){return c.validate(a)||f.validate(a)}}}function e(a,b){return d(function(b){return a.validate(b)},function(b){return!a.validate(b)},a,b)}
function h(a,b){return{encode:function(b){return a.encode(b)},decode:function(b){return a.decode(b)},validate:function(c){return a.validate(c)&&b(c)}}}a.schema=function(a){return a};a.primitive=b;a.literal=function(a){return{encode:ob,decode:ob,validate:function(b){return Object.is(b,a)}}};a.contra=c;a.co=function(a,b,c,f){return{encode:function(c){return b(a.encode(c))},decode:function(b){return a.decode(c(b))},validate:f}};a.lazy=function(a){return{encode:function(b){return a().encode(b)},decode:function(b){return a().decode(b)},
validate:function(b){return a().validate(b)}}};a.injecting=function(a,b,c){return{encode:function(b){return a.encode(b)},decode:function(b){return a.decode(b)},validate:function(b){return a.validate(b)},project:b,inject:c}};a.anAny=b(function(a){return!0});a.aString=b(function(a){return"string"===typeof a||a instanceof String});a.aNumber=b(function(a){return"number"===typeof a});a.aBoolean=b(function(a){return"boolean"===typeof a});a.aNull=b(function(a){return null===a});a.anUndefined=b(function(a){return"undefined"===
typeof a});a.arrayOf=f;a.nonEmptyArrayOf=function(a){a=f(a);var b=a.validate;return{encode:a.encode,decode:a.decode,validate:function(a){return Array.isArray(a)&&1<=a.length&&b(a)}}};a.tupleOf=l;a.anEmptyArray=l();a.object=function(a){return{encode:function(b){var c={},f;for(f in b)c[f]=a.encode(b[f]);return c},decode:function(b){var c={},f;for(f in b)c[f]=a.decode(b[f]);return c},validate:function(b){if("object"!==typeof b||null===b)return!1;for(var c in b)if(!a.validate(b[c]))return!1;return!0}}};
a.map=function(a,b){return{encode:function(c){var f=[];c=$jscomp.makeIterator(c.entries());for(var g=c.next();!g.done;g=c.next())g=g.value,f.push([a.encode(g[0]),b.encode(g[1])]);return f},decode:function(c){var f=new Map;c=$jscomp.makeIterator(c);for(var g=c.next();!g.done;g=c.next())g=g.value,f.set(a.decode(g[0]),b.decode(g[1]));return f},validate:function(c){return f(l(a,b)).validate(c)}}};a.set=function(a){return{encode:function(b){return Array.from(b).map(function(b){return a.encode(b)})},decode:function(b){return new Set(b.map(function(b){return a.decode(b)}))},
validate:function(b){return f(a).validate(b)}}};a.recordOf=g;a.anEmptyObject=g({});a.classOf=function(a,b){return c(g(a),ob,b)};a.unionOf=d;a.union=e;a.optional=function(b){return e(a.anUndefined,b)};a.constrain=h;a.asserting=function(a,b){return h(a,b)};a.matching=function(b){return h(a.aString,function(a){return b.test(a)})};a.indexing=function(b){return c(h(a.aNumber,function(a){return 0<=a&&a<b.length}),function(a){var c=b.indexOf(a);if(0>c)throw Error("augustus: attempted to encode "+a+" by index in "+
b);return c},function(a){return b[a]})};a.mapping=function(b){return c(h(a.aString,function(a){return a in b}),function(a){for(var c in b)if(b[c]===a)return c;throw Error("augustus: attempted to encode "+a+" by key in "+b);},function(a){return b[a]})};a.discriminating=function(a,b){return{encode:function(c){return b[c[a]].encode(c)},decode:function(c){return b[c[a]].decode(c)},validate:function(c){if("object"!==typeof c||null===c)return!1;var f=c[a];return void 0===f?!1:(f=b[f])?f.validate(c):!1}}}})(n||
(n={}));var ze;(function(a){function b(a){return{encode:function(b){var c=a();return b.map(function(a){return c.encode(a)})},decode:function(b){var c=a();return b.map(function(a){return c.decode(a)})},validate:function(b){var c=a();return Array.isArray(b)?b.every(function(a){return c.validate(a)}):!1}}}function c(a){return{encode:function(b){var c={},f;for(f in a)c[f]=a[f]().encode(b[f]);return c},decode:function(b){var c={},f;for(f in a)c[f]=a[f]().decode(b[f]);return c},validate:function(b){if("object"!==
typeof b||null===b)return!1;for(var c in a)if(!a[c]().validate(b[c]))return!1;return!0}}}a.arrayOf=b;a.nonEmptyArrayOf=function(a){a=b(a);var c=a.validate;return{encode:a.encode,decode:a.decode,validate:function(a){return Array.isArray(a)&&1<=a.length&&c(a)}}};a.recordOf=c;a.classOf=function(a,b){return n.contra(c(a),ob,b)}})(ze||(ze={}));var za;(function(a){a.isSupported=function(){try{var a=window.localStorage;a.setItem("__test_ls","null");a.removeItem("__test_ls");return!0}catch(c){return a&&0!==
a.length?c instanceof DOMException?22===c.code||"QuotaExceededError"===c.name||1014===c.code||"NS_ERROR_DOM_QUOTA_REACHED"===c.name:!1:!1}}();a.hasItem=function(b){return a.isSupported&&Object.prototype.hasOwnProperty.call(window.localStorage,b)};a.saveItem=function(b,c,f){return a.isSupported?(c=JSON.stringify(f.encode(c)),window.localStorage.setItem(b,c),!0):!1};a.loadItem=function(b,c){if(a.isSupported&&(b=window.localStorage.getItem(b),null!==b)){try{var f=JSON.parse(b);var l=c.validate(f)?{resultType:"success",
result:c.decode(f)}:{resultType:"invalidStructure"}}catch(g){if(g instanceof SyntaxError)l={resultType:"syntaxError",error:g};else throw g;}return l}};a.removeItem=function(b){a.isSupported&&window.localStorage.removeItem(b)};a.clearAllItems=function(){a.isSupported&&window.localStorage.clear()}})(za||(za={}));var Pf=function(a,b,c,f){function l(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,d){function g(a){try{e(f.next(a))}catch(A){d(A)}}function z(a){try{e(f["throw"](a))}catch(A){d(A)}}
function e(a){a.done?c(a.value):l(a.value).then(g,z)}e((f=f.apply(a,b||[])).next())})},Kb=fa(),Db=fa(),pb;(function(a){function b(a){return Db(440*Math.pow(2,(a-69)/12))}a.noteNames="C C# D D# E F F# G G# A A# B".split(" ");a.midiNumberToFrequency=b;a.midiNumberToNoteName=function(b){return""+a.noteNames[aa(b,12)]+(Math.floor(b/12)-1)};a.detuneWithCoeff=function(a,f){if(1===f)return[b(a)];a=b(a);return[a/f,a,a*f].map(Db)}})(pb||(pb={}));var of=function(a){this.volume=a},be;(function(a){a.createAdsrEnvelope=
function(a,c,f,l,g){g=void 0===g?1:g;var b=void 0===l.attack?0:l.attack;var d=void 0===l.sustain?0:l.sustain;var e=void 0===l.decay?0:l.decay;l=void 0===l.release?0:l.release;a=a.createGain();a.gain.setValueAtTime(0,c);f<b?a.gain.linearRampToValueAtTime(f/b*(g-0),c+f):f<b+e?(a.gain.linearRampToValueAtTime(g,c+b),a.gain.linearRampToValueAtTime((f-b)/e*(g*d-g)+g,c+b+e)):(a.gain.linearRampToValueAtTime(g,c+b),a.gain.linearRampToValueAtTime(g*d,c+b+e));a.gain.linearRampToValueAtTime(0,c+f+l);return a}})(be||
(be={}));var Ae=function(a,b,c,f){function l(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,d){function g(a){try{e(f.next(a))}catch(A){d(A)}}function z(a){try{e(f["throw"](a))}catch(A){d(A)}}function e(a){a.done?c(a.value):l(a.value).then(g,z)}e((f=f.apply(a,b||[])).next())})},qb=function(a,b,c){var f;this.volume=void 0===c?1:c;this.type=a.type;this._detune=1;this.detune=null!==(f=a.detune)&&void 0!==f?f:0;this.env=b;return this};$jscomp.inherits(qb,of);
qb.prototype.scheduleNote=function(a,b){var c;return Ae(this,void 0,void 0,function l(){var g=this,d,e,h,m,k,n;return $jscomp.generator.createGenerator(l,function(l){d=g;e=pb.detuneWithCoeff(b.midiNumber,g._detune);h=void 0===b.endNote?e:pb.detuneWithCoeff(b.endNote,g._detune);m=Math.min(1/e.length,1)*g.volume;k=be.createAdsrEnvelope(a,b.start,b.duration,g.env,m);n=b.start+b.duration+(null!==(c=g.env.sustain)&&void 0!==c?c:0);e.forEach(function(c,g){var l=a.createOscillator();l.type=d.type;l.frequency.setValueAtTime(c,
b.start);l.frequency.linearRampToValueAtTime(h[g],n);l.start(b.start);l.stop(n);l.connect(k);l.onended=function(){k.disconnect()}});return l.return(k)})})};$jscomp.global.Object.defineProperties(qb.prototype,{detune:{configurable:!0,enumerable:!0,set:function(a){this._detune=Math.pow(2,a/1200)}}});var Va=function(a,b,c){this.volume=void 0===c?1:c;this.buffer=a;this.env=b;return this};$jscomp.inherits(Va,of);Va.fromSample=function(a,b,c){c=void 0===c?1:c;return Ae(this,void 0,void 0,function l(){var g;
return $jscomp.generator.createGenerator(l,function(l){return 1==l.nextAddress?(g=Va,l.yield(a,2)):l.return(new g(l.yieldResult,b,c))})})};Va.prototype.scheduleNote=function(a,b){var c;return Ae(this,void 0,void 0,function l(){var g,d,e=this,h,k,m,n,p;return $jscomp.generator.createGenerator(l,function(l){g=pb.midiNumberToFrequency(b.midiNumber);d=a.createBufferSource();d.buffer=e.buffer.buffer;d.loop=e.buffer.shouldLoop;h=g/e.buffer.freq;d.playbackRate.setValueAtTime(h,b.start);k=b.start+b.duration+
(null!==(c=e.env.sustain)&&void 0!==c?c:0);void 0!==b.endNote&&(m=pb.midiNumberToFrequency(b.endNote),n=m/e.buffer.freq,d.playbackRate.linearRampToValueAtTime(n,k));d.start(b.start);d.stop(k);p=be.createAdsrEnvelope(a,b.start,b.duration,e.env,e.volume);d.connect(p);d.onended=function(){p.disconnect()};return l.return(p)})})};var ja;(function(a){function b(a,b){return Math.random()*(b-a)+a}function c(a,c){return Math.floor(b(a,c))}a.realBetween=b;a.intBetween=c;a.fromArray=function(a){return a[c(0,
a.length)]};a.bool=function(a){return Math.random()<(void 0===a?.5:a)};a.fromWeightedArray=function(a){var b=a.map(function(a){return a[0]}).reduce(function(a,b){return a+b},0);b*=Math.random();for(var c=$jscomp.makeIterator(a),f=c.next();!f.done;f=c.next()){var d=$jscomp.makeIterator(f.value);f=d.next().value;d=d.next().value;if(b<f)return d;b-=f}return a[a.length-1][1]};a.shuffle=function(b){b=[].concat($jscomp.arrayFromIterable(b));for(var c=b.length-1;0<c;c--){var f=a.intBetween(0,c+1),d=b[c];
b[c]=b[f];b[f]=d}return b}})(ja||(ja={}));var ua;(function(a){a.isNonEmpty=function(a){return 0<a.length};a.generate=function(a,c){for(var b=Array(a),l=0;l<a;l++)b[l]=c(l);return b};a.flatten=function(a){return a.reduce(function(a,b){return a.concat(b)},[])};a.isRectangle=function(a){return a.every(function(b){return b.length===a[0].length})}})(ua||(ua={}));var Aa=fa(),ch=fa(),pf=fa(),Be=fa(),Wa=fa(),Lb;(function(a){function b(a){a=(a&1365)+(a>>>1&1365);a=(a&819)+(a>>>2&819);a=(a&3855)+(a>>>4&3855);
return(a&255)+(a>>>8&255)}function c(a,b){b=aa(void 0===b?1:b,12);return Aa((a<<b|a>>>12-b)&4095)}function f(a){return 0!==(a&1)}function l(a){var b=[],g=a;do f(g)&&b.push(g),g=c(g,1);while(g!==a);return b}function g(a,b){b=aa(b,12);return 0!==(a&1<<b)}function d(a,b){b=aa(b,12);a=l(a).filter(function(a){return g(a,b)}).length;return 6===b?a/2:a}function e(a){return l(a).filter(function(a){return!g(a,7)}).length}function h(a,b){return(a&b)===b}function k(a,c){var f=function(a,b){return a<b[0]||a>
b[1]};return c.notes&&f(b(a),c.notes)||c.imperfections&&f(e(a),c.imperfections)||c.hemitones&&f(d(a,1),c.hemitones)||void 0!==c.chord&&0!==c.chord&&!h(a,c.chord)?!1:!0}a.createScaleFromPitchClass=function(a){if(!a.includes(Be(0)))throw Error("scales must have a root");a=a.map(function(a){return 1<<aa(a,12)}).filter(function(a,b,c){return c.indexOf(a)===b}).reduce(function(a,b){return a|b},0);return Aa(a)};a.getPitchClass=function(a){for(var b=[],c=0;0!==a;a>>>=1,c++)a&1&&b.push(Be(c));return b};a.getNumberOfNotes=
b;a.rotateScale=c;a.hasRoot=f;a.getModes=l;a.hasInterval=g;a.countInterval=d;a.getImperfections=e;a.containsScale=function(a,b){return(a&b)===b};a.containsChord=h;var m=ua.flatten([l(Aa(2741)),l(Aa(2475)),l(Aa(1367)),l(Aa(2477)),l(Aa(2485)),l(Aa(2733)),l(Aa(2669)),l(Aa(2483))]);a.matchesQuery=k;a.getAllScalesMatchingQuery=function(a){return m.filter(function(b){return k(b,a)})};a.indexIntoPitchClass=function(a,b){var c=a[aa(b,a.length)];return Be(c+12*Math.floor(b/a.length))}})(Lb||(Lb={}));var db=
function(a){a=void 0===a?8:a;this.subdivision=[];this._beats=a;this.generateNewSubdivision(a)};db.prototype.generateTies=function(){for(var a=0,b=[];a<this.subdivision.length;)a<this.subdivision.length-1&&ja.bool(.5)?(b.push(this.subdivision[a]+this.subdivision[a+1]),a+=2):(b.push(this.subdivision[a]),a++);return b};db.prototype.generateNewSubdivision=function(a){this._beats=a;this.subdivision=[];for(var b=Math.min.apply(Math,$jscomp.arrayFromIterable(db.divisions));a>=b;){var c=db.divisions.filter(function(b){return b<=
a});ua.isNonEmpty(c)&&(c=ja.fromArray(c),a-=c,this.subdivision.push(c))}0<a&&this.subdivision.push(a)};$jscomp.global.Object.defineProperties(db.prototype,{beats:{configurable:!0,enumerable:!0,get:function(){return this._beats}}});db.divisions=[2,3];var dh=function(a,b,c,f){function l(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,d){function g(a){try{e(f.next(a))}catch(A){d(A)}}function z(a){try{e(f["throw"](a))}catch(A){d(A)}}function e(a){a.done?c(a.value):
l(a.value).then(g,z)}e((f=f.apply(a,b||[])).next())})},Ga;(function(a){a[a.KICK=0]="KICK";a[a.SNARE=1]="SNARE";a[a.CLOSED_HI_HAT=2]="CLOSED_HI_HAT";a[a.OPEN_HI_HAT=3]="OPEN_HI_HAT"})(Ga||(Ga={}));var qf=function(a){this.samples=a;this.closedHiHat=Va.fromSample(this.samples.white_noise,{attack:.01,decay:.05},.5);this.openHiHat=Va.fromSample(this.samples.white_noise,{attack:.01,decay:.2},.5);this.snare=Va.fromSample(this.samples.snare,{sustain:1},1.5);this.kick=Va.fromSample(this.samples.kick,{sustain:1},
1.5)};qf.prototype.scheduleHit=function(a,b,c){return dh(this,void 0,void 0,function l(){var g,d,e=this,h,k,m,n,p,q;return $jscomp.generator.createGenerator(l,function(l){switch(l.nextAddress){case 1:switch(c){case Ga.KICK:return l.jumpTo(2);case Ga.SNARE:return l.jumpTo(3);case Ga.CLOSED_HI_HAT:return l.jumpTo(4);case Ga.OPEN_HI_HAT:return l.jumpTo(5);default:va(c)}l.jumpTo(0);break;case 2:return g=a,d={midiNumber:Kb(69),start:b,duration:1},l.yield(e.kick,7);case 7:return l.return(l.yieldResult.scheduleNote(g,
d));case 3:return h=a,k={midiNumber:Kb(69),start:b,duration:1},l.yield(e.snare,8);case 8:return l.return(l.yieldResult.scheduleNote(h,k));case 4:return m=a,n={midiNumber:Kb(70),start:b,duration:.05},l.yield(e.closedHiHat,9);case 9:return l.return(l.yieldResult.scheduleNote(m,n));case 5:return p=a,q={midiNumber:Kb(70),start:b,duration:.2},l.yield(e.openHiHat,10);case 10:return l.return(l.yieldResult.scheduleNote(p,q))}})})};k(2);var Ce=function(a,b,c,f){function l(a){return a instanceof c?a:new c(function(b){b(a)})}
return new (c||(c=Promise))(function(c,d){function g(a){try{e(f.next(a))}catch(A){d(A)}}function z(a){try{e(f["throw"](a))}catch(A){d(A)}}function e(a){a.done?c(a.value):l(a.value).then(g,z)}e((f=f.apply(a,b||[])).next())})},Qa;(function(a){a.createBufferFromGenerator=function(a,c,f){a=a.createBuffer(1,c,44100);for(var b=new Float32Array(c),g=0;g<c;g++)b[g]=f(g);a.copyToChannel(b,0);return a};a.createBufferFromAudioData=function(a,c,f){return Ce(this,void 0,void 0,function g(){var b=this,d,e,h,k,
m;return $jscomp.generator.createGenerator(g,function(g){switch(g.nextAddress){case 1:return d=b,e=a.createBuffer(1,c,44100),g.yield(fetch("assets/"+f,{headers:new Headers({"Content-Type":"audio/ogg"})}).catch(function(a){return Ce(d,void 0,void 0,function bb(){var b;return $jscomp.generator.createGenerator(bb,function(c){if(1==c.nextAddress){if(!(a instanceof Response)){if(a instanceof Error)throw a;throw Error("Unknown error when fetching sample: "+a);}b=Error;return c.yield(a.text(),3)}throw new b(c.yieldResult);
})})}),2);case 2:return h=g.yieldResult,g.yield(h.arrayBuffer(),3);case 3:return k=g.yieldResult,g.yield(new Promise(function(b,c){a.decodeAudioData(k,b,c)}),4);case 4:return m=g.yieldResult,e.copyToChannel(m.getChannelData(0),0),g.return(e)}})})};a.makeSampleData=function(a){return Ce(this,void 0,void 0,function f(){var b,g,d,e;return $jscomp.generator.createGenerator(f,function(f){return 1==f.nextAddress?(b=a,g=b.buffer,d=b.shouldLoop,e=b.freq,f.yield(g,2)):f.return({buffer:f.yieldResult,shouldLoop:d,
freq:e})})})}})(Qa||(Qa={}));var rb=function(a,b,c,f){function l(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,d){function g(a){try{e(f.next(a))}catch(A){d(A)}}function z(a){try{e(f["throw"](a))}catch(A){d(A)}}function e(a){a.done?c(a.value):l(a.value).then(g,z)}e((f=f.apply(a,b||[])).next())})},T;(function(a){a[a.DRUMS=0]="DRUMS";a[a.CHORDS=1]="CHORDS"})(T||(T={}));var ka;(function(a){a.TONIC="tonic";a.SUBDOMINANT="subdominant";a.DOMINANT="dominant";a.AMBIGUOUS=
"ambiguous"})(ka||(ka={}));var sb;(function(a){function b(a,b,c){c=void 0===c?4:c;var f=Lb.getPitchClass(a);a=ja.fromArray(n).map(function(a){return ja.fromArray(p[a])});a.unshift(Wa(0));return a.map(function(a){return ua.generate(c,function(c){c=Lb.indexIntoPitchClass(f,a+2*c);return pf(b+c)})})}function c(){var a=m.rhythm.subdivision;return ua.flatten(a.map(function(b,c){for(var f=[0===c%2?Ga.KICK:Ga.SNARE],g=0;g<b-1;g++)c===a.length-1&&g===b-2?f.push(Ga.OPEN_HI_HAT):f.push(Ga.CLOSED_HI_HAT);return f}))}
function f(b,c){return rb(this,void 0,void 0,function se(){var f;return $jscomp.generator.createGenerator(se,function(g){if(1==g.nextAddress)return g.yield(a.drumkit.scheduleHit(a.context,b,c),2);f=g.yieldResult;f.connect(a.masterGain);g.jumpToEnd()})})}function l(b,c){return rb(this,void 0,void 0,function se(){var f;return $jscomp.generator.createGenerator(se,function(g){if(1==g.nextAddress)return g.yield(c.scheduleNote(a.context,b),2);f=g.yieldResult;f.connect(a.masterGain);g.jumpToEnd()})})}function g(b){return rb(this,
void 0,void 0,function bb(){var c,f,g,d,z;return $jscomp.generator.createGenerator(bb,function(e){switch(e.nextAddress){case 1:c=m.progression[aa(m.chordIndex,m.progression.length)],f=60/m.beatsPerMinute,g=$jscomp.makeIterator(c),d=g.next();case 2:if(d.done){e.jumpTo(4);break}z=d.value;return e.yield(l({midiNumber:Kb(aa(z,12)+60),start:b,duration:f*m.rhythm.beats},a.instruments.pad),3);case 3:d=g.next();e.jumpTo(2);break;case 4:m.chordIndex++,e.jumpToEnd()}})})}function d(a){return rb(this,void 0,
void 0,function bb(){var b,c,g,l,d;return $jscomp.generator.createGenerator(bb,function(z){1==z.nextAddress&&(b=60/m.beatsPerMinute,c=0,g=$jscomp.makeIterator(m.drumLoop),l=g.next());if(5!=z.nextAddress){if(l.done)return z.jumpTo(0);d=l.value;return z.yield(f(a+c,d),5)}c+=b;l=g.next();return z.jumpTo(2)})})}function e(f){return rb(this,void 0,void 0,function bb(){var l,z,ba,k,n,p,q;return $jscomp.generator.createGenerator(bb,function(r){switch(r.nextAddress){case 1:if(!h)return r.return();l=60/m.beatsPerMinute;
if(0===m.queue.length){m.rhythm.generateNewSubdivision(ja.fromArray([5,6,7,8,9,11,13]));var t={chord:ch(128),imperfections:[1,1]};t=Lb.getAllScalesMatchingQuery(t);ua.isNonEmpty(t)&&(m.scale=ja.fromArray(t));m.drumLoop=c();m.progression=b(m.scale,m.root);m.queue=[[T.CHORDS,T.DRUMS],[T.CHORDS,T.DRUMS],[T.CHORDS,T.DRUMS],[T.CHORDS,T.DRUMS],[T.CHORDS,T.DRUMS],[T.CHORDS,T.DRUMS],[T.CHORDS,T.DRUMS],[T.CHORDS,T.DRUMS],[T.DRUMS]]}z=l*m.rhythm.beats;ba=m.queue.shift();if(!ba){r.jumpTo(2);break}k=$jscomp.makeIterator(ba);
n=k.next();case 3:if(n.done){r.jumpTo(2);break}p=n.value;switch(p){case T.DRUMS:return r.jumpTo(6);case T.CHORDS:return r.jumpTo(7);default:va(p)}r.jumpTo(4);break;case 6:return r.yield(d(f),9);case 9:r.jumpTo(4);break;case 7:return r.yield(g(f),10);case 10:r.jumpTo(4);break;case 4:n=k.next();r.jumpTo(3);break;case 2:return q=f+z,r.yield(ea(1E3*(q-a.context.currentTime-.1)),11);case 11:return r.return(e(q))}})})}var h=!1,k=void 0;a.context=function(){var a,b=window;if(b=null!==(a=b.AudioContext)&&
void 0!==a?a:b.webkitAudioContext)return new b;throw Error("AudioContext is not supported");}();a.samples=Mf(a.context);a.drumkit=new qf(a.samples);a.instruments={arp:new qb({type:"sawtooth",detune:3},{attack:.01,decay:.05,sustain:0,release:.1}),bass:new qb({type:"triangle",detune:2},{attack:.01,decay:.01,sustain:1,release:.1}),pad:new qb({type:"triangle",detune:4},{attack:1,decay:.1,sustain:.5,release:.5})};a.masterGain=a.context.createGain();var m={beatsPerMinute:220,rhythm:new db,root:pf(0),scale:Aa(1857),
progression:[],chordIndex:0,drumLoop:[],queue:[]},n=[[ka.TONIC,ka.SUBDOMINANT,ka.DOMINANT],[ka.SUBDOMINANT,ka.SUBDOMINANT,ka.DOMINANT],[ka.SUBDOMINANT,ka.DOMINANT,ka.DOMINANT],[ka.AMBIGUOUS,ka.SUBDOMINANT,ka.DOMINANT],[ka.SUBDOMINANT,ka.DOMINANT,ka.AMBIGUOUS]],p={tonic:[Wa(0),Wa(5)],subdominant:[Wa(1),Wa(3)],dominant:[Wa(4),Wa(6)],ambiguous:[Wa(2)]};a.initialize=function(){h||(h=!0,a.masterGain.gain.value=Ba.currentOptions.volume,a.masterGain.connect(a.context.destination),k=e(a.context.currentTime),
k.catch(function(a){console.error("Music initialization failed:");console.error(a)}))};a.stop=function(){return rb(this,void 0,void 0,function Tf(){return $jscomp.generator.createGenerator(Tf,function(a){if(1==a.nextAddress){if(!h||void 0===k)return a.jumpTo(0);h=!1;return a.yield(k,3)}k=void 0;a.jumpToEnd()})})};a.isPlaying=function(){return h};a.setVolume=function(b){a.masterGain.gain.value=C(0,b,1)}})(sb||(sb={}));var Na=function(a,b,c){this.viewWidth=void 0===a?12:a;this.viewHeight=void 0===b?
8:b;this.volume=void 0===c?.25:c};Na.defaultOptions=function(){return new Na};Na.schema=n.classOf({viewWidth:n.aNumber,viewHeight:n.aNumber,volume:n.aNumber},function(a){return new Na(a.viewWidth,a.viewHeight,a.volume)});var Ba;(function(a){function b(){var a=za.loadItem("settings",Na.schema);return"success"===(null===a||void 0===a?void 0:a.resultType)?a.result:Na.defaultOptions()}function c(a){sb.setVolume(a.volume)}a.loadOptions=b;a.currentOptions=b();a.applySettings=c;a.saveOptions=function(b){a.currentOptions=
b;c(a.currentOptions);za.saveItem("settings",b,Na.schema)};a.restoreDefaults=function(){a.saveOptions(Na.defaultOptions())}})(Ba||(Ba={}));var u=function(a){this.position=a;this.possibleProjects=[];this.resourceConversions=[];this.populationCapacity=void 0},jb={},ce=n.schema({encode:function(a){return a.name},decode:function(a){return jb[a]},validate:function(a){return n.aString.validate(a)&&a in jb}}),eh=n.schema({encode:function(a){var b=a.constructor.name;return{type:b,value:jb[b].schema.encode(a)}},
decode:function(a){return jb[a.type].schema.decode(a.value)},validate:function(a){if(n.recordOf({type:n.aString,value:n.anAny}).validate(a)){var b=jb[a.type];return void 0===b?!1:b.schema.validate(a.value)}return!1}}),Mb=n.constrain(n.aNumber,function(a){return 1<=a&&5>=a}),Ca;(function(a){a.safeKeys=function(a){return Object.keys(a)};a.safeEntries=function(a){return Object.entries(a)};a.multitonEntries=function(b){var c={};a.safeEntries(b).filter(function(a){return a[1]instanceof b}).forEach(function(a){var b=
$jscomp.makeIterator(a);a=b.next().value;b=b.next().value;c[a]=b});return c};a.multitonValues=function(b){return a.safeKeys(b).map(function(a){return b[a]}).filter(function(a){return a instanceof b})}})(Ca||(Ca={}));var p=function(a){this.name=a};p.Energy=new p("\u26a1 Energy");p.Food=new p("\ud83c\udf2f Food");p.Metal=new p("\u26cf Metal Ore");p.BuildingMaterials=new p("\ud83d\udd29 Construction Parts");p.Electronics=new p("\ud83d\udca1 Electronics");p.Cavorite=new p("\ud83d\udc8e Cavorite");p.Orichalcum=
new p("\ud83e\uddea Orichalcum");p.Superconductor=new p("\ud83e\uddf5 Superconductor");p.SmartMatter=new p("\ud83d\udca0 SmartMatter");p.EngineeringKnowledge=new p("\u2699\ufe0f Engineering Data");p.PsychKnowledge=new p("\ud83e\udde0 Psychological Data");p.AlienKnowledge=new p("\ud83d\udef8 Alien Data");p.AlignmentKnowledge=new p("\ud83d\udcce AI Alignment Data");p.entries=Ca.multitonEntries(p);p.values=Ca.multitonValues(p);p.schema=n.mapping(p.entries);var r=function(a,b){this.resource=a;this.quantity=
b};r.prototype.toString=function(){return this.resource.name+" x"+this.quantity};r.prototype.equals=function(a){return this.resource===a.resource&&this.quantity===a.quantity};r.schema=n.classOf({resource:p.schema,quantity:n.aNumber},function(a){return new r(a.resource,a.quantity)});var q=function(a,b,c,f){this.name=a;this.description=b;this.prerequisites=c;this.researchCost=f};q.IndustrialEngineering=new q("Industrial Engineering","Approaches for optimizing production processes",[],new r(p.EngineeringKnowledge,
25));q.StructuralEngineering=new q("Structural Engineering","Techniques for fabricating large structures on the planet's surface",[],new r(p.EngineeringKnowledge,10));q.Robotics=new q("Distributed Robotics","Autonomous robotic worker drones capable of performing the same jobs as human workers",[q.IndustrialEngineering],new r(p.EngineeringKnowledge,100));q.SwarmRobotics=new q("Swarm Robotics","Algorithms for efficiently managing large numbers of robotic workers",[q.Robotics],new r(p.EngineeringKnowledge,
100));q.BehaviorModeling=new q("Colonist Behavior Modeling","Simulations of human behavior in the isolated conditions of a deep space colony",[],new r(p.PsychKnowledge,30));q.UrbanPlanning=new q("Habitation Pods","Compact and efficient residence units allow more humans to be packed into a small habitat",[q.BehaviorModeling],new r(p.EngineeringKnowledge,15));q.NuclearEngineering=new q("Nuclear Engineering","Applying nuclear physics to technology and power generation",[q.IndustrialEngineering],new r(p.EngineeringKnowledge,
70));q.Surveying=new q("Planetary Surveying",x($jscomp$templatelit$0),[],new r(p.EngineeringKnowledge,50));q.GameTheory=new q("Game theory","Mathematical models of strategic interaction among rational decision-makers",[q.BehaviorModeling],new r(p.PsychKnowledge,30));q.CognitiveBiases=new q("Cognitive Biases Research","Study of systematic patterns of deviation from rational thinking and decision-making",[q.GameTheory],new r(p.PsychKnowledge,50));q.Rationality=new q("Human Rationality","Practices to improve humans' ability to form accurate beliefs and make effective decisions",
[q.CognitiveBiases],new r(p.PsychKnowledge,200));q.AiResearch=new q("AI Safety Research",x($jscomp$templatelit$1),[],void 0);q.ControlProblem=new q("Control Problem",x($jscomp$templatelit$2),[q.AiResearch],new r(p.AlignmentKnowledge,20));q.MotivationSelection=new q("Motivation Selection","Techniques for specifying the goals and motives of an artificial intelligence",[q.ControlProblem],new r(p.AlignmentKnowledge,50));q.CoherentExtrapolatedVolition=new q("Coherent Extrapolated Volition",x($jscomp$templatelit$3),
[q.MotivationSelection],new r(p.AlignmentKnowledge,300));q.DecisionTheory=new q("Decision Theory","The study of the reasoning underlying an agent's choices",[q.ControlProblem],new r(p.AlignmentKnowledge,40));q.AcausalTrade=new q("Acausal trade",x($jscomp$templatelit$4),[q.DecisionTheory],new r(p.AlignmentKnowledge,200));q.CooperativeReprogramming=new q("Cooperative Reprogramming",x($jscomp$templatelit$5),[q.AcausalTrade,q.CoherentExtrapolatedVolition],new r(p.AlignmentKnowledge,700));q.Xenoarchaeology=
new q("Xenoarchaeology",x($jscomp$templatelit$6),[q.Surveying],new r(p.AlienKnowledge,75));q.Sociology=new q("Sociology","The study of the development, structure, and functioning of societies",[q.BehaviorModeling],new r(p.PsychKnowledge,50));q.AlienHistory=new q("Alien History",x($jscomp$templatelit$7),[q.Sociology,q.Xenoarchaeology],new r(p.AlienKnowledge,200));q.XenoMaterials=new q("Xenomaterials","Techniques for processing and applying exotic resources found in the ruins of the alien civilization",
[q.Xenoarchaeology],new r(p.AlienKnowledge,200));q.Nanotechnology=new q("Nanotechnology","Manipulation of matter on an atomic, molecular, and supramolecular scale",[q.XenoMaterials],new r(p.EngineeringKnowledge,100));q.ZeroPointEnergy=new q("Zero Point Energy",x($jscomp$templatelit$8),[q.XenoMaterials,q.NuclearEngineering],new r(p.EngineeringKnowledge,250));q.Hypercomputing=new q("Hypercomputing",x($jscomp$templatelit$9),[q.XenoMaterials],new r(p.EngineeringKnowledge,300));q.MonolithSurvey=new q("Monolith Surveying",
x($jscomp$templatelit$10),[],void 0);q.NeuralUploading=new q("Neural Uploading",x($jscomp$templatelit$11),[q.MonolithSurvey,q.Hypercomputing],new r(p.AlienKnowledge,200));q.SingularityEngineering=new q("Singularity Engineering",x($jscomp$templatelit$12),[q.MonolithSurvey],new r(p.AlienKnowledge,500));q.entries=Ca.multitonEntries(q);q.values=Ca.multitonValues(q);q.schema=n.mapping(q.entries);var L=function(a,b,c){this.name=a;this.growthMultiplier=b;this.survivalCost=c};L.Human=new L("\ud83d\udc69\ud83c\udffb\u200d\ud83d\ude80 Human Colonists",
.1,new r(p.Food,1));L.Robot=new L("\ud83e\uddbe Robots",0,new r(p.Energy,.5));L.values=Ca.multitonValues(L);L.entries=Ca.multitonEntries(L);L.schema=n.mapping(Ca.multitonEntries(L));var w=function(a,b){this.x=a;this.y=b};w.prototype.toString=function(){return"("+this.x+", "+this.y+")"};w.prototype.distanceFrom=function(a){return Math.hypot(Math.abs(this.x-a.x),Math.abs(this.y-a.y))};w.schema=n.classOf({x:n.aNumber,y:n.aNumber},function(a){return new w(a.x,a.y)});var Oa,Nb=function(a){return u.call(this,
a)||this};$jscomp.inherits(Nb,u);Nb.prototype.getTileName=function(){return Oa.tileName};Nb.prototype.getTileDescription=function(){return Oa.tileDescription};Nb.prototype.getTexture=function(a){var b=this.position.x,c=this.position.y,f=a.getTileAtCoordinates(new w(b,c-1))instanceof Oa,l=a.getTileAtCoordinates(new w(b,c+1))instanceof Oa,g=a.getTileAtCoordinates(new w(b+1,c))instanceof Oa;return(a=a.getTileAtCoordinates(new w(b-1,c))instanceof Oa)&&g&&f&&l?Fg:a&&g&&f?Ng:a&&f&&l?Pg:a&&g&&l?Mg:g&&f&&
l?Og:a&&f?Kg:g&&f?Lg:a&&l?Ig:g&&l?Jg:a||g?Gg:Hg};var Ob=Oa=Nb;Ob.tileName="Road";Ob.tileDescription="Allows transportation of workers and supplies";Ob.schema=n.classOf({position:w.schema},function(a){return new Oa(a.position)});var tb=Ob=Oa=function(a,b,c,f){var l=arguments.length,g=3>l?b:null===f?f=Object.getOwnPropertyDescriptor(b,c):f,d;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,f);else for(var e=a.length-1;0<=e;e--)if(d=a[e])g=(3>l?d(g):3<l?d(b,
c,g):d(b,c))||g;return 3<l&&g&&Object.defineProperty(b,c,g),g}([I],Ob),fh=Ud(tb,1),rf={hasTech:n.recordOf({queryType:n.literal("hasTech"),technology:q.schema}),speciesHasPopulation:n.recordOf({queryType:n.literal("speciesHasPopulation"),species:L.schema,minPopulation:n.aNumber}),hasTotalPopulation:n.recordOf({queryType:n.literal("hasTotalPopulation"),minPopulation:n.aNumber}),availableHousing:n.recordOf({queryType:n.literal("availableHousing"),species:L.schema,minAvailableCapacity:n.aNumber}),tileExists:n.recordOf({queryType:n.literal("tileExists"),
tileType:ce}),allTilesAreOfType:n.recordOf({queryType:n.literal("allTilesAreOfType"),tileTypes:n.arrayOf(ce)}),hasResource:n.recordOf({queryType:n.literal("hasResource"),resource:p.schema,minQuantity:n.aNumber})},gh=n.discriminating("queryType",rf),hh=Object.assign(Object.assign({},rf),{tileWithinDistance:n.recordOf({queryType:n.literal("tileWithinDistance"),tileType:ce,radius:n.aNumber}),anyTileWithinDistance:n.recordOf({queryType:n.literal("anyTileWithinDistance"),tileTypes:n.arrayOf(ce),radius:n.aNumber}),
not:n.recordOf({queryType:n.literal("not"),query:n.lazy(function(){return ub})}),or:n.recordOf({queryType:n.literal("or"),query1:n.lazy(function(){return ub}),query2:n.lazy(function(){return ub})}),and:n.recordOf({queryType:n.literal("and"),query1:n.lazy(function(){return ub}),query2:n.lazy(function(){return ub})})}),ub=n.discriminating("queryType",hh),P=function(a,b,c,f,l,g){this.title=a;this.projectDescription=b;this.action=c;this.costs=f;this.completionRequirements=l;this.visibilityRequirements=
g};P.prototype.canDo=function(a,b){return b.inventory.canAfford(this.costs)&&this.isVisible(a,b)&&this.completionRequirements.every(function(c){return c.evaluate(b,a)})};P.prototype.isVisible=function(a,b){return this.visibilityRequirements.every(function(c){return ab(c)(b,a)})};P.prototype.doAction=function(a,b){this.canDo(a,b)?(b.inventory.payCost(this.costs),this.action(a,b)):console.warn("tried to do project "+this.title+" without meeting requirements")};var Xa=function(a,b){this.species=a;this.capacity=
b};Xa.schema=n.classOf({species:L.schema,capacity:n.aNumber},function(a){return new Xa(a.species,a.capacity)});var Pb,Qb=function(a){return u.call(this,a)||this};$jscomp.inherits(Qb,u);Qb.prototype.getTexture=function(){return ng};Qb.prototype.getTileName=function(){return Pb.tileName};Qb.prototype.getTileDescription=function(){return Pb.tileDescription};var Rb=Pb=Qb;Rb.tileName="Seed Core";Rb.tileDescription=x($jscomp$templatelit$13);Rb.schema=n.classOf({position:w.schema},function(a){return new Pb(a.position)});
var De=Rb=Pb=function(a,b,c,f){var l=arguments.length,g=3>l?b:null===f?f=Object.getOwnPropertyDescriptor(b,c):f,d;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,f);else for(var e=a.length-1;0<=e;e--)if(d=a[e])g=(3>l?d(g):3<l?d(b,c,g):d(b,c))||g;return 3<l&&g&&Object.defineProperty(b,c,g),g}([I],Rb),Sb,Tb=function(a){return u.call(this,a)||this};$jscomp.inherits(Tb,u);Tb.prototype.getTexture=function(){return pg};Tb.prototype.getTileName=function(){return Sb.tileName};
Tb.prototype.getTileDescription=function(){return Sb.tileDescription};var Ub=Sb=Tb;Ub.tileName="Hypercomputer Network";Ub.tileDescription="A self-replicating computing substrate that hosts a virtual reality for uploaded alien minds";Ub.schema=n.classOf({position:w.schema},function(a){return new Sb(a.position)});var sf=Ub=Sb=function(a,b,c,f){var l=arguments.length,g=3>l?b:null===f?f=Object.getOwnPropertyDescriptor(b,c):f,d;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,
b,c,f);else for(var e=a.length-1;0<=e;e--)if(d=a[e])g=(3>l?d(g):3<l?d(b,c,g):d(b,c))||g;return 3<l&&g&&Object.defineProperty(b,c,g),g}([I],Ub),Vb,Wb=function(a){return u.call(this,a)||this};$jscomp.inherits(Wb,u);Wb.prototype.getTexture=function(){return ah};Wb.prototype.getTileName=function(){return Vb.tileName};Wb.prototype.getTileDescription=function(){return Vb.tileDescription};var Xb=Vb=Wb;Xb.tileName="Neural Emulation Platform";Xb.tileDescription=x($jscomp$templatelit$14);Xb.schema=n.classOf({position:w.schema},
function(a){return new Vb(a.position)});var vb=Xb=Vb=function(a,b,c,f){var l=arguments.length,g=3>l?b:null===f?f=Object.getOwnPropertyDescriptor(b,c):f,d;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,f);else for(var e=a.length-1;0<=e;e--)if(d=a[e])g=(3>l?d(g):3<l?d(b,c,g):d(b,c))||g;return 3<l&&g&&Object.defineProperty(b,c,g),g}([I],Xb),Yb,Zb=function(a){return u.call(this,a)||this};$jscomp.inherits(Zb,u);Zb.prototype.getTexture=function(){return $g};
Zb.prototype.getTileName=function(){return Yb.tileName};Zb.prototype.getTileDescription=function(){return Yb.tileDescription};var $b=Yb=Zb;$b.tileName="Nanotech Foundry";$b.tileDescription="A nanotechnology manufacturing facility capable of completing the unfinished alien Monolith device";$b.schema=n.classOf({position:w.schema},function(a){return new Yb(a.position)});var ac=$b=Yb=function(a,b,c,f){var d=arguments.length,g=3>d?b:null===f?f=Object.getOwnPropertyDescriptor(b,c):f,e;if("object"===typeof Reflect&&
"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,f);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>d?e(g):3<d?e(b,c,g):e(b,c))||g;return 3<d&&g&&Object.defineProperty(b,c,g),g}([I],$b),bc,cc=function(a){return u.call(this,a)||this};$jscomp.inherits(cc,u);cc.prototype.getTexture=function(){return qg};cc.prototype.getTileName=function(){return bc.tileName};cc.prototype.getTileDescription=function(){return bc.tileDescription};var dc=bc=cc;dc.tileName="Hypercomputer Network";dc.tileDescription=
"A self-replicating computing substrate hosting a utopian virtual reality for uploaded human minds";dc.schema=n.classOf({position:w.schema},function(a){return new bc(a.position)});var tf=dc=bc=function(a,b,c,f){var d=arguments.length,g=3>d?b:null===f?f=Object.getOwnPropertyDescriptor(b,c):f,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,f);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>d?e(g):3<d?e(b,c,g):e(b,c))||g;return 3<d&&g&&Object.defineProperty(b,
c,g),g}([I],dc),ec,fc=function(a){return u.call(this,a)||this};$jscomp.inherits(fc,u);fc.prototype.getTexture=function(){return og};fc.prototype.getTileName=function(){return ec.tileName};fc.prototype.getTileDescription=function(){return ec.tileDescription};var gc=ec=fc;gc.tileName="Seed Core";gc.tileDescription=x($jscomp$templatelit$15);gc.schema=n.classOf({position:w.schema},function(a){return new ec(a.position)});var Ee=gc=ec=function(a,b,c,f){var d=arguments.length,g=3>d?b:null===f?f=Object.getOwnPropertyDescriptor(b,
c):f,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,f);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>d?e(g):3<d?e(b,c,g):e(b,c))||g;return 3<d&&g&&Object.defineProperty(b,c,g),g}([I],gc),na=function(a,b){var c=this;this.parentScreen=a;this.world=b;this.viewWidth=Ba.currentOptions.viewWidth;this.viewHeight=Ba.currentOptions.viewHeight;this.highlightedCoordinates=void 0;this.html=m.makeCanvas(this.viewWidth*na.pixelsPerTile,this.viewHeight*na.pixelsPerTile,
["map-canvas"]);this.html.addEventListener("click",function(a){return c.handleClick(a)});this.refresh()};na.prototype.refresh=function(){var a=this.world.viewPosition;a=this.world.getTilesInRectangle(a.x,a.y,this.viewWidth,this.viewHeight);a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())b=b.value,this.drawSquareAtCoordinates(b.getTexture(this.world),b.position);void 0!==this.highlightedCoordinates&&this.drawSquareAtCoordinates(cg,this.highlightedCoordinates)};na.prototype.drawSquareAtCoordinates=
function(a,b){var c=this.html.getContext("2d");c.imageSmoothingEnabled=!1;var f=b.x-this.world.viewPosition.x;b=b.y-this.world.viewPosition.y;if(!(0>f||0>b||f>=this.viewWidth||b>=this.viewHeight)){var d=na.pixelsPerTile/a.width*a.height;c.drawImage(a,f*na.pixelsPerTile,b*na.pixelsPerTile-d+na.pixelsPerTile,na.pixelsPerTile,d)}};na.prototype.selectTile=function(a){this.highlightedCoordinates=null===a||void 0===a?void 0:a.position;this.refresh();this.parentScreen.changeSidebarTile(this.highlightedCoordinates)};
na.prototype.moveViewArea=function(a,b){a=C(0,this.world.viewPosition.x+a,this.world.width-this.viewWidth);b=C(0,this.world.viewPosition.y+b,this.world.height-this.viewHeight);this.world.viewPosition=new w(a,b);this.refresh()};na.prototype.handleClick=function(a){a=this.world.getTileAtCoordinates(new w(this.world.viewPosition.x+Math.floor(this.viewWidth/this.html.clientWidth*(a.pageX-this.html.offsetLeft)),this.world.viewPosition.y+Math.floor(this.viewHeight/this.html.clientHeight*(a.pageY-this.html.offsetTop))));
this.selectTile(a)};na.prototype.handleKeyDown=function(a){var b=a.code;if("ArrowUp"===b||"KeyW"===b)a.preventDefault(),this.moveViewArea(0,-1);if("ArrowLeft"===b||"KeyA"===b)a.preventDefault(),this.moveViewArea(-1,0);if("ArrowDown"===b||"KeyS"===b)a.preventDefault(),this.moveViewArea(0,1);if("ArrowRight"===b||"KeyD"===b)a.preventDefault(),this.moveViewArea(1,0)};na.pixelsPerTile=100;var hc=function(a,b){this.parentScreen=a;this.game=b;this.position=void 0;this.html=m.makeDiv(["world-screen-sidebar"]);
this.refresh()};hc.prototype.changeTile=function(a){this.position=a;this.refresh()};hc.prototype.refresh=function(){if(void 0===this.position)m.fillHTML(this.html,[m.makePara("No structure or terrain tile selected",["sidebar-tile-name"])]);else{var a=this.game.world.getTileAtCoordinates(this.position),b=m.makeDiv();a.populationCapacity&&b.appendChild(m.makePara("Population capacity for "+a.populationCapacity.capacity+" "+a.populationCapacity.species.name));for(var c=m.makeDiv(),f=$jscomp.makeIterator(a.possibleProjects),
d=f.next();!d.done;d=f.next())d=d.value,d.isVisible(this.position,this.game)&&c.appendChild(this.makeProjectHTML(a,d));f=m.makeDiv();if(0<a.resourceConversions.length){f.appendChild(m.makePara("Production:"));d=$jscomp.makeIterator(a.resourceConversions);for(var g=d.next();!g.done;g=d.next())f.appendChild(m.makePara("- "+g.value.toString()))}m.fillHTML(this.html,[m.makePara(a.getTileName(),["sidebar-tile-name"]),m.makePara(a.getTileDescription()),b,f,c])}};hc.prototype.makeProjectHTML=function(a,
b){var c=this,f=m.makeDiv(["tile-project"]),d=m.makeButton(b.title,function(){c.doProject(b,a)},[],b.canDo(a.position,this.game)?"enabled":"disabled");f.appendChild(d);f.appendChild(m.makePara(b.projectDescription));if(0===b.costs.length)f.appendChild(m.makePara("Cost: Free"));else{var g=this.game.inventory.clone();d=b.costs.map(function(a){var b=g.canAfford([a]),c=m.makePara(a.toString(),[b?"project-requirement-met":"project-requirement-unmet"]);b&&g.payCost([a]);return c});f.appendChild(m.makeDivContaining([m.makePara("Costs: ")].concat($jscomp.arrayFromIterable(d))))}0<
b.completionRequirements.length&&f.appendChild(m.makePara("Requirements:"));d=$jscomp.makeIterator(b.completionRequirements);for(var e=d.next();!e.done;e=d.next()){e=e.value;var h=e.evaluate(this.game,a.position)?"project-requirement-met":"project-requirement-unmet";f.appendChild(m.makePara("- "+e.toString(),[h]))}return f};hc.prototype.doProject=function(a,b){a.doAction(b.position,this.game);this.game.updateQuestState();this.parentScreen.refresh()};var uf=function(a){this.inventory=a;this.html=m.makeDiv(["world-screen-inventory"]);
this.refresh()};uf.prototype.refresh=function(){for(var a=m.makeDiv(),b=$jscomp.makeIterator(this.inventory.getPopulationStrings()),c=b.next();!c.done;c=b.next())a.appendChild(m.makePara(c.value));b=m.makeDiv();var f=$jscomp.makeIterator(this.inventory.getInventoryStrings());for(c=f.next();!c.done;c=f.next())b.appendChild(m.makePara(c.value));0===this.inventory.getResourceList().length&&b.appendChild(m.makePara("(none)"));m.fillHTML(this.html,[m.makeDivContaining([m.makeDivContaining([m.makeHeader("Population",
1,[])],["world-screen-population-header"]),m.makePara("Available workers: "+this.inventory.getAvailableWorkers()),m.makePara("Total population:"+(0===this.inventory.getTotalPopulation()?" 0":"")),a,m.makeHeader("Inventory",1),b])])};var vf=function(a){var b=this;this.game=a;this.html=m.makeDivContaining([m.makeHeader("Game Paused",2),m.makeDivContaining([m.makeButton("resume_game",function(){B.show(new Da(b.game))}),Ma.makeAudioButton(this),m.makeButton("change_settings",function(){B.show(new Fe(b))}),
m.makeButton("save_and_quit",function(){Ya.saveProgress(b.game);B.show(new Ma)})],["main-menu-options"])],["main-menu","pause-menu"])};vf.prototype.refresh=function(){};var G=function(a,b){this.text=a;this.attribution=b};G.getRandomQuote=function(){if(0===this.quoteOrder.length){do this.quoteOrder=ja.shuffle(G.quotesList);while(this.quoteOrder[0]===G.lastQuote)}var a=this.quoteOrder.pop();return G.lastQuote=a};G.getQuote=function(a){return G.quotesList[a]};G.quoteOrder=[];G.quotesList=[new G(x($jscomp$templatelit$16),
"Nick Bostrom"),new G(x($jscomp$templatelit$17),"Nick Bostrom"),new G(x($jscomp$templatelit$18),"Eliezer Yudkowsky"),new G(x($jscomp$templatelit$19),"Claude Shannon"),new G(x($jscomp$templatelit$20),"Greg Egan"),new G(x($jscomp$templatelit$21),"Eliezer Yudkowsky"),new G(x($jscomp$templatelit$22),"Alan Turing"),new G(x($jscomp$templatelit$23),"Buzz Aldrin"),new G(x($jscomp$templatelit$24),"Dawn Program mission proposal, published 10942214400 SPE"),new G(x($jscomp$templatelit$25),"Isaac Calvin, CEO of CabiAI"),
new G(x($jscomp$templatelit$26),"Sol Unified Newsfeed, article published 10963335600 SPE"),new G(x($jscomp$templatelit$27),"Aurora Mission Colonist Handbook"),new G(x($jscomp$templatelit$28),"Aurora Mission Colonist Handbook"),new G(x($jscomp$templatelit$29),"A History of the Colonial Alliance by Elizabeth Seldon"),new G(x($jscomp$templatelit$30),"A History of the Colonial Alliance by Elizabeth Seldon"),new G(x($jscomp$templatelit$31),"A History of the Colonial Alliance by Elizabeth Seldon"),new G(x($jscomp$templatelit$32),
"Medical Technician Noah Verres, Aurora Expedition, T-minus-5 days to planetfall"),new G(x($jscomp$templatelit$33),"Quartermaster Allison Li, Aurora Expedition, T-minus-3 days to planetfall"),new G(x($jscomp$templatelit$34),"Journal of the Moretrue Institute for Effective Policy"),new G(x($jscomp$templatelit$35),"Introduction to Frontier Engineering by Robin North"),new G(x($jscomp$templatelit$36),"Dr. Alex Scott, Moretrue Institute for Effective Policy"),new G(x($jscomp$templatelit$37),"An Oral History of The Lunar Republics"),
new G(x($jscomp$templatelit$38),"Harmony of the Exospheres by Caritas Wilson"),new G(x($jscomp$templatelit$39),"Harmony of the Exospheres by Caritas Wilson"),new G(x($jscomp$templatelit$40),"Harmony of the Exospheres by Caritas Wilson"),new G(x($jscomp$templatelit$41),"Harmony of the Exospheres by Caritas Wilson"),new G(x($jscomp$templatelit$42),"Zeroball, Etc. by Parity Harker"),new G(x($jscomp$templatelit$43),"Zeroball, Etc. by Parity Harker")];var wb=function(a,b){this.game=a;this.quoteIndex=b;
this.doneLoading=!1;this.quote=void 0!==b?G.getQuote(b):G.getRandomQuote();a=this.quote.text;b="\u00a0".repeat(4);a=a.replace(/\t/g,b);a=a.replace(/ {4}/g,b);a=a.replace(/^(\s*)/,"$1\u201c")+"\u201d";this.loadingArea=m.makeDivContaining([m.makeDiv(["transition-loading-bar"])],["transition-loading-area"]);this.html=m.makeDivContaining([m.makeDivContaining([m.makePara(a),m.makePara("- "+this.quote.attribution,["transition-attribution"])],["transition-quote-panel"]),this.loadingArea])};wb.prototype.refresh=
function(){};wb.prototype.startLoading=function(){var a=this,b=Date.now();this.game.completeTurn();Ya.saveProgress(this.game);b=Date.now()-b;setTimeout(function(){m.fillHTML(a.loadingArea,[m.makeButton("Continue",function(){a.continueToNextTurn()})]);a.doneLoading=!0},2E3-b)};wb.prototype.continueToNextTurn=function(){B.show(new Da(this.game))};wb.prototype.handleKeyDown=function(){this.doneLoading&&this.continueToNextTurn()};var Ja=Ia(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Gb=Ia(/Edge/i),
wf=Ia(/firefox/i),Ge=Ia(/safari/i)&&!Ia(/chrome/i)&&!Ia(/android/i),ic=Ia(/iP(ad|od|hone)/i),ih=Ia(/chrome/i)&&Ia(/android/i),cf={capture:!1,passive:!1},df=/\s+/g,Eb,ta="Sortable"+(new Date).getTime(),jc=[],He={initializeByDefault:!0},Hb={mount:function(a){for(var b in He)!He.hasOwnProperty(b)||b in a||(a[b]=He[b]);jc.push(a)},pluginEvent:function(a,b,c){var f=this;this.eventCanceled=!1;c.cancel=function(){f.eventCanceled=!0};var d=a+"Global";jc.forEach(function(f){if(b[f.pluginName]){if(b[f.pluginName][d])b[f.pluginName][d](Sa({sortable:b},
c));if(b.options[f.pluginName]&&b[f.pluginName][a])b[f.pluginName][a](Sa({sortable:b},c))}})},initializePlugins:function(a,b,c,f){jc.forEach(function(f){var g=f.pluginName;if(a.options[g]||f.initializeByDefault)f=new f(a,b,a.options),f.sortable=a,f.options=a.options,a[g]=f,Ha(c,f.defaults)});for(var d in a.options)a.options.hasOwnProperty(d)&&(f=this.modifyOption(a,d,a.options[d]),"undefined"!==typeof f&&(a.options[d]=f))},getEventProperties:function(a,b){var c={};jc.forEach(function(f){"function"===
typeof f.eventProperties&&Ha(c,f.eventProperties.call(b[f.pluginName],a))});return c},modifyOption:function(a,b,c){var f;jc.forEach(function(d){a[d.pluginName]&&d.optionListeners&&"function"===typeof d.optionListeners[b]&&(f=d.optionListeners[b].call(a[d.pluginName],c))});return f}},pa=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},f=c.evt;c=Qf(c,["evt"]);Hb.pluginEvent.bind(F)(a,b,Sa({dragEl:v,parentEl:W,ghostEl:H,rootEl:R,nextEl:eb,lastDownEl:de,cloneEl:S,cloneHidden:Za,
dragStarted:kc,putSortable:ia,activeSortable:F.active,originalEvent:f,oldIndex:nb,oldDraggableIndex:Fb,newIndex:sa,newDraggableIndex:Ua,hideGhostForTarget:xf,unhideGhostForTarget:yf,cloneNowHidden:function(){Za=!0},cloneNowShown:function(){Za=!1},dispatchSortableEvent:function(a){ma({sortable:b,name:a,originalEvent:f})}},c))},v,W,H,R,eb,de,S,Za,nb,sa,Fb,Ua,ee,ia,xb=!1,fe=!1,Xd=[],fb,Ea,Ie,Je,zf,Af,kc,yb,Jb,Ib=!1,ge=!1,Yd,la,Ke=[],ve=!1,Zd=[],he="undefined"!==typeof document,Bf=Gb||Ja?"cssFloat":"float",
Uf=he&&!ih&&!ic&&"draggable"in document.createElement("div"),Cf=function(){if(he){if(Ja)return!1;var a=document.createElement("x");a.style.cssText="pointer-events:auto";return"auto"===a.style.pointerEvents}}(),lf=function(a,b){var c=E(a),f=parseInt(c.width)-parseInt(c.paddingLeft)-parseInt(c.paddingRight)-parseInt(c.borderLeftWidth)-parseInt(c.borderRightWidth),d=Wd(a,0,b);a=Wd(a,1,b);var g=d&&E(d);b=a&&E(a);var e=g&&parseInt(g.marginLeft)+parseInt(g.marginRight)+ha(d).width,h=b&&parseInt(b.marginLeft)+
parseInt(b.marginRight)+ha(a).width;return"flex"===c.display?"column"===c.flexDirection||"column-reverse"===c.flexDirection?"vertical":"horizontal":"grid"===c.display?1>=c.gridTemplateColumns.split(" ").length?"vertical":"horizontal":d&&g["float"]&&"none"!==g["float"]?(c="left"===g["float"]?"left":"right",!a||"both"!==b.clear&&b.clear!==c?"horizontal":"vertical"):d&&("block"===g.display||"flex"===g.display||"table"===g.display||"grid"===g.display||e>=f&&"none"===c[Bf]||a&&"none"===c[Bf]&&e+h>f)?"vertical":
"horizontal"},jh=function(a,b,c){var f=c?a.left:a.top,d=c?a.right:a.bottom;a=c?a.width:a.height;var g=c?b.left:b.top,e=c?b.right:b.bottom;b=c?b.width:b.height;return f===g||d===e||f+a/2===g+b/2},kh=function(a,b){var c;Xd.some(function(f){if(!qe(f)){var d=ha(f),g=f[ta].options.emptyInsertThreshold,e=a>=d.left-g&&a<=d.right+g;d=b>=d.top-g&&b<=d.bottom+g;if(g&&e&&d)return c=f}});return c},mf=function(a){function b(a,c){return function(f,g,d,l){var e=f.options.group.name&&g.options.group.name&&f.options.group.name===
g.options.group.name;if(null==a&&(c||e))return!0;if(null==a||!1===a)return!1;if(c&&"clone"===a)return a;if("function"===typeof a)return b(a(f,g,d,l),c)(f,g,d,l);f=(c?f:g).options.group.name;return!0===a||"string"===typeof a&&a===f||a.join&&-1<a.indexOf(f)}}var c={},f=a.group;f&&"object"==pe(f)||(f={name:f});c.name=f.name;c.checkPull=b(f.pull,!0);c.checkPut=b(f.put);c.revertClone=f.revertClone;a.group=c},xf=function(){!Cf&&H&&E(H,"display","none")},yf=function(){!Cf&&H&&E(H,"display","")};he&&document.addEventListener("click",
function(a){if(fe)return a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),fe=!1},!0);var gb=function(a){if(v){a=a.touches?a.touches[0]:a;var b=kh(a.clientX,a.clientY);if(b){var c={},f;for(f in a)a.hasOwnProperty(f)&&(c[f]=a[f]);c.target=c.rootEl=b;c.preventDefault=void 0;c.stopPropagation=void 0;b[ta]._onDragOver(c)}}},lh=function(a){v&&v.parentNode[ta]._isOutsideThisEl(a.target)};F.prototype={constructor:F,_isOutsideThisEl:function(a){this.el.contains(a)||
a===this.el||(yb=null)},_getDirection:function(a,b){return"function"===typeof this.options.direction?this.options.direction.call(this,a,b,v):this.options.direction},_onTapStart:function(a){if(a.cancelable){var b=this,c=this.el,f=this.options,d=f.preventOnFilter,g=a.type,e=a.touches&&a.touches[0]||a.pointerType&&"touch"===a.pointerType&&a,h=(e||a).target,m=a.target.shadowRoot&&(a.path&&a.path[0]||a.composedPath&&a.composedPath()[0])||h,k=f.filter;Zf(c);if(!(v||/mousedown|pointerdown/.test(g)&&0!==
a.button||f.disabled||m.isContentEditable||(h=Fa(h,f.draggable,c,!1),h&&h.animated||de===h))){nb=wa(h);Fb=wa(h,f.draggable);if("function"===typeof k){if(k.call(this,a,h,this)){ma({sortable:b,rootEl:m,name:"filter",targetEl:h,toEl:c,fromEl:c});pa("filter",b,{evt:a});d&&a.cancelable&&a.preventDefault();return}}else if(k&&(k=k.split(",").some(function(f){if(f=Fa(m,f.trim(),c,!1))return ma({sortable:b,rootEl:f,name:"filter",targetEl:h,fromEl:c,toEl:c}),pa("filter",b,{evt:a}),!0}))){d&&a.cancelable&&a.preventDefault();
return}f.handle&&!Fa(m,f.handle,c,!1)||this._prepareDragStart(a,e,h)}}},_prepareDragStart:function(a,b,c){var f=this,d=f.el,g=f.options,e=d.ownerDocument;if(c&&!v&&c.parentNode===d){var h=ha(c);R=d;v=c;W=v.parentNode;eb=v.nextSibling;de=c;ee=g.group;F.dragged=v;fb={target:v,clientX:(b||a).clientX,clientY:(b||a).clientY};zf=fb.clientX-h.left;Af=fb.clientY-h.top;this._lastX=(b||a).clientX;this._lastY=(b||a).clientY;v.style["will-change"]="all";c=function(){pa("delayEnded",f,{evt:a});F.eventCanceled?
f._onDrop():(f._disableDelayedDragEvents(),!wf&&f.nativeDraggable&&(v.draggable=!0),f._triggerDragStart(a,b),ma({sortable:f,name:"choose",originalEvent:a}),ra(v,g.chosenClass,!0))};g.ignore.split(",").forEach(function(a){ef(v,a.trim(),ue)});M(e,"dragover",gb);M(e,"mousemove",gb);M(e,"touchmove",gb);M(e,"mouseup",f._onDrop);M(e,"touchend",f._onDrop);M(e,"touchcancel",f._onDrop);wf&&this.nativeDraggable&&(this.options.touchStartThreshold=4,v.draggable=!0);pa("delayStart",this,{evt:a});!g.delay||g.delayOnTouchOnly&&
!b||this.nativeDraggable&&(Gb||Ja)?c():F.eventCanceled?this._onDrop():(M(e,"mouseup",f._disableDelayedDrag),M(e,"touchend",f._disableDelayedDrag),M(e,"touchcancel",f._disableDelayedDrag),M(e,"mousemove",f._delayedDragTouchMoveHandler),M(e,"touchmove",f._delayedDragTouchMoveHandler),g.supportPointer&&M(e,"pointermove",f._delayedDragTouchMoveHandler),f._dragStartTimer=setTimeout(c,g.delay))}},_delayedDragTouchMoveHandler:function(a){a=a.touches?a.touches[0]:a;Math.max(Math.abs(a.clientX-this._lastX),
Math.abs(a.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){v&&ue(v);clearTimeout(this._dragStartTimer);this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var a=this.el.ownerDocument;K(a,"mouseup",this._disableDelayedDrag);K(a,"touchend",this._disableDelayedDrag);K(a,"touchcancel",this._disableDelayedDrag);K(a,"mousemove",this._delayedDragTouchMoveHandler);
K(a,"touchmove",this._delayedDragTouchMoveHandler);K(a,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(a,b){b=b||"touch"==a.pointerType&&a;!this.nativeDraggable||b?this.options.supportPointer?M(document,"pointermove",this._onTouchMove):b?M(document,"touchmove",this._onTouchMove):M(document,"mousemove",this._onTouchMove):(M(v,"dragend",this),M(R,"dragstart",this._onDragStart));try{document.selection?$d(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(c){}},
_dragStarted:function(a,b){xb=!1;if(R&&v){pa("dragStarted",this,{evt:b});this.nativeDraggable&&M(document,"dragover",lh);var c=this.options;!a&&ra(v,c.dragClass,!1);ra(v,c.ghostClass,!0);F.active=this;a&&this._appendGhost();ma({sortable:this,name:"start",originalEvent:b})}else this._nulling()},_emulateDragOver:function(){if(Ea){this._lastX=Ea.clientX;this._lastY=Ea.clientY;xf();for(var a=document.elementFromPoint(Ea.clientX,Ea.clientY),b=a;a&&a.shadowRoot;){a=a.shadowRoot.elementFromPoint(Ea.clientX,
Ea.clientY);if(a===b)break;b=a}v.parentNode[ta]._isOutsideThisEl(a);if(b){do{if(b[ta]&&b[ta]._onDragOver({clientX:Ea.clientX,clientY:Ea.clientY,target:a,rootEl:b})&&!this.options.dragoverBubble)break;a=b}while(b=b.parentNode)}yf()}},_onTouchMove:function(a){if(fb){var b=this.options,c=b.fallbackTolerance,f=b.fallbackOffset;b=a.touches?a.touches[0]:a;var d=H&&lb(H,!0),g=H&&d&&d.a,e=H&&d&&d.d,h=ic&&la&&gf(la);g=(b.clientX-fb.clientX+f.x)/(g||1)+(h?h[0]-Ke[0]:0)/(g||1);f=(b.clientY-fb.clientY+f.y)/(e||
1)+(h?h[1]-Ke[1]:0)/(e||1);if(!F.active&&!xb){if(c&&Math.max(Math.abs(b.clientX-this._lastX),Math.abs(b.clientY-this._lastY))<c)return;this._onDragStart(a,!0)}H&&(d?(d.e+=g-(Ie||0),d.f+=f-(Je||0)):d={a:1,b:0,c:0,d:1,e:g,f:f},c="matrix(".concat(d.a,",").concat(d.b,",").concat(d.c,",").concat(d.d,",").concat(d.e,",").concat(d.f,")"),E(H,"webkitTransform",c),E(H,"mozTransform",c),E(H,"msTransform",c),E(H,"transform",c),Ie=g,Je=f,Ea=b);a.cancelable&&a.preventDefault()}},_appendGhost:function(){if(!H){var a=
this.options.fallbackOnBody?document.body:R,b=ha(v,!0,ic,!0,a),c=this.options;if(ic){for(la=a;"static"===E(la,"position")&&"none"===E(la,"transform")&&la!==document;)la=la.parentNode;la!==document.body&&la!==document.documentElement?(la===document&&(la=Ka()),b.top+=la.scrollTop,b.left+=la.scrollLeft):la=Ka();Ke=gf(la)}H=v.cloneNode(!0);ra(H,c.ghostClass,!1);ra(H,c.fallbackClass,!0);ra(H,c.dragClass,!0);E(H,"transition","");E(H,"transform","");E(H,"box-sizing","border-box");E(H,"margin",0);E(H,"top",
b.top);E(H,"left",b.left);E(H,"width",b.width);E(H,"height",b.height);E(H,"opacity","0.8");E(H,"position",ic?"absolute":"fixed");E(H,"zIndex","100000");E(H,"pointerEvents","none");F.ghost=H;a.appendChild(H);E(H,"transform-origin",zf/parseInt(H.style.width)*100+"% "+Af/parseInt(H.style.height)*100+"%")}},_onDragStart:function(a,b){var c=this,f=a.dataTransfer,d=c.options;pa("dragStart",this,{evt:a});F.eventCanceled?this._onDrop():(pa("setupClone",this),F.eventCanceled||(S=kf(v),S.draggable=!1,S.style["will-change"]=
"",this._hideClone(),ra(S,this.options.chosenClass,!1),F.clone=S),c.cloneId=$d(function(){pa("clone",c);F.eventCanceled||(c.options.removeCloneOnHide||R.insertBefore(S,v),c._hideClone(),ma({sortable:c,name:"clone"}))}),!b&&ra(v,d.dragClass,!0),b?(fe=!0,c._loopId=setInterval(c._emulateDragOver,50)):(K(document,"mouseup",c._onDrop),K(document,"touchend",c._onDrop),K(document,"touchcancel",c._onDrop),f&&(f.effectAllowed="move",d.setData&&d.setData.call(c,f,v)),M(document,"drop",c),E(v,"transform","translateZ(0)")),
xb=!0,c._dragStartId=$d(c._dragStarted.bind(c,b,a)),M(document,"selectstart",c),kc=!0,Ge&&E(document.body,"user-select","none"))},_onDragOver:function(a){function b(b,c){pa(b,u,Sa({evt:a,isOwner:q,axis:x?"vertical":"horizontal",revert:m,dragRect:C,targetRect:h,canSort:r,fromSortable:t,target:e,completed:f,onMove:function(b,c){return te(R,g,v,C,b,ha(b),a,c)},changed:d},c))}function c(){b("dragOverAnimationCapture");u.captureAnimationState();u!==t&&t.captureAnimationState()}function f(c){b("dragOverCompleted",
{insertion:c});c&&(q?p._hideClone():p._showClone(u),u!==t&&(ra(v,ia?ia.options.ghostClass:p.options.ghostClass,!1),ra(v,k.ghostClass,!0)),ia!==u&&u!==F.active?ia=u:u===F.active&&ia&&(ia=null),t===u&&(u._ignoreWhileAnimating=e),u.animateAll(function(){b("dragOverAnimationComplete");u._ignoreWhileAnimating=null}),u!==t&&(t.animateAll(),t._ignoreWhileAnimating=null));if(e===v&&!v.animated||e===g&&!e.animated)yb=null;k.dragoverBubble||a.rootEl||e===document||(v.parentNode[ta]._isOutsideThisEl(a.target),
!c&&gb(a));!k.dragoverBubble&&a.stopPropagation&&a.stopPropagation();return w=!0}function d(){sa=wa(v);Ua=wa(v,k.draggable);ma({sortable:u,name:"change",toEl:g,newIndex:sa,newDraggableIndex:Ua,originalEvent:a})}var g=this.el,e=a.target,h,m,k=this.options,n=k.group,p=F.active,q=ee===n,r=k.sort,t=ia||p,u=this,w=!1;if(!ve){void 0!==a.preventDefault&&a.cancelable&&a.preventDefault();e=Fa(e,k.draggable,g,!0);b("dragOver");if(F.eventCanceled)return w;if(v.contains(a.target)||e.animated&&e.animatingX&&e.animatingY||
u._ignoreWhileAnimating===e)return f(!1);fe=!1;if(p&&!k.disabled&&(q?r||(m=!R.contains(v)):ia===this||(this.lastPutMode=ee.checkPull(this,p,v,a))&&n.checkPut(this,p,v,a))){var x="vertical"===this._getDirection(a,e);var C=ha(v);b("dragOverValid");if(F.eventCanceled)return w;if(m)return W=R,c(),this._hideClone(),b("revert"),F.eventCanceled||(eb?R.insertBefore(v,eb):R.appendChild(v)),f(!0);n=qe(g,k.draggable);if(!n||Wf(a,x,this)&&!n.animated){if(n===v)return f(!1);n&&g===a.target&&(e=n);e&&(h=ha(e));
if(!1!==te(R,g,v,C,e,h,a,!!e))return c(),g.appendChild(v),W=g,d(),f(!0)}else if(e.parentNode===g){h=ha(e);var B=0;B=v.parentNode!==g;var y=!jh(v.animated&&v.toRect||C,e.animated&&e.toRect||h,x);n=x?"top":"left";var G=ff(e,"top","top")||ff(v,"top","top"),J=G?G.scrollTop:void 0;if(yb!==e){var I=h[n];Ib=!1;ge=!y&&k.invertSwap||B}B=Xf(a,e,h,x,y?1:k.swapThreshold,null==k.invertedSwapThreshold?k.swapThreshold:k.invertedSwapThreshold,ge,yb===e);if(0!==B){y=wa(v);do{y-=B;var D=W.children[y]}while(D&&("none"===
E(D,"display")||D===H))}if(0===B||D===e)return f(!1);yb=e;Jb=B;D=e.nextElementSibling;y=!1;y=1===B;B=te(R,g,v,C,e,h,a,y);if(!1!==B){if(1===B||-1===B)y=1===B;ve=!0;setTimeout(Vf,30);c();y&&!D?g.appendChild(v):e.parentNode.insertBefore(v,y?D:e);G&&jf(G,0,J-G.scrollTop);W=v.parentNode;void 0===I||ge||(Yd=Math.abs(I-ha(e)[n]));d();return f(!0)}}if(g.contains(v))return f(!1)}return!1}},_ignoreWhileAnimating:null,_offMoveEvents:function(){K(document,"mousemove",this._onTouchMove);K(document,"touchmove",
this._onTouchMove);K(document,"pointermove",this._onTouchMove);K(document,"dragover",gb);K(document,"mousemove",gb);K(document,"touchmove",gb)},_offUpEvents:function(){var a=this.el.ownerDocument;K(a,"mouseup",this._onDrop);K(a,"touchend",this._onDrop);K(a,"pointerup",this._onDrop);K(a,"touchcancel",this._onDrop);K(document,"selectstart",this)},_onDrop:function(a){var b=this.el,c=this.options;sa=wa(v);Ua=wa(v,c.draggable);pa("drop",this,{evt:a});W=v&&v.parentNode;sa=wa(v);Ua=wa(v,c.draggable);if(!F.eventCanceled&&
(Ib=ge=xb=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),clearTimeout(this.cloneId),clearTimeout(this._dragStartId),this.nativeDraggable&&(K(document,"drop",this),K(b,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ge&&E(document.body,"user-select",""),E(v,"transform",""),a&&(kc&&(a.cancelable&&a.preventDefault(),!c.dropBubble&&a.stopPropagation()),H&&H.parentNode&&H.parentNode.removeChild(H),(R===W||ia&&"clone"!==ia.lastPutMode)&&S&&S.parentNode&&S.parentNode.removeChild(S),
v&&(this.nativeDraggable&&K(v,"dragend",this),ue(v),v.style["will-change"]="",kc&&!xb&&ra(v,ia?ia.options.ghostClass:this.options.ghostClass,!1),ra(v,this.options.chosenClass,!1),ma({sortable:this,name:"unchoose",toEl:W,newIndex:null,newDraggableIndex:null,originalEvent:a}),R!==W?(0<=sa&&(ma({rootEl:W,name:"add",toEl:W,fromEl:R,originalEvent:a}),ma({sortable:this,name:"remove",toEl:W,originalEvent:a}),ma({rootEl:W,name:"sort",toEl:W,fromEl:R,originalEvent:a}),ma({sortable:this,name:"sort",toEl:W,
originalEvent:a})),ia&&ia.save()):sa!==nb&&0<=sa&&(ma({sortable:this,name:"update",toEl:W,originalEvent:a}),ma({sortable:this,name:"sort",toEl:W,originalEvent:a})),F.active)))){if(null==sa||-1===sa)sa=nb,Ua=Fb;ma({sortable:this,name:"end",toEl:W,originalEvent:a});this.save()}this._nulling()},_nulling:function(){pa("nulling",this);R=v=W=H=eb=S=de=Za=fb=Ea=kc=sa=Ua=nb=Fb=yb=Jb=ia=ee=F.dragged=F.ghost=F.clone=F.active=null;Zd.forEach(function(a){a.checked=!0});Zd.length=Ie=Je=0},handleEvent:function(a){switch(a.type){case "drop":case "dragend":this._onDrop(a);
break;case "dragenter":case "dragover":v&&(this._onDragOver(a),a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.cancelable&&a.preventDefault());break;case "selectstart":a.preventDefault()}},toArray:function(){for(var a=[],b,c=this.el.children,f=0,d=c.length,g=this.options;f<d;f++)b=c[f],Fa(b,g.draggable,this.el,!1)&&a.push(b.getAttribute(g.dataIdAttr)||Yf(b));return a},sort:function(a){var b={},c=this.el;this.toArray().forEach(function(a,d){d=c.children[d];Fa(d,this.options.draggable,c,!1)&&(b[a]=
d)},this);a.forEach(function(a){b[a]&&(c.removeChild(b[a]),c.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set&&a.set(this)},closest:function(a,b){return Fa(a,b||this.options.draggable,this.el,!1)},option:function(a,b){var c=this.options;if(void 0===b)return c[a];var f=Hb.modifyOption(this,a,b);c[a]="undefined"!==typeof f?f:b;"group"===a&&mf(c)},destroy:function(){pa("destroy",this);var a=this.el;a[ta]=null;K(a,"mousedown",this._onTapStart);K(a,"touchstart",this._onTapStart);
K(a,"pointerdown",this._onTapStart);this.nativeDraggable&&(K(a,"dragover",this),K(a,"dragenter",this));Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")});this._onDrop();this._disableDelayedDragEvents();Xd.splice(Xd.indexOf(this.el),1);this.el=a=null},_hideClone:function(){Za||(pa("hideClone",this),F.eventCanceled||(E(S,"display","none"),this.options.removeCloneOnHide&&S.parentNode&&S.parentNode.removeChild(S),Za=!0))},_showClone:function(a){"clone"!==
a.lastPutMode?this._hideClone():Za&&(pa("showClone",this),F.eventCanceled||(R.contains(v)&&!this.options.group.revertClone?R.insertBefore(S,v):eb?R.insertBefore(S,eb):R.appendChild(S),this.options.group.revertClone&&this.animate(v,S),E(S,"display",""),Za=!1))}};he&&M(document,"touchmove",function(a){(F.active||xb)&&a.cancelable&&a.preventDefault()});F.utils={on:M,off:K,css:E,find:ef,is:function(a,b){return!!Fa(a,b,a,!1)},extend:function(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);
return a},throttle:hf,closest:Fa,toggleClass:ra,clone:kf,index:wa,nextTick:$d,cancelNextTick:function(a){return clearTimeout(a)},detectDirection:lf,getChild:Wd};F.get=function(a){return a[ta]};F.mount=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];b[0].constructor===Array&&(b=b[0]);b.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(F.utils=Sa({},F.utils,
a.utils));Hb.mount(a)})};F.create=function(a,b){return new F(a,b)};F.version="1.10.2";var U=[],lc,Le,Me=!1,Ne,Oe,ie,zb,Pe=hf(function(a,b,c,f){if(b.scroll){var d=(a.touches?a.touches[0]:a).clientX,g=(a.touches?a.touches[0]:a).clientY,e=b.scrollSensitivity,h=b.scrollSpeed,k=Ka(),m=!1;if(Le!==c){Le=c;ae();lc=b.scroll;var n=b.scrollFn;!0===lc&&(lc=Ta(c,!0))}c=0;var p=lc;do{var q=p,r=ha(q),t=r.top,u=r.bottom,v=r.left,w=r.right,x=r.width;r=r.height;var B=void 0,y=void 0,C=q.scrollWidth,D=q.scrollHeight;
y=E(q);var G=q.scrollLeft,H=q.scrollTop;q===k?(B=x<C&&("auto"===y.overflowX||"scroll"===y.overflowX||"visible"===y.overflowX),y=r<D&&("auto"===y.overflowY||"scroll"===y.overflowY||"visible"===y.overflowY)):(B=x<C&&("auto"===y.overflowX||"scroll"===y.overflowX),y=r<D&&("auto"===y.overflowY||"scroll"===y.overflowY));v=B&&(Math.abs(w-d)<=e&&G+x<C)-(Math.abs(v-d)<=e&&!!G);t=y&&(Math.abs(u-g)<=e&&H+r<D)-(Math.abs(t-g)<=e&&!!H);if(!U[c])for(u=0;u<=c;u++)U[u]||(U[u]={});if(U[c].vx!=v||U[c].vy!=t||U[c].el!==
q)if(U[c].el=q,U[c].vx=v,U[c].vy=t,clearInterval(U[c].pid),0!=v||0!=t)m=!0,U[c].pid=setInterval(function(){f&&0===this.layer&&F.active._onTouchMove(ie);var b=U[this.layer].vy?U[this.layer].vy*h:0,c=U[this.layer].vx?U[this.layer].vx*h:0;"function"===typeof n&&"continue"!==n.call(F.dragged.parentNode[ta],c,b,a,ie,U[this.layer].el)||jf(U[this.layer].el,c,b)}.bind({layer:c}),24);c++}while(b.bubbleScroll&&p!==k&&(p=Ta(p,!1)));Me=m}},30),Df=function(a){var b=a.originalEvent,c=a.putSortable,f=a.dragEl,d=
a.activeSortable,g=a.dispatchSortableEvent,e=a.hideGhostForTarget;a=a.unhideGhostForTarget;b&&(d=c||d,e(),b=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:b,b=document.elementFromPoint(b.clientX,b.clientY),a(),d&&!d.el.contains(b)&&(g("spill"),this.onSpill({dragEl:f,putSortable:c})))};we.prototype={startIndex:null,dragStart:function(a){this.startIndex=a.oldDraggableIndex},onSpill:function(a){var b=a.dragEl;a=a.putSortable;this.sortable.captureAnimationState();a&&a.captureAnimationState();
var c=Wd(this.sortable.el,this.startIndex,this.options);c?this.sortable.el.insertBefore(b,c):this.sortable.el.appendChild(b);this.sortable.animateAll();a&&a.animateAll()},drop:Df};Ha(we,{pluginName:"revertOnSpill"});xe.prototype={onSpill:function(a){var b=a.dragEl;a=a.putSortable||this.sortable;a.captureAnimationState();b.parentNode&&b.parentNode.removeChild(b);a.animateAll()},drop:Df};Ha(xe,{pluginName:"removeOnSpill"});F.mount(new function(){function a(){this.defaults={scroll:!0,scrollSensitivity:30,
scrollSpeed:10,bubbleScroll:!0};for(var a in this)"_"===a.charAt(0)&&"function"===typeof this[a]&&(this[a]=this[a].bind(this))}a.prototype={dragStarted:function(a){a=a.originalEvent;this.sortable.nativeDraggable?M(document,"dragover",this._handleAutoScroll):this.options.supportPointer?M(document,"pointermove",this._handleFallbackAutoScroll):a.touches?M(document,"touchmove",this._handleFallbackAutoScroll):M(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(a){a=a.originalEvent;
this.options.dragOverBubble||a.rootEl||this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?K(document,"dragover",this._handleAutoScroll):(K(document,"pointermove",this._handleFallbackAutoScroll),K(document,"touchmove",this._handleFallbackAutoScroll),K(document,"mousemove",this._handleFallbackAutoScroll));clearInterval(zb);ae();clearTimeout(Eb);Eb=void 0},nulling:function(){ie=Le=lc=Me=zb=Ne=Oe=null;U.length=0},_handleFallbackAutoScroll:function(a){this._handleAutoScroll(a,!0)},
_handleAutoScroll:function(a,c){var b=this,d=(a.touches?a.touches[0]:a).clientX,g=(a.touches?a.touches[0]:a).clientY,e=document.elementFromPoint(d,g);ie=a;if(c||Gb||Ja||Ge){Pe(a,this.options,e,c);var h=Ta(e,!0);!Me||zb&&d===Ne&&g===Oe||(zb&&clearInterval(zb),zb=setInterval(function(){var f=Ta(document.elementFromPoint(d,g),!0);f!==h&&(h=f,ae());Pe(a,b.options,f,c)},10),Ne=d,Oe=g)}else this.options.bubbleScroll&&Ta(e,!0)!==Ka()?Pe(a,this.options,Ta(e,!1),!1):ae()}};return Ha(a,{pluginName:"scroll",
initializeByDefault:!0})});F.mount(xe,we);var mh=F,$a=function(a){this.game=a;this.html=m.makeDiv(["production-screen"]);this.refresh()};$a.prototype.refresh=function(){var a=this,b=this.game.inventory.clone(),c=this.game.getResourceConversions(),f=m.makeDiv();c=$jscomp.makeIterator(c);for(var d=c.next();!d.done;d=c.next())d=d.value,b.canAfford(d.inputs)&&b.hasEnoughWorkers(d.requiredWorkers)?(f.appendChild(this.renderConversion(d,!0)),b.applyConversions([d])):f.appendChild(this.renderConversion(d,
!1));mh.create(f,{onEnd:function(b){var c=b.oldDraggableIndex;b=b.newDraggableIndex;void 0!==c&&void 0!==b&&a.shiftConversion(c,b)}});c=m.makeDiv();if(0!==this.game.inventory.getSpeciesList().length){d=b.clone();c.appendChild(m.makePara("Resources required for worker upkeep:",["production-screen-worker-consumption-label"]));for(var g=$jscomp.makeIterator(d.getSpeciesList()),e=g.next();!e.done;e=g.next()){var h=e.value;e=d.getProvidedWorkerConsumption(h).quantity;var k=d.getRequiredWorkerConsumption(h).quantity;
c.appendChild(m.makePara(h.name+": "+e+"/"+k+" "+h.survivalCost.resource.name,[k>e?"population-consumption-unmet":"population-consumption-met","production-screen-worker-consumption"]));d.payCost([d.getProvidedWorkerConsumption(h)])}}d=m.makeDiv();k=b.getSpeciesList();g=new Map;h=$jscomp.makeIterator(k);for(e=h.next();!e.done;e=h.next())e=e.value,g.set(e,b.getPopulation(e));b.doPopulationGrowth();h=new Map;var n=$jscomp.makeIterator(k);for(e=n.next();!e.done;e=n.next())e=e.value,h.set(e,b.getPopulation(e));
k=$jscomp.makeIterator(k);for(e=k.next();!e.done;e=k.next()){e=e.value;n=g.get(e);var p=h.get(e);n-=p;0<n&&d.appendChild(m.makePara(n+" "+e.name+" will die from lack of "+e.survivalCost.resource.name+"!",["population-death-label"]))}m.fillHTML(this.html,[m.makeHeader("Resource Production Management"),m.makeHeader("Inventory at start of production cycle:",2,["production-screen-label"]),$a.renderInventory(this.game.inventory),m.makeHeader("Resource production",2,["production-screen-label"]),m.makePara("Available workers at start of production cycle: "+
this.game.inventory.getAvailableWorkers(),["production-screen-available-workers"]),m.makePara("Drag conversions to change the activation order",["production-screen-drag-hint"]),f,m.makeHeader("Workforce",2,["production-screen-label"]),m.makePara("Unused workers at end of production cycle: "+b.getAvailableWorkers(),["production-screen-worker-consumption-label"]),c,d,m.makeHeader("Inventory at end of production cycle:",2,["production-screen-label"]),$a.renderInventory(b),m.makeButton("Back",function(){B.show(new Da(a.game))},
["production-screen-back-button"])])};$a.renderInventory=function(a){return 0===a.getInventoryStrings().length?m.makeDivContaining([m.makePara("(none)")],["production-screen-inventory"]):m.makeDivContaining(a.getInventoryStrings().map(function(a){return m.makePara(a)}),["production-screen-inventory"])};$a.prototype.renderConversion=function(a,b){var c=this,f=a.toString(),d="conversion-description-normal";a.enabled?b||(f=a.toString()+" (cannot afford)",d="conversion-description-cannot-afford"):(f=
a.toString()+" (disabled) ",d="conversion-description-disabled");b=m.makePara(f,[d,"conversion-description"]);return m.makeDivContaining([m.makeDivContaining([b],["conversion-description-box"]),m.makeButton("Toggle",function(){c.toggleConversion(a)})],["conversion"])};$a.prototype.shiftConversion=function(a,b){this.game.shiftConversionPriority(a,b);this.refresh()};$a.prototype.toggleConversion=function(a){a.enabled=!a.enabled;this.refresh()};var Qe=function(a){this.game=a;this.html=m.makeDiv(["research-screen"]);
this.refresh()};Qe.prototype.refresh=function(){var a=this,b=this.game.getResearchOptions(),c=0<b.length?m.makeHeader("Available Research Projects"):m.makeDiv(),f=p.values.filter(function(a){return b.some(function(b){var c;return(null===(c=b.researchCost)||void 0===c?void 0:c.resource)===a})}),d=m.makeDiv(["research-resources"]);0!==f.length&&(d.appendChild(m.makeHeader("Available Research Data")),f.forEach(function(b){return d.appendChild(m.makePara(b.name+": "+a.game.inventory.getResourceQuantity(b)))}));
f=m.makeDivContaining(b.map(function(b){return a.renderTechOption(b)}));var g=this.game.getUnlockedTechnologies().filter(function(a){return void 0!==a.researchCost}).map(function(a){return m.makePara("- "+a.name,["previous-research"])}),e=0<g.length?m.makeHeader("Previous Research Projects",1,["previous-research-header"]):m.makeDiv();m.fillHTML(this.html,[c,f,d,e].concat($jscomp.arrayFromIterable(g),[m.makeButton("Back",function(){B.show(new Da(a.game))},[])]))};Qe.prototype.renderTechOption=function(a){var b=
this,c=a.researchCost;if(void 0===c)return console.warn("rendered unresearchable technology"),m.makeDiv();var f=this.game.inventory.canAfford([c]);return m.makeDivContaining([m.makeHeader(a.name,2),m.makePara(a.description),m.makePara("Development cost: "+a.researchCost),m.makeButton("Conduct Research",function(){b.game.inventory.payCost([c]);b.game.unlockTechnology(a);b.game.updateQuestState();b.refresh()},[],f?"enabled":"disabled")],["tech-option"])};var Ef=function(a,b){var c=this;this.game=a;
this.buttonState=void 0===b?"enabled":b;this.html=m.makeDivContaining([m.makeButton("Pause Game",function(){return B.show(new vf(c.game))},[],this.buttonState),m.makeButton("Manage Production",function(){return B.show(new $a(c.game))},[],this.buttonState),m.makeButton("Research Projects",function(){return B.show(new Qe(c.game))},[],this.buttonState),m.makeButton("Next Turn",function(){var a=new wb(c.game);B.show(a);a.startLoading()},[],this.buttonState)],["world-screen-header"]);this.refresh()};Ef.prototype.refresh=
function(){};var Re=function(a){this.ending=a;this.html=m.makeDiv();this.refresh()};Re.prototype.refresh=function(){var a=m.makeHeader(this.ending.title),b=m.makePara(this.ending.description),c=m.makeButton("Exit",function(){B.show(new Ma)});m.fillHTML(this.html,[m.makeDivContaining([a,b,c],["ending-page"])])};var Ff=function(a){this.game=a;this.html=m.makeDiv(["world-screen-quest-description"]);this.refresh()};Ff.prototype.refresh=function(){var a=this,b=this.game.getCurrentQuestDescription(),c=
this.game.getCurrentQuestHint();b=m.makePara("Objective: "+(c?b+"\n(hint: "+c+")":b));this.game.questCompletionShown||(this.game.questCompletionShown=!0,b=m.makePara("Completed: "+this.game.getPreviousQuestDescription(),["quest-description-emphasis"]),setTimeout(function(){var b=a.game.getQuestEndState();b?B.show(new Re(b)):a.refresh()},1500));m.fillHTML(this.html,[b])};var Da=function(a,b){b=void 0===b?"enabled":b;this.mapUI=new na(this,a.world);this.tileSidebar=new hc(this,a);this.inventorySidebar=
new uf(a.inventory);this.header=new Ef(a,b);this.questIndicator=new Ff(a);this.html=m.makeDivContaining([this.header.html,this.questIndicator.html,m.makeDivContaining([this.inventorySidebar.html,m.makeDivContaining([this.mapUI.html],["world-screen-map-box"]),this.tileSidebar.html],["world-screen-hbox"])],["world-screen"])};Da.prototype.refresh=function(){this.mapUI.refresh();this.tileSidebar.refresh();this.inventorySidebar.refresh();this.questIndicator.refresh()};Da.prototype.handleKeyDown=function(a){this.mapUI.handleKeyDown(a)};
Da.prototype.changeSidebarTile=function(a){this.tileSidebar.changeTile(a)};var mc=function(a,b,c,f,d,g,e){var l=P.call(this,a,b,function(){},d,g,e)||this;l.title=a;l.projectDescription=b;l.activeMonolithTile=c;l.circuitsTile=f;l.costs=d;l.completionRequirements=g;l.visibilityRequirements=e;return l};$jscomp.inherits(mc,P);mc.prototype.doAction=function(a,b){this.canDo(a,b)?(b.inventory.payCost(this.costs),b.world.placeTile(new this.activeMonolithTile(a)),B.show(new Da(b,"disabled")),this.endSequence(b,
a)):console.warn("tried to do project "+this.title+" without meeting requirements")};mc.prototype.endSequence=function(a,b){var c=this,f=a.world;a.updateQuestState();a.inventory.applyPopulationCaps();B.refreshCurrentPage();var d=1,g=[],e=function(){if(g.length<f.width*f.height){g=f.getTilesInCircle(b,d);for(var l=$jscomp.makeIterator(g),h=l.next();!h.done;h=l.next())h=h.value,h instanceof c.activeMonolithTile||h instanceof c.circuitsTile||f.placeTile(new c.circuitsTile(h.position));a.updateQuestState();
a.inventory.applyPopulationCaps();B.refreshCurrentPage();d=1.01*d+.05;setTimeout(e,100)}else{l=$jscomp.makeIterator(a.inventory.getResourceList());for(h=l.next();!h.done;h=l.next())h=h.value,a.inventory.removeResource(h,a.inventory.getResourceQuantity(h));B.refreshCurrentPage()}};e()};var nc,oc=function(a){a=u.call(this,a)||this;a.possibleProjects=[new mc("Activate Seed Core",x($jscomp$templatelit$44),Ee,tf,[new r(p.Energy,1E5)],[La(ac,3),La(vb,2),V(q.SingularityEngineering)],[])];return a};$jscomp.inherits(oc,
u);oc.prototype.getTexture=function(){return mg};oc.prototype.getTileName=function(){return nc.tileName};oc.prototype.getTileDescription=function(){return nc.tileDescription};var pc=nc=oc;pc.tileName="Reprogrammed Monolith";pc.tileDescription=x($jscomp$templatelit$45);pc.schema=n.classOf({position:w.schema},function(a){return new nc(a.position)});var je=pc=nc=function(a,b,c,f){var d=arguments.length,g=3>d?b:null===f?f=Object.getOwnPropertyDescriptor(b,c):f,e;if("object"===typeof Reflect&&"function"===
typeof Reflect.decorate)g=Reflect.decorate(a,b,c,f);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>d?e(g):3<d?e(b,c,g):e(b,c))||g;return 3<d&&g&&Object.defineProperty(b,c,g),g}([I],pc),qc,rc=function(a){a=u.call(this,a)||this;a.possibleProjects=[new P("Upload human neural data",x($jscomp$templatelit$46),function(a,c){c.world.placeTile(new je(a))},[new r(p.Energy,1E3),new r(p.SmartMatter,500)],[La(vb,2),V(q.NeuralUploading)],[N(q.CooperativeReprogramming),N(q.MonolithSurvey)]),new mc("Activate Seed Core",
x($jscomp$templatelit$47),De,sf,[new r(p.Energy,1E5)],[La(ac,3),La(vb,2),V(q.SingularityEngineering)],[N(q.MonolithSurvey)])];return a};$jscomp.inherits(rc,u);rc.prototype.getTexture=function(){return lg};rc.prototype.getTileName=function(){return qc.tileName};rc.prototype.getTileDescription=function(){return qc.tileDescription};var sc=qc=rc;sc.tileName="Monolith";sc.tileDescription="A towering alien structure";sc.schema=n.classOf({position:w.schema},function(a){return new qc(a.position)});var Ab=
sc=qc=function(a,b,c,f){var d=arguments.length,g=3>d?b:null===f?f=Object.getOwnPropertyDescriptor(b,c):f,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,f);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>d?e(g):3<d?e(b,c,g):e(b,c))||g;return 3<d&&g&&Object.defineProperty(b,c,g),g}([I],sc),J=function(a,b,c,f){this.inputs=a;this.outputs=b;this.requiredWorkers=c;this.priority=f;this.enabled=!0};J.newConversion=function(a,b,c){return new J(a,b,void 0===
c?0:c,void 0)};J.prototype.toString=function(){var a=this.outputs.map(function(a){return a.toString()}).join(", "),b=this.inputs.map(function(a){return a.toString()});0!==this.requiredWorkers&&b.push(this.requiredWorkers+" workers");return 0===b.length?"Produce "+a:"Produce "+a+" using "+b.join(", ")};J.schema=n.contra(n.recordOf({priority:n.aNumber,enabled:n.aBoolean,inputs:n.arrayOf(r.schema),outputs:n.nonEmptyArrayOf(r.schema),requiredWorkers:n.aNumber}),function(a){return{priority:a.priority,
enabled:a.enabled,inputs:a.inputs,outputs:a.outputs,requiredWorkers:a.requiredWorkers}},function(a){var b=a.enabled;a=new J(a.inputs,a.outputs,a.requiredWorkers,a.priority);a.enabled=b;return a});var tc,uc=function(a,b){b=void 0===b?1:b;a=u.call(this,a)||this;a.resourceConversions=[J.newConversion([],[new r(p.Cavorite,200),new r(p.Energy,25)],300),J.newConversion([],[new r(p.Orichalcum,200),new r(p.Energy,25)],300)];a.textureVariant=b;return a};$jscomp.inherits(uc,u);uc.prototype.getTileName=function(){return tc.tileName};
uc.prototype.getTileDescription=function(){return tc.tileDescription};uc.prototype.getTexture=function(){switch(this.textureVariant){case 1:return Yg;case 2:return Zg}};var vc=tc=uc;vc.tileName="Alien Ruins Recycler Excavation";vc.tileDescription="A facility that harvests and recycles exotic materials from the alien structure.";vc.schema=n.contra(n.recordOf({position:w.schema,resourceConversions:n.arrayOf(J.schema),textureVariant:n.union(n.literal(1),n.literal(2))}),function(a){return{position:a.position,
resourceConversions:a.resourceConversions,textureVariant:a.textureVariant}},function(a){var b=a.resourceConversions;a=new tc(a.position,a.textureVariant);a.resourceConversions=b;return a});var Se=vc=tc=function(a,b,c,f){var d=arguments.length,g=3>d?b:null===f?f=Object.getOwnPropertyDescriptor(b,c):f,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,f);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>d?e(g):3<d?e(b,c,g):e(b,c))||g;return 3<d&&g&&Object.defineProperty(b,
c,g),g}([I],vc),wc,xc=function(a){var b=u.call(this,a)||this;b.textureVariant=ja.bool()?1:2;b.possibleProjects=[new P("Excavate","Construct a facility to harvest exotic alien resources from the ruins",function(a,f){return f.world.placeTile(new Se(a,b.textureVariant))},[new r(p.BuildingMaterials,200),new r(p.Energy,100)],[Z,V(q.Xenoarchaeology)],[N(q.Surveying)])];return b};$jscomp.inherits(xc,u);xc.prototype.getTileName=function(){return wc.tileName};xc.prototype.getTileDescription=function(){return wc.tileDescription};
xc.prototype.getTexture=function(){switch(this.textureVariant){case 1:return jg;case 2:return kg}};var yc=wc=xc;yc.tileName="Alien Ruins";yc.tileDescription="Abandoned structure built by a long-dead alien civilization";yc.schema=n.contra(n.recordOf({position:w.schema,textureVariant:n.union(n.literal(1),n.literal(2))}),function(a){return{position:a.position,textureVariant:a.textureVariant}},function(a){var b=a.textureVariant;a=new wc(a.position);a.textureVariant=b;return a});var zc=yc=wc=function(a,
b,c,f){var d=arguments.length,g=3>d?b:null===f?f=Object.getOwnPropertyDescriptor(b,c):f,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,f);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>d?e(g):3<d?e(b,c,g):e(b,c))||g;return 3<d&&g&&Object.defineProperty(b,c,g),g}([I],yc),ya=function(a,b){this.description=a;this.query=b};ya.prototype.evaluate=function(a,b){return ab(this.query)(a,b)};ya.prototype.toString=function(){return this.description};ya.schema=
n.contra(n.recordOf({description:n.aString,query:ub}),function(a){return{description:a.description,query:a.query}},function(a){return new ya(a.description,a.query)});var Z=new ya("adjacent to a road",fh),Gf=new P("AI Safety Research Proposal",x($jscomp$templatelit$48),function(a,b){return b.unlockTechnology(q.AiResearch)},[],[V(q.Rationality)],[N(q.CognitiveBiases),kb(N(q.AiResearch)),Td(L.Human,500)]),Bb,Ac=function(a){a=u.call(this,a)||this;a.populationCapacity=Bb.populationCapacity;a.possibleProjects=
[Gf];return a};$jscomp.inherits(Ac,u);Ac.prototype.getTexture=function(){return vg};Ac.prototype.getTileName=function(){return Bb.tileName};Ac.prototype.getTileDescription=function(){return Bb.tileDescription};var Cb=Bb=Ac;Cb.populationCapacity=new Xa(L.Human,200);Cb.tileName="Habitat Dome";Cb.tileDescription="A pressurized structure that provides housing, services, and life support for humans";Cb.schema=n.classOf({position:w.schema,populationCapacity:Xa.schema},function(a){var b=a.populationCapacity;
a=new Bb(a.position);a.populationCapacity=b;return a});var Bc=Cb=Bb=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],Cb),Cc,Dc=function(a){a=u.call(this,a)||this;a.resourceConversions=[J.newConversion([new r(p.Energy,10)],
[new r(p.Food,200)],30)];return a};$jscomp.inherits(Dc,u);Dc.prototype.getTexture=function(){return zg};Dc.prototype.getTileName=function(){return Cc.tileName};Dc.prototype.getTileDescription=function(){return Cc.tileDescription};var Ec=Cc=Dc;Ec.tileName="Greenhouse";Ec.tileDescription="Produces "+p.Food.name+" for "+L.Human.name;Ec.schema=n.classOf({position:w.schema,resourceConversions:n.arrayOf(J.schema)},function(a){var b=a.resourceConversions;a=new Cc(a.position);a.resourceConversions=b;return a});
var Hf=Ec=Cc=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],Ec),Fc,Gc=function(a){a=u.call(this,a)||this;a.populationCapacity=new Xa(L.Human,2E3);a.possibleProjects=[Gf];return a};$jscomp.inherits(Gc,u);Gc.prototype.getTexture=
function(){return Qg};Gc.prototype.getTileName=function(){return Fc.tileName};Gc.prototype.getTileDescription=function(){return Fc.tileDescription};var Hc=Fc=Gc;Hc.tileName="Arcology";Hc.tileDescription="A self-contained habitat for efficiently housing a large number of humans";Hc.schema=n.classOf({position:w.schema,populationCapacity:Xa.schema},function(a){var b=a.populationCapacity;a=new Fc(a.position);a.populationCapacity=b;return a});var nh=Hc=Fc=function(a,b,c,d){var f=arguments.length,g=3>f?
b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],Hc),Ic,Jc=function(a){a=u.call(this,a)||this;a.resourceConversions=[J.newConversion([new r(p.Energy,150)],[new r(p.Food,2E3)],50)];return a};$jscomp.inherits(Jc,u);Jc.prototype.getTexture=function(){return Ag};Jc.prototype.getTileName=
function(){return Ic.tileName};Jc.prototype.getTileDescription=function(){return Ic.tileDescription};var Kc=Ic=Jc;Kc.tileName="Hydroponics Greenhouse";Kc.tileDescription="Produces "+p.Food.name+" for "+L.Human.name+" more efficiently than a standard greenhouse";Kc.schema=n.classOf({position:w.schema,resourceConversions:n.arrayOf(J.schema)},function(a){var b=a.resourceConversions;a=new Ic(a.position);a.resourceConversions=b;return a});var If=Kc=Ic=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===
d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],Kc),Lc,Mc=function(a){a=u.call(this,a)||this;a.populationCapacity=new Xa(L.Robot,5E3);a.possibleProjects=[new P("Construct robot group","Create 100 robotic worker drones",function(a,c){c.inventory.addWorkers(L.Robot,100);c.inventory.releaseWorkers(100)},
[new r(p.Electronics,50),new r(p.Energy,100)],[nf(L.Robot,100)],[]),new P("Construct robot swarm","Create 1000 robotic worker drones",function(a,c){c.inventory.addWorkers(L.Robot,1E3);c.inventory.releaseWorkers(1E3)},[new r(p.Electronics,250),new r(p.Energy,1E3)],[nf(L.Robot,1E3)],[N(q.SwarmRobotics)])];return a};$jscomp.inherits(Mc,u);Mc.prototype.getTexture=function(){return Sg};Mc.prototype.getTileName=function(){return Lc.tileName};Mc.prototype.getTileDescription=function(){return Lc.tileDescription};
var Nc=Lc=Mc;Nc.tileName="Drone Hive";Nc.tileDescription="A facility for manufacturing, storing, and maintaining mobile robotic worker drones";Nc.schema=n.classOf({position:w.schema,populationCapacity:Xa.schema},function(a){var b=a.populationCapacity;a=new Lc(a.position);a.populationCapacity=b;return a});var oh=Nc=Lc=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,
b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],Nc),Oc,Pc=function(a,b){var c=u.call(this,a)||this;c.wastelandVariant=b;c.possibleProjects=[new P("Break down construction site","Revert this location to wasteland",function(a,b){b.world.placeTile(new X(a,c.wastelandVariant))},[],[],[]),ca(oh,[new r(p.BuildingMaterials,250),new r(p.Electronics,500)],[V(q.StructuralEngineering),V(q.Robotics),Z],[N(q.IndustrialEngineering)]),
ca(Bc,[new r(p.BuildingMaterials,200)],[V(q.StructuralEngineering),Z],[]),ca(nh,[new r(p.BuildingMaterials,500)],[V(q.UrbanPlanning),Z],[N(q.StructuralEngineering)]),ca(Hf,[new r(p.BuildingMaterials,25)],[Z],[N(q.StructuralEngineering)]),ca(If,[new r(p.BuildingMaterials,25),new r(p.Electronics,30)],[Z,V(q.IndustrialEngineering)],[N(q.StructuralEngineering)])];return c};$jscomp.inherits(Pc,u);Pc.prototype.getTexture=function(){return rg};Pc.prototype.getTileName=function(){return Oc.tileName};Pc.prototype.getTileDescription=
function(){return Oc.tileDescription};var Qc=Oc=Pc;Qc.tileName="Construction Site - Habitat";Qc.tileDescription="An area designated for construction of habitation and life support facilities";Qc.schema=n.contra(n.recordOf({position:w.schema,wastelandVariant:Mb}),function(a){return{position:a.position,wastelandVariant:a.wastelandVariant}},function(a){return new Oc(a.position,a.wastelandVariant)});var ph=Qc=Oc=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,
c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],Qc),Rc,Sc=function(a){a=u.call(this,a)||this;a.resourceConversions=[J.newConversion([],[new r(p.EngineeringKnowledge,5)],30)];return a};$jscomp.inherits(Sc,u);Sc.prototype.getTexture=function(){return Vg};Sc.prototype.getTileName=function(){return Rc.tileName};Sc.prototype.getTileDescription=
function(){return Rc.tileDescription};var Tc=Rc=Sc;Tc.tileName="Engineering Lab";Tc.tileDescription="A workshop for developing new technology";Tc.schema=n.classOf({position:w.schema,resourceConversions:n.arrayOf(J.schema)},function(a){var b=a.resourceConversions;a=new Rc(a.position);a.resourceConversions=b;return a});var Te=Tc=Rc=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=
Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],Tc),Uc,Vc=function(a){a=u.call(this,a)||this;a.resourceConversions=[J.newConversion([],[new r(p.PsychKnowledge,10)],25)];return a};$jscomp.inherits(Vc,u);Vc.prototype.getTexture=function(){return Wg};Vc.prototype.getTileName=function(){return Uc.tileName};Vc.prototype.getTileDescription=function(){return Uc.tileDescription};var Wc=Uc=Vc;Wc.tileName=
"Psychology Lab";Wc.tileDescription="A laboratory for studying how humans behave in the isolated conditions of a remote colony";Wc.schema=n.classOf({position:w.schema,resourceConversions:n.arrayOf(J.schema)},function(a){var b=a.resourceConversions;a=new Uc(a.position);a.resourceConversions=b;return a});var qh=Wc=Uc=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,
b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],Wc),Xc,Yc=function(a){a=u.call(this,a)||this;a.resourceConversions=[J.newConversion([],[new r(p.AlienKnowledge,10)],50)];a.possibleProjects=[new P("Survey Alien Monolith",x($jscomp$templatelit$49,q.MonolithSurvey.name),function(a,c){c.unlockTechnology(q.MonolithSurvey)},[new r(p.AlienKnowledge,50)],[La(Ab,5)],[N(q.AlienHistory),kb(N(q.MonolithSurvey))])];return a};
$jscomp.inherits(Yc,u);Yc.prototype.getTexture=function(){return Xg};Yc.prototype.getTileName=function(){return Xc.tileName};Yc.prototype.getTileDescription=function(){return Xc.tileDescription};var Zc=Xc=Yc;Zc.tileName="Xenoarchaeology Lab";Zc.tileDescription="A laboratory for studying artifacts and technology left by the now-dead alien civilization";Zc.schema=n.classOf({position:w.schema,resourceConversions:n.arrayOf(J.schema)},function(a){var b=a.resourceConversions;a=new Xc(a.position);a.resourceConversions=
b;return a});var Ue=Zc=Xc=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],Zc),$c,ad=function(a){a=u.call(this,a)||this;a.resourceConversions=[J.newConversion([],[new r(p.AlignmentKnowledge,10)],100)];return a};$jscomp.inherits(ad,
u);ad.prototype.getTexture=function(){return Ug};ad.prototype.getTileName=function(){return $c.tileName};ad.prototype.getTileDescription=function(){return $c.tileDescription};var bd=$c=ad;bd.tileName="AI Alignment Lab";bd.tileDescription=x($jscomp$templatelit$50);bd.schema=n.classOf({position:w.schema,resourceConversions:n.arrayOf(J.schema)},function(a){var b=a.resourceConversions;a=new $c(a.position);a.resourceConversions=b;return a});var rh=bd=$c=function(a,b,c,d){var f=arguments.length,g=3>f?b:
null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],bd),cd,dd=function(a,b){var c=u.call(this,a)||this;c.wastelandVariant=b;c.possibleProjects=[new P("Break down construction site","Revert this location to wasteland",function(a,b){b.world.placeTile(new X(a,c.wastelandVariant))},
[],[],[]),ca(Te,[new r(p.BuildingMaterials,20),new r(p.Electronics,20)],[Z],[]),ca(qh,[new r(p.BuildingMaterials,30)],[Z],[]),ca(Ue,[new r(p.BuildingMaterials,40)],[new ya("within 3 units of "+zc.tileName+" or "+Ab.tileName,Nf([zc,Se,Ab,je],3)),Z,V(q.Surveying)],[]),ca(rh,[new r(p.BuildingMaterials,20),new r(p.Electronics,40)],[$f(L.Human,200),Z],[N(q.AiResearch)])];return c};$jscomp.inherits(dd,u);dd.prototype.getTexture=function(){return sg};dd.prototype.getTileName=function(){return cd.tileName};
dd.prototype.getTileDescription=function(){return cd.tileDescription};var ed=cd=dd;ed.tileName="Construction Site - Laboratories";ed.tileDescription="An area designated for construction of research laboratories";ed.schema=n.contra(n.recordOf({position:w.schema,wastelandVariant:Mb}),function(a){return{position:a.position,wastelandVariant:a.wastelandVariant}},function(a){return new cd(a.position,a.wastelandVariant)});var sh=ed=cd=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,
c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],ed),fd,gd=function(a){a=u.call(this,a)||this;a.resourceConversions=[J.newConversion([new r(p.Metal,50)],[new r(p.BuildingMaterials,50)],25),J.newConversion([new r(p.Metal,50)],[new r(p.Electronics,50)],25)];return a};$jscomp.inherits(gd,u);gd.prototype.getTexture=function(){return xg};
gd.prototype.getTileName=function(){return fd.tileName};gd.prototype.getTileDescription=function(){return fd.tileDescription};var hd=fd=gd;hd.tileName="Ore Processing Center";hd.tileDescription="A facility used to process ore into useful materials";hd.schema=n.classOf({position:w.schema,resourceConversions:n.arrayOf(J.schema)},function(a){var b=a.resourceConversions;a=new fd(a.position);a.resourceConversions=b;return a});var ke=hd=fd=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,
c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],hd),id,jd=function(a){a=u.call(this,a)||this;a.resourceConversions=[J.newConversion([],[new r(p.Energy,100)])];return a};$jscomp.inherits(jd,u);jd.prototype.getTexture=function(){return wg};jd.prototype.getTileName=function(){return id.tileName};jd.prototype.getTileDescription=
function(){return id.tileDescription};var kd=id=jd;kd.tileName="Photovoltaic Array";kd.tileDescription="Converts light from this planet's sun into electrical energy";kd.schema=n.classOf({position:w.schema,resourceConversions:n.arrayOf(J.schema)},function(a){var b=a.resourceConversions;a=new id(a.position);a.resourceConversions=b;return a});var le=kd=id=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=
Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],kd),ld,md=function(a){a=u.call(this,a)||this;a.resourceConversions=[J.newConversion([],[new r(p.Energy,1E3)],15)];return a};$jscomp.inherits(md,u);md.prototype.getTexture=function(){return Rg};md.prototype.getTileName=function(){return ld.tileName};md.prototype.getTileDescription=function(){return ld.tileDescription};var nd=ld=md;nd.tileName=
"Nuclear Power Plant";nd.tileDescription="A high-efficiency fission power plant";nd.schema=n.classOf({position:w.schema,resourceConversions:n.arrayOf(J.schema)},function(a){var b=a.resourceConversions;a=new ld(a.position);a.resourceConversions=b;return a});var th=nd=ld=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=
a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],nd),od,pd=function(a){a=u.call(this,a)||this;a.resourceConversions=[J.newConversion([new r(p.Metal,1E3)],[new r(p.BuildingMaterials,1E3)],250)];return a};$jscomp.inherits(pd,u);pd.prototype.getTexture=function(){return Dg};pd.prototype.getTileName=function(){return od.tileName};pd.prototype.getTileDescription=function(){return od.tileDescription};var qd=od=pd;qd.tileName="Construction Materials Factory";qd.tileDescription=
"A facility for producing "+p.BuildingMaterials.name;qd.schema=n.classOf({position:w.schema,resourceConversions:n.arrayOf(J.schema)},function(a){var b=a.resourceConversions;a=new od(a.position);a.resourceConversions=b;return a});var uh=qd=od=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,
c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],qd),rd,sd=function(a){a=u.call(this,a)||this;a.resourceConversions=[J.newConversion([new r(p.Metal,500)],[new r(p.Electronics,500)],100)];return a};$jscomp.inherits(sd,u);sd.prototype.getTexture=function(){return Cg};sd.prototype.getTileName=function(){return rd.tileName};sd.prototype.getTileDescription=function(){return rd.tileDescription};var td=rd=sd;td.tileName="Electronics Factory";td.tileDescription="A facility for producing "+
p.Electronics.name;td.schema=n.classOf({position:w.schema,resourceConversions:n.arrayOf(J.schema)},function(a){var b=a.resourceConversions;a=new rd(a.position);a.resourceConversions=b;return a});var vh=td=rd=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,
c,g),g}([I],td),ud,vd=function(a){a=u.call(this,a)||this;a.resourceConversions=[J.newConversion([new r(p.Cavorite,500),new r(p.Energy,200)],[new r(p.Superconductor,500)],100),J.newConversion([new r(p.Orichalcum,500),new r(p.Energy,200)],[new r(p.SmartMatter,500)],100)];return a};$jscomp.inherits(vd,u);vd.prototype.getTexture=function(){return Eg};vd.prototype.getTileName=function(){return ud.tileName};vd.prototype.getTileDescription=function(){return ud.tileDescription};var wd=ud=vd;wd.tileName="Xeno-Materials Factory";
wd.tileDescription="A facility for processing alien resources";wd.schema=n.classOf({position:w.schema,resourceConversions:n.arrayOf(J.schema)},function(a){var b=a.resourceConversions;a=new ud(a.position);a.resourceConversions=b;return a});var wh=wd=ud=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):
3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],wd),xd,yd=function(a){a=u.call(this,a)||this;a.resourceConversions=[J.newConversion([],[new r(p.Energy,1E4)],40)];return a};$jscomp.inherits(yd,u);yd.prototype.getTexture=function(){return Tg};yd.prototype.getTileName=function(){return xd.tileName};yd.prototype.getTileDescription=function(){return xd.tileDescription};var zd=xd=yd;zd.tileName="Zero Point Energy Plant";zd.tileDescription=x($jscomp$templatelit$51,p.Energy.name);
zd.schema=n.classOf({position:w.schema,resourceConversions:n.arrayOf(J.schema)},function(a){var b=a.resourceConversions;a=new xd(a.position);a.resourceConversions=b;return a});var xh=zd=xd=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,
c,g),g}([I],zd),Ad,Bd=function(a,b){var c=u.call(this,a)||this;c.wastelandVariant=b;c.possibleProjects=[new P("Break down construction site","Revert this location to wasteland",function(a,b){b.world.placeTile(new X(a,c.wastelandVariant))},[],[],[]),ca(le,[new r(p.Electronics,200)],[],[]),ca(ke,[new r(p.Energy,100),new r(p.BuildingMaterials,100)],[Z,V(q.IndustrialEngineering)],[N(q.StructuralEngineering)]),ca(uh,[new r(p.BuildingMaterials,350)],[Z,V(q.IndustrialEngineering)],[N(q.StructuralEngineering)]),
ca(vh,[new r(p.BuildingMaterials,300),new r(p.Electronics,150)],[Z,V(q.IndustrialEngineering)],[N(q.StructuralEngineering)]),ca(wh,[new r(p.BuildingMaterials,200),new r(p.Electronics,200),new r(p.Energy,1E3)],[Z,V(q.XenoMaterials)],[N(q.Xenoarchaeology)]),ca(th,[new r(p.BuildingMaterials,150),new r(p.Electronics,300)],[V(q.NuclearEngineering),Z],[N(q.StructuralEngineering)]),ca(xh,[new r(p.BuildingMaterials,200),new r(p.Electronics,100),new r(p.Superconductor,1E3)],[V(q.ZeroPointEnergy)],[N(q.Xenoarchaeology)])];
return c};$jscomp.inherits(Bd,u);Bd.prototype.getTexture=function(){return tg};Bd.prototype.getTileName=function(){return Ad.tileName};Bd.prototype.getTileDescription=function(){return Ad.tileDescription};var Cd=Ad=Bd;Cd.tileName="Construction Site - Industry";Cd.tileDescription="An area designated for construction of industrial facilities and infrastructure";Cd.schema=n.contra(n.recordOf({position:w.schema,wastelandVariant:Mb}),function(a){return{position:a.position,wastelandVariant:a.wastelandVariant}},
function(a){return new Ad(a.position,a.wastelandVariant)});var yh=Cd=Ad=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],Cd),Dd,Ed=function(a,b){var c=u.call(this,a)||this;c.wastelandVariant=b;c.possibleProjects=[new P("Break down construction site",
"Revert this location to wasteland",function(a,b){b.world.placeTile(new X(a,c.wastelandVariant))},[],[],[]),ca(ac,[new r(p.SmartMatter,1E3),new r(p.BuildingMaterials,500),new r(p.Electronics,200)],[Z,new ya("within 3 units of a Monolith",af(Ud(Ab,3),Ud(je,3))),V(q.Nanotechnology)],[N(q.MonolithSurvey),kb(Ra(ac))]),ca(vb,[new r(p.BuildingMaterials,300),new r(p.Electronics,1E3),new r(p.Superconductor,1E3),new r(p.SmartMatter,500)],[Z,La(Ab,2),V(q.NeuralUploading)],[N(q.MonolithSurvey),kb(Ra(vb))])];
return c};$jscomp.inherits(Ed,u);Ed.prototype.getTexture=function(){return ug};Ed.prototype.getTileName=function(){return Dd.tileName};Ed.prototype.getTileDescription=function(){return Dd.tileDescription};var Fd=Dd=Ed;Fd.tileName="Construction Site - Hyperengineering";Fd.tileDescription="An area designated for construction of advanced technologies necessary for completing the mission";Fd.schema=n.contra(n.recordOf({position:w.schema,wastelandVariant:Mb}),function(a){return{position:a.position,wastelandVariant:a.wastelandVariant}},
function(a){return new Dd(a.position,a.wastelandVariant)});var zh=Fd=Dd=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],Fd),Gd,Hd=function(a,b){var c=u.call(this,a)||this;c.possibleProjects=[new P("Create habitat construction site",
"Designate this location for construction of habitation and life support facilities",function(a,b){b.world.placeTile(new ph(a,c.textureVariant))},[],[],[]),new P("Create industry construction site","Designate this location for construction of industrial facilities and infrastructure",function(a,b){b.world.placeTile(new yh(a,c.textureVariant))},[],[],[]),new P("Create laboratory construction site","Designate this location for construction of research laboratories",function(a,b){b.world.placeTile(new sh(a,
c.textureVariant))},[],[],[]),new P("Create xenoengineering construction site","Designate this location for construction of advanced technologies",function(a,b){b.world.placeTile(new zh(a,c.textureVariant))},[],[],[N(q.MonolithSurvey),af(kb(Ra(vb)),kb(Ra(ac)))]),new P("Construct Road","Construct roads to extend the reach of the colony's logistics",function(a,b){b.world.placeTile(new tb(a))},[new r(p.BuildingMaterials,10)],[Z],[])];c.textureVariant=b?b:ja.fromWeightedArray([[1/8,1],[1/8,2],[1/8,3],
[1/8,4],[.5,5]]);return c};$jscomp.inherits(Hd,u);Hd.prototype.getTileName=function(){return Gd.tileName};Hd.prototype.getTileDescription=function(){return Gd.tileDescription};Hd.prototype.getTexture=function(){switch(this.textureVariant){case 1:return dg;case 2:return eg;case 3:return fg;case 4:return gg;case 5:return hg}};var Id=Gd=Hd;Id.tileName="Wasteland";Id.tileDescription="Nothing of note here";Id.schema=n.contra(n.recordOf({position:w.schema,textureVariant:Mb}),function(a){return{position:a.position,
textureVariant:a.textureVariant}},function(a){return new Gd(a.position,a.textureVariant)});var X=Id=Gd=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],Id),Jd,Kd=function(a){a=u.call(this,a)||this;a.resourceConversions=[J.newConversion([new r(p.Energy,
75)],[new r(p.Metal,50)],100)];return a};$jscomp.inherits(Kd,u);Kd.prototype.getTexture=function(){return Bg};Kd.prototype.getTileName=function(){return Jd.tileName};Kd.prototype.getTileDescription=function(){return Jd.tileDescription};var Ld=Jd=Kd;Ld.tileName="Mineshaft";Ld.tileDescription="A mineshaft built into a mountain to allow long-term ore extraction";Ld.schema=n.classOf({position:w.schema,resourceConversions:n.arrayOf(J.schema)},function(a){var b=a.resourceConversions;a=new Jd(a.position);
a.resourceConversions=b;return a});var Ah=Ld=Jd=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],Ld),Md,Nd=function(a){a=u.call(this,a)||this;a.possibleProjects=[new P("Construct Mineshaft","Create a mineshaft to allow long-term ore extraction",
function(a,c){c.world.placeTile(new Ah(a))},[new r(p.Energy,500),new r(p.BuildingMaterials,250)],[V(q.StructuralEngineering),Z,La(ke,5)],[]),new P("Strip Mining","Destroy the mountain to produce "+p.Metal.name,function(a,c){c.inventory.addResource(p.Metal,500);c.world.placeTile(new X(a,5))},[new r(p.Energy,25)],[La(ke,5)],[])];return a};$jscomp.inherits(Nd,u);Nd.prototype.getTexture=function(){return ig};Nd.prototype.getTileName=function(){return Md.tileName};Nd.prototype.getTileDescription=function(){return Md.tileDescription};
var Od=Md=Nd;Od.tileName="Mountain";Od.tileDescription="A large geological formation containing useful mineral resources";Od.schema=n.classOf({position:w.schema},function(a){return new Md(a.position)});var me=Od=Md=function(a,b,c,d){var f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<
f&&g&&Object.defineProperty(b,c,g),g}([I],Od),Pd,Qd=function(a){a=u.call(this,a)||this;a.possibleProjects=[new P("Unpack Lander","Unload colonists and deploy prefabricated colonial buildings",function(a,c){var b=c.world;b.placeTile(new Bc(new w(a.x+1,a.y)));b.placeTile(new le(new w(a.x+1,a.y-1)));b.placeTile(new Hf(new w(a.x-1,a.y)));b.placeTile(new ke(new w(a.x-1,a.y-1)));b.placeTile(new tb(new w(a.x,a.y-1)));b.placeTile(new tb(a));b.placeTile(new tb(new w(a.x,a.y+1)));c.inventory.addResource(p.Food,
1E3);c.inventory.addWorkers(L.Human,100);c.inventory.releaseWorkers()},[],[],[])];return a};$jscomp.inherits(Qd,u);Qd.prototype.getTexture=function(){return yg};Qd.prototype.getTileName=function(){return Pd.tileName};Qd.prototype.getTileDescription=function(){return Pd.tileDescription};var Rd=Pd=Qd;Rd.tileName="Landing Pod";Rd.tileDescription=x($jscomp$templatelit$52);Rd.schema=n.classOf({position:w.schema},function(a){return new Pd(a.position)});var ne=Rd=Pd=function(a,b,c,d){var f=arguments.length,
g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(e=a[h])g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g;return 3<f&&g&&Object.defineProperty(b,c,g),g}([I],Rd),hb;(function(a){a.nonrandomTiles=function(){return[new X(new w(0,0)),new X(new w(1,0)),new X(new w(2,0)),new me(new w(0,1)),new me(new w(1,1)),new me(new w(2,1)),new X(new w(0,2)),new X(new w(1,2)),new X(new w(2,
2)),new X(new w(0,3)),new ne(new w(1,3)),new X(new w(2,3)),new X(new w(0,4)),new X(new w(1,4)),new X(new w(2,4)),new Ab(new w(13,15))]};a.width=20;a.height=20;a.mountainRange=[20,25];a.ruinRange=[5,7]})(hb||(hb={}));var xa=function(a,b){this.grid=a;this.nextConversionPriority=void 0===b?0:b;this.viewPosition=new w(0,0);this.height=a.length;this.width=a[0].length;a=$jscomp.makeIterator(ua.flatten(a));for(b=a.next();!b.done;b=a.next()){b=$jscomp.makeIterator(b.value.resourceConversions.filter(function(a){return void 0===
a.priority}));for(var c=b.next();!c.done;c=b.next())c.value.priority=this.nextConversionPriority,this.nextConversionPriority++}};xa.generateWorld=function(){for(var a=hb.width,b=hb.height,c=Array(b),d=0;d<b;d++){c[d]=Array(a);for(var e=0;e<a;e++)c[d][e]=new X(new w(e,d))}a=new xa(c);b=ja.intBetween.apply(ja,$jscomp.arrayFromIterable(hb.mountainRange));for(c=0;c<b;c++)d=a.getTiles().filter(function(a){return a instanceof X}),ua.isNonEmpty(d)&&(d=ja.fromArray(d).position,a.placeTile(new me(d)));b=ja.intBetween.apply(ja,
$jscomp.arrayFromIterable(hb.ruinRange));for(c=0;c<b;c++)d=a.getTiles().filter(function(a){return a instanceof X}),ua.isNonEmpty(d)&&(d=ja.fromArray(d).position,a.placeTile(new zc(d)));b=$jscomp.makeIterator(hb.nonrandomTiles());for(c=b.next();!c.done;c=b.next())a.placeTile(c.value);return a};xa.prototype.placeTile=function(a){for(var b=$jscomp.makeIterator(a.resourceConversions.filter(function(a){return void 0===a.priority})),c=b.next();!c.done;c=b.next())c.value.priority=this.nextConversionPriority,
this.nextConversionPriority++;this.grid[a.position.y][a.position.x]=a};xa.prototype.getTiles=function(){return ua.flatten(this.grid)};xa.prototype.getTilesInRectangle=function(a,b,c,d){0>b&&(b=0);0>a&&(a=0);var f=[];b=this.grid.slice(b,b+d);b=$jscomp.makeIterator(b);for(d=b.next();!d.done;d=b.next()){d=d.value.slice(a,a+c);d=$jscomp.makeIterator(d);for(var g=d.next();!g.done;g=d.next())f.push(g.value)}return f};xa.prototype.getTileAtCoordinates=function(a){if(!(0>a.x||a.x>=this.width||0>a.y||a.y>=
this.height))return this.grid[a.y][a.x]};xa.prototype.getTilesInCircle=function(a,b){return this.getTiles().filter(function(c){return a.distanceFrom(c.position)<=b})};xa.prototype.getPopulationCapacity=function(a){for(var b=0,c=$jscomp.makeIterator(this.getTiles()),d=c.next();!d.done;d=c.next())d=d.value,d.populationCapacity&&d.populationCapacity.species===a&&(b+=d.populationCapacity.capacity);return b};xa.schema=n.contra(n.recordOf({grid:n.constrain(n.arrayOf(n.arrayOf(eh)),ua.isRectangle),nextConversionPriority:n.aNumber}),
function(a){return{grid:a.grid,nextConversionPriority:a.nextConversionPriority}},function(a){return new xa(a.grid,a.nextConversionPriority)});var qa=function(){this.map=new Map};qa.prototype.add=function(a,b){this.set(a,this.get(a)+b)};qa.prototype.subtract=function(a,b){this.set(a,this.get(a)-b)};qa.prototype.get=function(a){var b;return null!==(b=this.map.get(a))&&void 0!==b?b:0};qa.prototype.set=function(a,b){0>b&&console.warn("set quantity of "+a+" to negative value "+b);0===b?this.map.delete(a):
this.map.set(a,b)};qa.prototype.getSum=function(){return Array.from(this.map.values()).reduce(function(a,b){return a+b},0)};qa.prototype.positiveQuantityKeys=function(){return Array.from(this.map.keys())};qa.prototype.clone=function(){for(var a=new qa,b=$jscomp.makeIterator(this.positiveQuantityKeys()),c=b.next();!c.done;c=b.next())c=c.value,a.add(c,this.get(c));return a};qa.schema=function(a){return n.contra(n.recordOf({map:n.map(a,n.aNumber)}),function(a){return{map:a.map}},function(a){var b=new qa;
b.map=a.map;return b})};var O=function(a){this.world=a;this.resourceQuantities=new qa;this.populationQuantities=new qa;this.availableWorkers=0};O.prototype.addResource=function(a,b){this.resourceQuantities.add(a,b)};O.prototype.removeResource=function(a,b){this.resourceQuantities.subtract(a,b)};O.prototype.getResourceQuantity=function(a){return this.resourceQuantities.get(a)};O.prototype.addWorkers=function(a,b){this.populationQuantities.add(a,b);this.populationQuantities.set(a,C(0,this.populationQuantities.get(a),
this.world.getPopulationCapacity(a)))};O.prototype.releaseWorkers=function(a){a=void 0===a?Number.POSITIVE_INFINITY:a;this.availableWorkers=Math.min(this.availableWorkers+a,this.populationQuantities.getSum())};O.prototype.occupyWorkers=function(a){this.availableWorkers<a?console.warn("tried to occupy workers when there are insufficient available workers"):0>a?console.warn("tried to occupy a negative number of workers"):this.availableWorkers-=a};O.prototype.getSpeciesList=function(){return this.populationQuantities.positiveQuantityKeys()};
O.prototype.getPopulation=function(a){return this.populationQuantities.get(a)};O.prototype.getRequiredWorkerConsumption=function(a){var b=a.survivalCost.quantity*this.populationQuantities.get(a);return new r(a.survivalCost.resource,b)};O.prototype.getProvidedWorkerConsumption=function(a){var b=this.getRequiredWorkerConsumption(a).quantity,c=this.getResourceQuantity(a.survivalCost.resource);return new r(a.survivalCost.resource,Math.min(b,c))};O.prototype.doPopulationGrowth=function(){for(var a=$jscomp.makeIterator(this.getSpeciesList()),
b=a.next();!b.done;b=a.next()){b=b.value;var c=this.getProvidedWorkerConsumption(b);this.payCost([c]);this.populationQuantities.set(b,Math.floor(c.quantity/b.survivalCost.quantity));c=Math.floor(b.growthMultiplier*this.populationQuantities.get(b));this.addWorkers(b,c)}};O.prototype.applyPopulationCaps=function(){for(var a=$jscomp.makeIterator(this.getSpeciesList()),b=a.next();!b.done;b=a.next())b=b.value,this.populationQuantities.set(b,C(0,this.populationQuantities.get(b),this.world.getPopulationCapacity(b)));
this.availableWorkers=C(0,this.availableWorkers,this.getTotalPopulation())};O.prototype.getTotalPopulation=function(){return this.populationQuantities.getSum()};O.prototype.getAvailableWorkers=function(){return this.availableWorkers};O.prototype.canAfford=function(a){var b=this,c,d=new Map;a=$jscomp.makeIterator(a);for(var e=a.next();!e.done;e=a.next())e=e.value,d.set(e.resource,e.quantity+(null!==(c=d.get(e.resource))&&void 0!==c?c:0));return Array.from(d.keys()).every(function(a){var c,f=null!==
(c=d.get(a))&&void 0!==c?c:0;a=b.getResourceQuantity(a);return f<=a})};O.prototype.hasEnoughWorkers=function(a){return this.availableWorkers>=a};O.prototype.payCost=function(a){if(this.canAfford(a)){a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())b=b.value,this.removeResource(b.resource,b.quantity)}else console.warn("cannot afford cost "+a)};O.prototype.getResourceList=function(){var a=this;return p.values.filter(function(b){return 0!==a.resourceQuantities.get(b)})};O.prototype.getInventoryStrings=
function(){var a=this;return this.getResourceList().map(function(b){return b.name+": "+a.getResourceQuantity(b)})};O.prototype.getPopulationStrings=function(){var a=this;return this.populationQuantities.positiveQuantityKeys().map(function(b){return a.populationQuantities.get(b)+" "+b.name})};O.prototype.applyConversions=function(a){a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())if(b=b.value,this.canAfford(b.inputs)&&this.hasEnoughWorkers(b.requiredWorkers)&&b.enabled){this.payCost(b.inputs);
this.occupyWorkers(b.requiredWorkers);b=$jscomp.makeIterator(b.outputs);for(var c=b.next();!c.done;c=b.next())c=c.value,this.addResource(c.resource,c.quantity)}};O.prototype.clone=function(){var a=new O(this.world);a.resourceQuantities=this.resourceQuantities.clone();a.populationQuantities=this.populationQuantities.clone();a.availableWorkers=this.availableWorkers;return a};O.schema=n.injecting(n.recordOf({resourceQuantities:qa.schema(p.schema),populationQuantities:qa.schema(L.schema),availableWorkers:n.aNumber}),
function(a){return{resourceQuantities:a.resourceQuantities,populationQuantities:a.populationQuantities,availableWorkers:a.availableWorkers}},function(a){return function(b){var c=b.resourceQuantities,d=b.populationQuantities;b=b.availableWorkers;var e=new O(a);e.resourceQuantities=c;e.populationQuantities=d;e.availableWorkers=b;return e}});var Pa=function(a,b){this.title=a;this.description=b};Pa.prototype.equals=function(a){return a.description===this.description&&a.title===this.title};Pa.schema=n.classOf({title:n.aString,
description:n.aString},function(a){return new Pa(a.title,a.description)});var oa=function(a,b){this.requirement=a;this.next=b};oa.schema=n.classOf({requirement:gh,next:n.unionOf(function(a){return a instanceof da},function(a){return a instanceof Pa},n.lazy(function(){return da.schema}),Pa.schema)},function(a){return new oa(a.requirement,a.next)});var da=function(a,b,c){this.description=a;this.paths=b;this.hint=c};da.prototype.nextState=function(a){for(var b=$jscomp.makeIterator(this.paths),c=b.next();!c.done;c=
b.next())if(c=c.value,bf(c.requirement)(a))return c.next;return this};da.schema=n.contra(n.recordOf({description:n.aString,paths:ze.arrayOf(function(){return oa.schema}),hint:n.optional(n.aString)}),function(a){return{description:a.description,paths:a.paths,hint:a.hint}},function(a){return new da(a.description,a.paths,a.hint)});var Ve=new Pa("Final Mission Report",x($jscomp$templatelit$53)),We=new Pa("A Transmission to Earth",x($jscomp$templatelit$54)),Bh=new da("Unlock the secrets of the monolith",
[new oa(Ze([De,sf]),Ve),new oa(Ze([Ee,tf]),We)]),Ch=new da("Study the Monolith",[new oa(N(q.MonolithSurvey),Bh)],'Use the "WASD" or arrow keys to move around the map'),Dh=new da("Research "+q.AlienHistory.name,[new oa(N(q.AlienHistory),Ch)]),Eh=new da("Excavate the "+zc.tileName+" to extract resources",[new oa(Ra(Se),Dh)]),Fh=new da("Construct "+Ue.tileName+" to study the "+zc.tileName,[new oa(Ra(Ue),Eh)],'Use the "WASD" or arrow keys to move around the map'),Gh=new da("Grow total worker population to 250",
[new oa({queryType:"hasTotalPopulation",minPopulation:250},Fh)],"A "+Bc.tileName+" has capacity for "+Bc.populationCapacity.capacity+" colonists"),Hh=new da("Develop the "+q.StructuralEngineering.name+" technology",[new oa(N(q.StructuralEngineering),Gh)],"Access available technologies through the research screen"),Ih=new da("Construct "+Te.tileName,[new oa(Ra(Te),Hh)],"Designate an empty "+X.tileName+" tile as a laboratory construction site"),Jh=new da("Acquire "+p.Metal.name,[new oa($e(p.Metal,1),
Ih)]),Kh=new da("Build up at least 100 units of "+p.Energy.name,[new oa($e(p.Energy,100),Jh)],"The "+le.tileName+" produces "+p.Energy.name+" each turn"),Lh=new da("Deploy shelter for the colonists",[new oa(Ra(Bc),Kh)],"Select the "+ne.tileName),D=function(a,b,c,d){this.emoji=a;this.title=b;this.description=c;this.requirement=d};D.values=function(){return Ca.safeKeys(D).map(function(a){return D[a]}).filter(function(a){return a instanceof D})};D.entries=function(){var a={};Ca.safeEntries(D).filter(function(a){return a[1]instanceof
D}).forEach(function(b){var c=$jscomp.makeIterator(b);b=c.next().value;c=c.next().value;a[b]=c});return a};D.StartAchievement=new D("\ud83d\ude80","One Small Step","You deployed a colony on the surface of Aurora",function(a){return!a.world.getTiles().some(function(a){return a instanceof ne})});D.ExcavationPointAchievement=new D("\ud83d\udc8e","Grave Robber","You harvested resources from the ruins of a long-dead civilization",function(a){return 0<a.inventory.getResourceQuantity(p.Cavorite)||0<a.inventory.getResourceQuantity(p.Orichalcum)});
D.FoodAchievement=new D("\ud83c\udf2f","Neato Burrito","You built a hydroponics greenhouse",function(a){return a.world.getTiles().some(function(a){return a instanceof If})});D.SolarAchievement=new D("\u2600\ufe0f","Praise The Sun","You built 10 photovoltaic arrays",function(a){return 10<=a.world.getTiles().filter(function(a){return a instanceof le}).length});D.ConstructionAchievement=new D("\ud83c\udfd7\ufe0f","Constructive Feedback","You built up an inventory of 1000 Construction Parts",function(a){return 1E3<=
a.inventory.getResourceQuantity(p.BuildingMaterials)});D.RoadAchievement=new D("\ud83d\udea7","Paving The Way","You built an extensive network of roads",function(a){return 50<=a.world.getTiles().filter(function(a){return a instanceof tb}).length});D.HumanPopulationAchievement=new D("\ud83d\udcc8","Baby Boom","You grew a population of 10,000 human colonists",function(a){return 1E4<a.inventory.getPopulation(L.Human)});D.RobotSwarmAchievement=new D("\ud83e\udd16","The Next Generation","You built swarms of robotic workers",
function(a){return 2E3<a.inventory.getPopulation(L.Robot)});D.KillHumansAchievement=new D("\ud83d\udc80","Planned Obsolescence","You allowed all of the human colonists to die",function(a){return 0===a.inventory.getPopulation(L.Human)&&0<a.inventory.getPopulation(L.Robot)&&!a.world.getTiles().some(function(a){return a instanceof ne||a instanceof De||a instanceof Ee||a instanceof je})});D.SafetyProjectAchievement=new D("\ud83e\udd89","Fable of the Sparrows","You approved the AI Safety Research Project",
function(a){return a.hasUnlockedTechnology(q.AiResearch)});D.AlienEndingAchievement=new D("\ud83d\udc7e","Mission Accomplished","You discovered as much as possible about the aliens by freeing them to conquer the universe",function(a){var b,c;return null!==(c=null===(b=a.getQuestEndState())||void 0===b?void 0:b.equals(Ve))&&void 0!==c?c:!1});D.TrueEndingAchievement=new D("\ud83c\udf0c","We'll make Heaven a place on Earth","You uplifted humanity into a virtual utopia",function(a){var b,c;return null!==
(c=null===(b=a.getQuestEndState())||void 0===b?void 0:b.equals(We))&&void 0!==c?c:!1});D.schema=n.mapping(D.entries());var Jf=function(a){this.html=m.makeDivContaining([m.makeHeader(a.emoji+" Achievement Unlocked!"),m.makePara(a.title)],["achievement-popup"])};Jf.prototype.refresh=function(){};var ib;(function(a){function b(){var a=za.loadItem("unlockedAchievements",e);if("success"===(null===a||void 0===a?void 0:a.resultType)){a=$jscomp.makeIterator(a.result);for(var b=a.next();!b.done;b=a.next())b=
b.value,d.includes(b)||d.push(b)}}function c(a){b();d.includes(a)||(d.push(a),b(),za.saveItem("unlockedAchievements",d,e),B.addPopup(new Jf(a),3E3))}var d=[],e=n.arrayOf(D.schema);a.getUnlockedAchievements=function(){b();return[].concat($jscomp.arrayFromIterable(d))};a.updateAchievements=function(a){for(var b=$jscomp.makeIterator(D.values()),d=b.next();!d.done;d=b.next())d=d.value,d.requirement(a)&&c(d)};a.unlockAll=function(){for(var a=$jscomp.makeIterator(D.values()),b=a.next();!b.done;b=a.next())c(b.value)};
a.resetAchievements=function(){d=[];za.removeItem("unlockedAchievements")}})(ib||(ib={}));var Y=function(a,b,c){this.world=a;this.inventory=b;this.questStage=c;this.prevQuestDescription="";this.questCompletionShown=!0;this.completedTechs=[]};Y.newGame=function(){var a=xa.generateWorld(),b=new O(a);return new Y(a,b,Lh)};Y.prototype.getCurrentQuestDescription=function(){return this.questStage.description};Y.prototype.getCurrentQuestHint=function(){return this.questStage.hint};Y.prototype.getQuestEndState=
function(){var a=this.questStage.nextState(this);if(a instanceof Pa)return a};Y.prototype.updateQuestState=function(){var a=this.questStage.nextState(this);if(a!==this.questStage&&(this.questCompletionShown=!1,a instanceof da)){var b=this.questStage.description;this.questStage=a;this.updateQuestState();this.prevQuestDescription=b}ib.updateAchievements(this)};Y.prototype.getPreviousQuestDescription=function(){return this.prevQuestDescription};Y.prototype.getResourceConversions=function(){var a=ua.flatten(this.world.getTiles().map(function(a){return a.resourceConversions}));
a.sort(function(a,c){var b,d;return(null!==(b=a.priority)&&void 0!==b?b:Infinity)-(null!==(d=c.priority)&&void 0!==d?d:Infinity)});return a};Y.prototype.hasUnlockedTechnology=function(a){return this.completedTechs.some(function(b){return b===a})};Y.prototype.unlockTechnology=function(a){this.hasUnlockedTechnology(a)||this.completedTechs.push(a)};Y.prototype.getUnlockedTechnologies=function(){return this.completedTechs};Y.prototype.getResearchOptions=function(){var a=this;return q.values.filter(function(a){return void 0!==
a.researchCost}).filter(function(b){return b.prerequisites.every(function(b){return a.completedTechs.some(function(a){return a===b})})}).filter(function(b){return!a.hasUnlockedTechnology(b)})};Y.prototype.completeTurn=function(){this.inventory.applyConversions(this.getResourceConversions());this.inventory.releaseWorkers();this.inventory.doPopulationGrowth();this.updateQuestState()};Y.prototype.shiftConversionPriority=function(a,b){if(!(a===b||0>a)){var c=this.getResourceConversions();if(!(b>=c.length)){var d=
c[b].priority;if(a<b)for(;b>a;b--)c[b].priority=c[b-1].priority;else for(;b<a;b++)c[b].priority=c[b+1].priority;c[a].priority=d}}};Y.schema=n.contra(n.recordOf({world:xa.schema,inventory:O.schema,questStage:da.schema,endState:n.optional(Pa.schema),prevQuestDescription:n.aString,questCompletionShown:n.aBoolean,completedTechs:n.arrayOf(q.schema)}),function(a){return{world:a.world,inventory:O.schema.project(a.inventory),questStage:a.questStage,prevQuestDescription:a.prevQuestDescription,questCompletionShown:a.questCompletionShown,
completedTechs:a.completedTechs}},function(a){var b=a.world,c=a.inventory,d=a.questStage,e=a.prevQuestDescription,g=a.questCompletionShown;a=a.completedTechs;c=O.schema.inject(b)(c);b=new Y(b,c,d);b.prevQuestDescription=e;b.questCompletionShown=g;b.completedTechs=a;return b});var Ya;(function(a){a.saveProgress=function(a){return za.saveItem("save",a,Y.schema)};a.loadProgress=function(){var a=za.loadItem("save",Y.schema);if("success"===(null===a||void 0===a?void 0:a.resultType))return a.result};a.saveExists=
function(){return za.hasItem("save")};a.clearProgress=function(){za.removeItem("save")}})(Ya||(Ya={}));var oe=function(a,b,c){this.html=m.makeDivContaining([m.makeHeader(a,1),m.makeDivContaining([m.makeButton("confirm",function(){c()}),m.makeButton("cancel",function(){return B.show(b)})],["main-menu-options"])],["main-menu","confirm-menu"]);this.refresh()};oe.prototype.refresh=function(){};var Fe=function(a){this.backScreen=a;this.html=m.makeDiv();this.options=Ba.loadOptions();this.refresh()};Fe.prototype.refresh=
function(){var a=this,b=[m.makeTrackedSlider("Volume",0,100,100*this.options.volume,function(b){a.options.volume=b/100;Ba.saveOptions(a.options)},5),m.makeTrackedSlider("View width",6,18,this.options.viewWidth,function(b){a.options.viewWidth=b;Ba.saveOptions(a.options)}),m.makeTrackedSlider("View height",4,12,this.options.viewHeight,function(b){a.options.viewHeight=b;Ba.saveOptions(a.options)})];m.fillHTML(this.html,[m.makeDivContaining([m.makeHeader("Settings",1),m.makeDivContaining(b),m.makeDivContaining([m.makeButton("Restore Defaults",
function(){a.options=Na.defaultOptions();Ba.saveOptions(a.options);a.refresh()})],["settings-reset"]),m.makeDivContaining([m.makeButton("Clear Saved Game",function(){B.show(new oe("Delete Saved Data?",a,function(){Ya.clearProgress();a.refresh();a.backScreen.refresh();B.show(a)}))},[],Ya.saveExists()?"enabled":"disabled")],["settings-reset"]),m.makeDivContaining([m.makeButton("Reset Achievements",function(){B.show(new oe("Reset Achievements Progress?",a,function(){ib.resetAchievements();a.refresh();
a.backScreen.refresh();B.show(a)}))},[],0<ib.getUnlockedAchievements().length?"enabled":"disabled")],["settings-reset"]),m.makeDivContaining([m.makeButton("Back",function(){Ba.saveOptions(a.options);B.show(a.backScreen)})])],["settings"])])};var Sd;(function(a){function b(){c.updateQuestState();B.refreshCurrentPage()}var c=void 0;a.enableCheats=function(a){c=a;a=window;a.cheatsAddResource=function(a,d){c.inventory.addResource(a,d);b()};a.cheatsRemoveResource=function(a,d){c.inventory.payCost([new r(a,
d)]);b()};a.cheatsAddPopulation=function(a,d){c.inventory.addWorkers(a,d);b()};a.cheatsFreeResources=function(){for(var a=$jscomp.makeIterator(p.values),d=a.next();!d.done;d=a.next())c.inventory.addResource(d.value,1E6),b()};a.cheatsShowEnding=function(a){a=void 0===a?!1:a;B.show(new Re((void 0===a?0:a)?We:Ve))};a.showQuote=function(a){a=new wb(c,a);B.show(a);a.startLoading()};a.unlockAllAchievements=function(){return ib.unlockAll()};Object.freeze(p);Object.freeze(L);a.Resources=p;a.Species=L}})(Sd||
(Sd={}));var Kf=function(a,b,c){var d=this;this.header=a;this.message=b;this.backScreen=c;this.html=m.makeDivContaining([m.makeHeader(this.header),m.makePara(this.message),m.makeDivContaining([m.makeButton("Back",function(){B.show(d.backScreen)})])],["message-screen"])};Kf.prototype.refresh=function(){};var Xe=function(a){var b=this,c=ib.getUnlockedAchievements().reverse(),d=Math.floor(100*c.length/D.values().length);this.html=m.makeDivContaining([m.makeHeader("Achievements "+d+"%")].concat($jscomp.arrayFromIterable(c.map(function(a){return b.renderAchievement(a)})),
[m.makeButton("Back",function(){return B.show(a)})]),["achievements-screen"])};Xe.prototype.renderAchievement=function(a){return m.makeDivContaining([m.makeDivContaining([m.makeHeader(a.emoji),m.makeHeader(a.title)],["achievement-header"]),m.makePara(a.description)],["achievement"])};Xe.prototype.refresh=function(){};var Mh=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,f){function g(a){try{l(d.next(a))}catch(A){f(A)}}function h(a){try{l(d["throw"](a))}catch(A){f(A)}}
function l(a){a.done?c(a.value):e(a.value).then(g,h)}l((d=d.apply(a,b||[])).next())})},Ma=function(){this.html=m.makeDiv(["main-menu"]);this.refresh()};Ma.makeAudioButton=function(a){var b=this;return sb.isPlaying()?m.makeButton("disable_audio",function(c){return Mh(b,void 0,void 0,function l(){return $jscomp.generator.createGenerator(l,function(b){if(1==b.nextAddress)return c.disabled=!0,c.innerText="please_wait",b.yield(sb.stop(),2);a.refresh();b.jumpToEnd()})})}):m.makeButton("enable_audio",function(){sb.initialize();
a.refresh()})};Ma.prototype.refresh=function(){var a=this,b=Ya.saveExists(),c=m.makeButton("resume_game",function(){var a=Ya.loadProgress();void 0!==a?(Sd.enableCheats(a),B.show(new Da(a))):B.show(new Kf("Deserialization Error","The saved game data is invalid",new Ma))}),d=[];b?(d.push(c),d.push(m.makeButton("start_new_game",function(){B.show(new oe("Overwrite Saved Data?",a,function(){var a=Y.newGame();Sd.enableCheats(a);B.show(new Da(a))}))}))):d.push(m.makeButton("start_game",function(){var a=
Y.newGame();Sd.enableCheats(a);B.show(new Da(a))}));m.fillHTML(this.html,[m.makeHeader("Aurora",1),m.makeDivContaining(d.concat([Ma.makeAudioButton(this),m.makeButton("change_settings",function(){return B.show(new Fe(a))}),m.makeButton("view_achievements",function(){return B.show(new Xe(a))}),m.makeButton("view_credits",function(){return B.show(new ye)})]),["main-menu-options"])])};var Lf=function(a,b){this.header=a;this.message=b;this.html=m.makeDivContaining([m.makeHeader(this.header),m.makePara(this.message)],
["message-screen"])};Lf.prototype.refresh=function(){};var Nh=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,f){function g(a){try{k(d.next(a))}catch(A){f(A)}}function h(a){try{k(d["throw"](a))}catch(A){f(A)}}function k(a){a.done?c(a.value):e(a.value).then(g,h)}k((d=d.apply(a,b||[])).next())})};window.onload=function(){return Nh(this,void 0,void 0,function b(){return $jscomp.generator.createGenerator(b,function(b){return b.yield(t().then(function(){B.show(new Ma)},
function(){B.show(new Lf("Image Load Error","One or more image assets could not be loaded"))}),0)})})}}]);}).call(this || window)
</script><script type="text/javascript">(function(){'use strict';}).call(this || window)
</script></body> </html> 