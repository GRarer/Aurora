<!doctype html> <html lang=en dir=ltr> <head> <meta charset=utf-8> <title>Aurora</title> <style type="text/css">.main-menu{display:flex;flex-direction:column}.main-menu h1{font-size:40pt;margin:0;padding:0}.main-menu-options button{display:flex;flex-direction:column}.main-menu button{font-size:24pt;border:none;margin:0;padding:0}.main-menu button:hover{font-size:30pt}.main-menu button:active{color:grey}.credits h1{font-size:24pt;margin-bottom:10pt}.credits-container{display:flex;flex-direction:row}.credits-names-column{margin-right:24pt}.credits-name,.credits-roles{font-size:20pt;margin-top:0;margin-bottom:5pt}.credits button{margin-top:10pt;font-size:20pt}.world-screen-header{display:flex;flex-direction:row;margin:0;min-height:60px}.world-screen-quest-description{font-size:16px;padding-right:10px;padding-top:0;padding-bottom:0}.quest-description-emphasis{color:#408040;font-weight:700}.world-screen-hbox{margin:0;display:flex;flex-direction:row}.world-screen-map-box{height:100%;width:100%}.map-canvas{width:100%;margin:0}.world-screen-sidebar{background-color:#000;width:20%;padding:20px;font-size:16px;overflow-y:auto;height:calc(100vh - 125px)}.project-requirement-met{color:#fff}.project-requirement-unmet{color:tomato}.world-screen-inventory{width:20%;margin:10px;font-size:16px}.production-screen{padding-left:10pt}.production-screen-label{font-size:20pt}.production-screen-inventory{font-size:16pt;line-height:0;padding:1pt;outline:solid #fff;width:50%}.conversion-description{margin:0;font-size:16pt;text-align:left}.conversion-description-box{width:50%;border:2px solid #fff}.conversion-description-normal{color:#fff}.conversion-description-cannot-afford{color:tomato}.conversion-description-disabled{color:#ff0}.production-screen-back-button{font-size:20pt;margin-top:20pt}@keyframes loading-bar{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.transition-quote-panel{margin-top:150px;margin-right:auto;margin-left:auto;font-size:16px;width:420px}.transition-attribution{margin-left:50px}.transition-loading-area{text-align:center}.transition-loading-bar{margin-right:auto;margin-left:auto;width:50px;height:50px;border-radius:50%;border-color:#fff transparent;border-style:solid;border-width:5px;animation-name:loading-bar;animation-duration:1.25s;animation-iteration-count:infinite;animation-timing-function:ease}.transition-loading-area.loading .transition-loading-bar{background-size:80% 100%}.transition-loading-area.loaded .transition-loading-bar{background-size:100% 100%}:root,button{background-color:#000;color:#fff;font-family:monospace}button{font-size:18px}button:focus{outline:0}button:disabled,button[disabled]{color:grey;border-color:grey}.flex-horizontal{display:flex;flex-direction:row}.flex-vertical{display:flex;flex-direction:column}.fill-horizontal{width:100%;font-family:serif}.fill-vertical{height:100%}img.emoji{height:1em;width:1em;margin:0 .05em 0 .1em;vertical-align:-.1em}</style></head> <body> <div id=rootdiv> <p>Loading scripts...</p> </div> <script type="text/javascript">(function(){/*
 MIT
 Copyright Twitter Inc. and other contributors. Licensed under MIT */
'use strict';var $jscomp$templatelit$1=["\n                This is a multiline that does not\n                start with indentation"];$jscomp$templatelit$1.raw=$jscomp$templatelit$1.slice();var $jscomp$templatelit$0=["\n                    Multiline versions are also possible,\n                and they can use indentation.\n\n                    Line breaks are also supported."];$jscomp$templatelit$0.raw=$jscomp$templatelit$0.slice();var $jscomp=$jscomp||{};$jscomp.scope={};
$jscomp.arrayIteratorImpl=function(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,f){b!=Array.prototype&&b!=Object.prototype&&(b[c]=f.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(b,c){this.$jscomp$symbol$id_=b;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:c})};
$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(f||"")+"_"+c++,f)}var c=0;return b}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.asyncIterator;b||(b=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
$jscomp.makeIterator=function(b){var c="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return c?c.call(b):$jscomp.arrayIterator(b)};$jscomp.arrayFromIterator=function(b){for(var c,f=[];!(c=b.next()).done;)f.push(c.value);return f};$jscomp.arrayFromIterable=function(b){return b instanceof Array?b:$jscomp.arrayFromIterator($jscomp.makeIterator(b))};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(b){var c=function(){};c.prototype=b;return new c};
$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0},c={};try{return c.__proto__=b,c.a}catch(f){}return!1};$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(b,c){b.__proto__=c;if(b.__proto__!==c)throw new TypeError(b+" is not extensible");return b}:null;
$jscomp.inherits=function(b,c){b.prototype=$jscomp.objectCreate(c.prototype);b.prototype.constructor=b;if($jscomp.setPrototypeOf){var f=$jscomp.setPrototypeOf;f(b,c)}else for(f in c)if("prototype"!=f)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(c,f);e&&Object.defineProperty(b,f,e)}else b[f]=c[f];b.superClass_=c.prototype};$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(b){if(!(b instanceof Object))throw new TypeError("Iterator result "+b+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(b){this.yieldResult=b};
$jscomp.generator.Context.prototype.throw_=function(b){this.abruptCompletion_={exception:b,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(b){this.abruptCompletion_={return:b};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(b){this.abruptCompletion_={jumpTo:b};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(b,c){this.nextAddress=c;return{value:b}};
$jscomp.generator.Context.prototype.yieldAll=function(b,c){b=$jscomp.makeIterator(b);var f=b.next();$jscomp.generator.ensureIteratorResultIsObject_(f);if(f.done)this.yieldResult=f.value,this.nextAddress=c;else return this.yieldAllIterator_=b,this.yield(f.value,c)};$jscomp.generator.Context.prototype.jumpTo=function(b){this.nextAddress=b};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(b,c){this.catchAddress_=b;void 0!=c&&(this.finallyAddress_=c)};$jscomp.generator.Context.prototype.setFinallyBlock=function(b){this.catchAddress_=0;this.finallyAddress_=b||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(b,c){this.nextAddress=b;this.catchAddress_=c||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(b){this.catchAddress_=b||0;b=this.abruptCompletion_.exception;this.abruptCompletion_=null;return b};$jscomp.generator.Context.prototype.enterFinallyBlock=function(b,c,f){f?this.finallyContexts_[f]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=b||0;this.finallyAddress_=c||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(b,c){c=this.finallyContexts_.splice(c||0)[0];if(c=this.abruptCompletion_=this.abruptCompletion_||c){if(c.isException)return this.jumpToErrorHandler_();void 0!=c.jumpTo&&this.finallyAddress_<c.jumpTo?(this.nextAddress=c.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=b};$jscomp.generator.Context.prototype.forIn=function(b){return new $jscomp.generator.Context.PropertyIterator(b)};
$jscomp.generator.Context.PropertyIterator=function(b){this.object_=b;this.properties_=[];for(var c in b)this.properties_.push(c);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var b=this.properties_.pop();if(b in this.object_)return b}return null};$jscomp.generator.Engine_=function(b){this.context_=new $jscomp.generator.Context;this.program_=b};
$jscomp.generator.Engine_.prototype.next_=function(b){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,b,this.context_.next_);this.context_.next_(b);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(b){this.context_.start_();var c=this.context_.yieldAllIterator_;if(c)return this.yieldAllStep_("return"in c?c["return"]:function(b){return{value:b,done:!0}},b,this.context_.return);this.context_.return(b);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(b){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],b,this.context_.next_);this.context_.throw_(b);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(b,c,f){try{var e=b.call(this.context_.yieldAllIterator_,c);$jscomp.generator.ensureIteratorResultIsObject_(e);if(!e.done)return this.context_.stop_(),e;var h=e.value}catch(x){return this.context_.yieldAllIterator_=null,this.context_.throw_(x),this.nextStep_()}this.context_.yieldAllIterator_=null;f.call(this.context_,h);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var b=this.program_(this.context_);if(b)return this.context_.stop_(),{value:b.value,done:!1}}catch(c){this.context_.yieldResult=void 0,this.context_.throw_(c)}this.context_.stop_();if(this.context_.abruptCompletion_){b=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(b.isException)throw b.exception;return{value:b.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(b){this.next=function(c){return b.next_(c)};this.throw=function(c){return b.throw_(c)};this.return=function(c){return b.return_(c)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(b,c){c=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(c));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(c,b.prototype);return c};
$jscomp.polyfill=function(b,c,f,e){if(c){f=$jscomp.global;b=b.split(".");for(e=0;e<b.length-1;e++){var h=b[e];h in f||(f[h]={});f=f[h]}b=b[b.length-1];e=f[b];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(f,b,{configurable:!0,writable:!0,value:c})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(b){function c(){this.batch_=null}function f(b){return b instanceof h?b:new h(function(c,f){c(b)})}if(b&&!$jscomp.FORCE_POLYFILL_PROMISE)return b;c.prototype.asyncExecute=function(b){if(null==this.batch_){this.batch_=[];var c=this;this.asyncExecuteFunction(function(){c.executeBatch_()})}this.batch_.push(b)};var e=$jscomp.global.setTimeout;c.prototype.asyncExecuteFunction=function(b){e(b,0)};c.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var b=
this.batch_;this.batch_=[];for(var c=0;c<b.length;++c){var f=b[c];b[c]=null;try{f()}catch(B){this.asyncThrow_(B)}}}this.batch_=null};c.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var h=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var c=this.createResolveAndReject_();try{b(c.resolve,c.reject)}catch(D){c.reject(D)}};h.prototype.createResolveAndReject_=function(){function b(b){return function(e){f||(f=!0,b.call(c,e))}}var c=this,f=!1;
return{resolve:b(this.resolveTo_),reject:b(this.reject_)}};h.prototype.resolveTo_=function(b){if(b===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof h)this.settleSameAsPromise_(b);else{a:switch(typeof b){case "object":var c=null!=b;break a;case "function":c=!0;break a;default:c=!1}c?this.resolveToNonPromiseObj_(b):this.fulfill_(b)}};h.prototype.resolveToNonPromiseObj_=function(b){var c=void 0;try{c=b.then}catch(D){this.reject_(D);return}"function"==typeof c?
this.settleSameAsThenable_(c,b):this.fulfill_(b)};h.prototype.reject_=function(b){this.settle_(2,b)};h.prototype.fulfill_=function(b){this.settle_(1,b)};h.prototype.settle_=function(b,c){if(0!=this.state_)throw Error("Cannot settle("+b+", "+c+"): Promise already settled in state"+this.state_);this.state_=b;this.result_=c;this.executeOnSettledCallbacks_()};h.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=0;b<this.onSettledCallbacks_.length;++b)x.asyncExecute(this.onSettledCallbacks_[b]);
this.onSettledCallbacks_=null}};var x=new c;h.prototype.settleSameAsPromise_=function(b){var c=this.createResolveAndReject_();b.callWhenSettled_(c.resolve,c.reject)};h.prototype.settleSameAsThenable_=function(b,c){var f=this.createResolveAndReject_();try{b.call(c,f.resolve,f.reject)}catch(B){f.reject(B)}};h.prototype.then=function(b,c){function f(b,c){return"function"==typeof b?function(c){try{e(b(c))}catch(Ba){N(Ba)}}:c}var e,N,sb=new h(function(b,c){e=b;N=c});this.callWhenSettled_(f(b,e),f(c,N));
return sb};h.prototype.catch=function(b){return this.then(void 0,b)};h.prototype.callWhenSettled_=function(b,c){function f(){switch(e.state_){case 1:b(e.result_);break;case 2:c(e.result_);break;default:throw Error("Unexpected state: "+e.state_);}}var e=this;null==this.onSettledCallbacks_?x.asyncExecute(f):this.onSettledCallbacks_.push(f)};h.resolve=f;h.reject=function(b){return new h(function(c,f){f(b)})};h.race=function(b){return new h(function(c,e){for(var B=$jscomp.makeIterator(b),N=B.next();!N.done;N=
B.next())f(N.value).callWhenSettled_(c,e)})};h.all=function(b){var c=$jscomp.makeIterator(b),e=c.next();return e.done?f([]):new h(function(b,N){function B(c){return function(f){h[c]=f;D--;0==D&&b(h)}}var h=[],D=0;do h.push(void 0),D++,f(e.value).callWhenSettled_(B(h.length-1),N),e=c.next();while(!e.done)})};return h},"es6","es3");
$jscomp.iteratorFromArray=function(b,c){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var f=0,e={next:function(){if(f<b.length){var h=f++;return{value:c(h,b[h]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.polyfill("Math.hypot",function(b){return b?b:function(b){if(2>arguments.length)return arguments.length?Math.abs(arguments[0]):0;var c,e,h;for(c=h=0;c<arguments.length;c++)h=Math.max(h,Math.abs(arguments[c]));if(1e+100<h||1e-100>h){if(!h)return h;for(c=e=0;c<arguments.length;c++){var x=Number(arguments[c])/h;e+=x*x}return Math.sqrt(e)*h}for(c=e=0;c<arguments.length;c++)x=Number(arguments[c]),e+=x*x;return Math.sqrt(e)}},"es6","es3");
$jscomp.checkStringArgs=function(b,c,f){if(null==b)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return b+""};
$jscomp.polyfill("String.prototype.repeat",function(b){return b?b:function(b){var c=$jscomp.checkStringArgs(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var e="";b;)if(b&1&&(e+=c),b>>>=1)c+=c;return e}},"es6","es3");$jscomp.owns=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,c){for(var f=1;f<arguments.length;f++){var e=arguments[f];if(e)for(var h in e)$jscomp.owns(e,h)&&(b[h]=e[h])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");
$jscomp.polyfill("Array.from",function(b){return b?b:function(b,f,e){f=null!=f?f:function(b){return b};var c=[],x="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof x){b=x.call(b);for(var y=0;!(x=b.next()).done;)c.push(f.call(e,x.value,y++))}else for(x=b.length,y=0;y<x;y++)c.push(f.call(e,b[y],y));return c}},"es6","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var b={},c=Object.create(new $jscomp.global.Proxy(b,{get:function(f,e,h){return f==b&&"q"==e&&h==c}}));return!0===c.q}catch(f){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.polyfill("WeakMap",function(b){function c(){if(!b||!Object.seal)return!1;try{var c=Object.seal({}),e=Object.seal({}),f=new b([[c,2],[e,3]]);if(2!=f.get(c)||3!=f.get(e))return!1;f.delete(c);f.set(e,4);return!f.has(c)&&4==f.get(e)}catch(ba){return!1}}function f(){}function e(b){var c=typeof b;return"object"===c&&null!==b||"function"===c}function h(b){if(!$jscomp.owns(b,y)){var c=new f;$jscomp.defineProperty(b,y,{value:c})}}function x(b){var c=Object[b];c&&(Object[b]=function(b){if(b instanceof
f)return b;h(b);return c(b)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE)return b}else if(c())return b;var y="$jscomp_hidden_"+Math.random();x("freeze");x("preventExtensions");x("seal");var oa=0,D=function(b){this.id_=(oa+=Math.random()+1).toString();if(b){b=$jscomp.makeIterator(b);for(var c;!(c=b.next()).done;)c=c.value,this.set(c[0],c[1])}};D.prototype.set=function(b,c){if(!e(b))throw Error("Invalid WeakMap key");h(b);if(!$jscomp.owns(b,y))throw Error("WeakMap key fail: "+
b);b[y][this.id_]=c;return this};D.prototype.get=function(b){return e(b)&&$jscomp.owns(b,y)?b[y][this.id_]:void 0};D.prototype.has=function(b){return e(b)&&$jscomp.owns(b,y)&&$jscomp.owns(b[y],this.id_)};D.prototype.delete=function(b){return e(b)&&$jscomp.owns(b,y)&&$jscomp.owns(b[y],this.id_)?delete b[y][this.id_]:!1};return D},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(b){function c(){if($jscomp.ASSUME_NO_NATIVE_MAP||!b||"function"!=typeof b||!b.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),e=new b($jscomp.makeIterator([[c,"s"]]));if("s"!=e.get(c)||1!=e.size||e.get({x:4})||e.set({x:4},"t")!=e||2!=e.size)return!1;var f=e.entries(),h=f.next();if(h.done||h.value[0]!=c||"s"!=h.value[1])return!1;h=f.next();return h.done||4!=h.value[0].x||"t"!=h.value[1]||!f.next().done?!1:!0}catch(ba){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE)return b}else if(c())return b;$jscomp.initSymbolIterator();var f=new WeakMap,e=function(b){this.data_={};this.head_=y();this.size=0;if(b){b=$jscomp.makeIterator(b);for(var c;!(c=b.next()).done;)c=c.value,this.set(c[0],c[1])}};e.prototype.set=function(b,c){b=0===b?0:b;var e=h(this,b);e.list||(e.list=this.data_[e.id]=[]);e.entry?e.entry.value=c:(e.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:b,
value:c},e.list.push(e.entry),this.head_.previous.next=e.entry,this.head_.previous=e.entry,this.size++);return this};e.prototype.delete=function(b){b=h(this,b);return b.entry&&b.list?(b.list.splice(b.index,1),b.list.length||delete this.data_[b.id],b.entry.previous.next=b.entry.next,b.entry.next.previous=b.entry.previous,b.entry.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=y();this.size=0};e.prototype.has=function(b){return!!h(this,b).entry};
e.prototype.get=function(b){return(b=h(this,b).entry)&&b.value};e.prototype.entries=function(){return x(this,function(b){return[b.key,b.value]})};e.prototype.keys=function(){return x(this,function(b){return b.key})};e.prototype.values=function(){return x(this,function(b){return b.value})};e.prototype.forEach=function(b,c){for(var e=this.entries(),f;!(f=e.next()).done;)f=f.value,b.call(c,f[1],f[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=function(b,c){var e=c&&typeof c;"object"==
e||"function"==e?f.has(c)?e=f.get(c):(e=""+ ++oa,f.set(c,e)):e="p_"+c;var h=b.data_[e];if(h&&$jscomp.owns(b.data_,e))for(b=0;b<h.length;b++){var x=h[b];if(c!==c&&x.key!==x.key||c===x.key)return{id:e,list:h,index:b,entry:x}}return{id:e,list:h,index:-1,entry:void 0}},x=function(b,c){var e=b.head_;return $jscomp.iteratorPrototype(function(){if(e){for(;e.head!=b.head_;)e=e.previous;for(;e.next!=e.head;)return e=e.next,{done:!1,value:c(e)};e=null}return{done:!0,value:void 0}})},y=function(){var b={};return b.previous=
b.next=b.head=b},oa=0;return e},"es6","es3");$jscomp.polyfill("Array.prototype.values",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b,f){return f})}},"es8","es3");$jscomp.polyfill("Object.is",function(b){return b?b:function(b,f){return b===f?0!==b||1/b===1/f:b!==b&&f!==f}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,f){var c=this;c instanceof String&&(c=String(c));var h=c.length;f=f||0;for(0>f&&(f=Math.max(f+h,0));f<h;f++){var x=c[f];if(x===b||Object.is(x,b))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,f){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,f||0)}},"es6","es3");
(function(b){function c(e){if(f[e])return f[e].exports;var h=f[e]={i:e,l:!1,exports:{}};b[e].call(h.exports,h,h.exports,c);h.l=!0;return h.exports}var f={};c.m=b;c.c=f;c.d=function(b,f,x){c.o(b,f)||Object.defineProperty(b,f,{enumerable:!0,get:x})};c.r=function(b){$jscomp.initSymbol();$jscomp.initSymbol();"undefined"!==typeof Symbol&&Symbol.toStringTag&&($jscomp.initSymbol(),Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}));Object.defineProperty(b,"__esModule",{value:!0})};c.t=function(b,
f){f&1&&(b=c(b));if(f&8||f&4&&"object"===typeof b&&b&&b.__esModule)return b;var e=Object.create(null);c.r(e);Object.defineProperty(e,"default",{enumerable:!0,value:b});if(f&2&&"string"!=typeof b)for(var h in b)c.d(e,h,function(c){return b[c]}.bind(null,h));return e};c.n=function(b){var e=b&&b.__esModule?function(){return b["default"]}:function(){return b};c.d(e,"a",e);return e};c.o=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};c.p="";return c(c.s=3)})([function(b,c,f){function e(b){for(var c=
[],e,f=0,h=0;h<b.length;)e=b.charCodeAt(h++),f?(c.push((65536+(f-55296<<10)+(e-56320)).toString(16)),f=0):55296<e&&56319>=e?f=e:c.push(e.toString(16));return c}Object.defineProperty(c,"__esModule",{value:!0});c.TypeName=void 0;c.parse=function(b,c){var f=c&&c.assetType?c.assetType:"svg";c=c&&c.buildUrl?c.buildUrl:function(b,c){return"png"===c?"https://twemoji.maxcdn.com/v/latest/72x72/"+b+".png":"https://twemoji.maxcdn.com/v/latest/svg/"+b+".svg"};var y=[];for(h.default.lastIndex=0;;){var u=h.default.exec(b);
if(!u)break;var p=u[0],B=e(D(p)).join("-");y.push({url:B?c(B,f):"",indices:[u.index,h.default.lastIndex],text:p,type:x})}return y};c.toCodePoints=e;var h=(b=f(1))&&b.__esModule?b:{default:b},x=c.TypeName="emoji",y=/\uFE0F/g,oa=String.fromCharCode(8205),D=function(b){return 0>b.indexOf(oa)?b.replace(y,""):b}},function(b,c,f){Object.defineProperty(c,"__esModule",{value:!0});c.default=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[#*0-9]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5\udeeb\udeec\udef4-\udefa\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddb4\uddb7\uddba\uddbc-\uddca\uddd0\uddde-\uddff\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g},
,function(b,c,f){function e(a){var d=new Image,g=new Promise(function(g,b){d.onload=function(){return g(d)};d.onerror=function(){return g(d)};d.src=a});Ob.push(g);return d}function h(){return mc(this,void 0,void 0,function d(){return $jscomp.generator.createGenerator(d,function(d){return d.return(Promise.all(Ob))})})}function x(a){var d=new Za(a);a=window;a.cheatsAddResource=function(a,b){return d.addResource(a,b)};a.cheatsAddPopulation=function(a,b){return d.addPopulation(a,b)};Object.freeze(q);
Object.freeze(ca);a.Resources=q;a.Species=ca}function y(a,d,g){return Math.max(Math.min(d,g),a)}function oa(a,d){for(var g=[],b=1;b<arguments.length;++b)g[b-1]=arguments[b];b=a.reduce(function(a,d,b){return a+d+(g[b]||"")}).replace(/\t/,"    ").replace(/^(?:\r?\n)+|(?:\r?\n)+$/g,"").split(/\r?\n/);var c=b.filter(function(a){return""!==a}).map(function(a){return a.match(/^\s*/)[0].length}),v=0;0<b.length&&(v=c.reduce(function(a,d){return Math.min(a,d)}));return 0<v?b.map(function(a){return a.substring(v)}).join("\n"):
b.join("\n")}function D(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return D(a)}function B(){B=Object.assign||function(a){for(var d=1;d<arguments.length;d++){var g=arguments[d],b;for(b in g)Object.prototype.hasOwnProperty.call(g,
b)&&(a[b]=g[b])}return a};return B.apply(this,arguments)}function N(a){for(var d=1;d<arguments.length;d++){var g=null!=arguments[d]?arguments[d]:{},b=Object.keys(g);"function"===typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(g).filter(function(a){return Object.getOwnPropertyDescriptor(g,a).enumerable})));b.forEach(function(d){var b=g[d];d in a?Object.defineProperty(a,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):a[d]=b})}return a}function sb(a,d){if(null==a)return{};
if(null==a)var g={};else{g={};var b=Object.keys(a),c;for(c=0;c<b.length;c++){var v=b[c];0<=d.indexOf(v)||(g[v]=a[v])}}if(Object.getOwnPropertySymbols)for(c=Object.getOwnPropertySymbols(a),v=0;v<c.length;v++)b=c[v],0<=d.indexOf(b)||Object.prototype.propertyIsEnumerable.call(a,b)&&(g[b]=a[b]);return g}function ba(a){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(a)}function u(a,d,g){a.addEventListener(d,g,!ka&&Pb)}function p(a,d,g){a.removeEventListener(d,g,!ka&&
Pb)}function Ba(a,d){if(d){">"===d[0]&&(d=d.substring(1));if(a)try{if(a.matches)return a.matches(d);if(a.msMatchesSelector)return a.msMatchesSelector(d);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(d)}catch(g){}return!1}}function fa(a,d,g,b){if(a){g=g||document;do{if(null!=d&&(">"===d[0]?a.parentNode===g&&Ba(a,d):Ba(a,d))||b&&a===g)return a;if(a===g)break}while(a=a.host&&a!==document&&a.host.nodeType?a.host:a.parentNode)}return null}function U(a,d,g){if(a&&d)if(a.classList)a.classList[g?
"add":"remove"](d);else{var b=(" "+a.className+" ").replace(Qb," ").replace(" "+d+" "," ");a.className=(b+(g?" "+d:"")).replace(Qb," ")}}function m(a,d,g){var b=a&&a.style;if(b){if(void 0===g)return document.defaultView&&document.defaultView.getComputedStyle?g=document.defaultView.getComputedStyle(a,""):a.currentStyle&&(g=a.currentStyle),void 0===d?g:g[d];d in b||-1!==d.indexOf("webkit")||(d="-webkit-"+d);b[d]=g+("string"===typeof g?"":"px")}}function Ca(a,d){var g="";if("string"===typeof a)g=a;else{do{var b=
m(a,"transform");b&&"none"!==b&&(g=b+" "+g)}while(!d&&(a=a.parentNode))}return(a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix)&&new a(g)}function Rb(a,d,g){if(a){a=a.getElementsByTagName(d);d=0;var b=a.length;if(g)for(;d<b;d++)g(a[d],d);return a}return[]}function la(){var a=document.scrollingElement;return a?a:document.documentElement}function O(a,d,g,b,c){if(a.getBoundingClientRect||a===window){if(a!==window&&a!==la()){var n=a.getBoundingClientRect();var r=n.top;
var e=n.left;var f=n.bottom;var k=n.right;var h=n.height;var l=n.width}else e=r=0,f=window.innerHeight,k=window.innerWidth,h=window.innerHeight,l=window.innerWidth;if((d||g)&&a!==window&&(c=c||a.parentNode,!ka)){do if(c&&c.getBoundingClientRect&&("none"!==m(c,"transform")||g&&"static"!==m(c,"position"))){f=c.getBoundingClientRect();r-=f.top+parseInt(m(c,"border-top-width"));e-=f.left+parseInt(m(c,"border-left-width"));f=r+n.height;k=e+n.width;break}while(c=c.parentNode)}b&&a!==window&&(b=(a=Ca(c||
a))&&a.a,c=a&&a.d,a&&(r/=c,e/=b,l/=b,h/=c,f=r+h,k=e+l));return{top:r,left:e,bottom:f,right:k,width:l,height:h}}}function Sb(a,d,g){var b=pa(a,!0);for(a=O(a)[d];b;){d=O(b)[g];if(!("top"===g||"left"===g?a>=d:a<=d))return b;if(b===la())break;b=pa(b,!1)}return!1}function $a(a,d,g){for(var b=0,c=0,v=a.children;c<v.length;){if("none"!==v[c].style.display&&v[c]!==t.ghost&&v[c]!==t.dragged&&fa(v[c],g.draggable,a,!1)){if(b===d)return v[c];b++}c++}return null}function ub(a,d){for(a=a.lastElementChild;a&&(a===
t.ghost||"none"===m(a,"display")||d&&!Ba(a,d));)a=a.previousElementSibling;return a||null}function Y(a,d){var g=0;if(!a||!a.parentNode)return-1;for(;a=a.previousElementSibling;)"TEMPLATE"===a.nodeName.toUpperCase()||a===t.clone||d&&!Ba(a,d)||g++;return g}function Tb(a){var d=0,g=0,b=la();if(a){do{var c=Ca(a),v=c.d;d+=a.scrollLeft*c.a;g+=a.scrollTop*v}while(a!==b&&(a=a.parentNode))}return[d,g]}function nc(a,d){for(var g in a)if(a.hasOwnProperty(g))for(var b in d)if(d.hasOwnProperty(b)&&d[b]===a[g][b])return Number(g);
return-1}function pa(a,d){if(!a||!a.getBoundingClientRect)return la();var g=!1;do if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var b=m(a);if(a.clientWidth<a.scrollWidth&&("auto"==b.overflowX||"scroll"==b.overflowX)||a.clientHeight<a.scrollHeight&&("auto"==b.overflowY||"scroll"==b.overflowY)){if(!a.getBoundingClientRect||a===document.body)break;if(g||d)return a;g=!0}}while(a=a.parentNode);return la()}function vb(a,d){return Math.round(a.top)===Math.round(d.top)&&Math.round(a.left)===
Math.round(d.left)&&Math.round(a.height)===Math.round(d.height)&&Math.round(a.width)===Math.round(d.width)}function Ub(a,d){return function(){if(!Ka){var g=arguments;1===g.length?a.call(this,g[0]):a.apply(this,g);Ka=setTimeout(function(){Ka=void 0},d)}}}function Vb(a,d,g){a.scrollLeft+=d;a.scrollTop+=g}function Wb(a){var d=window.Polymer,g=window.jQuery||window.Zepto;return d&&d.dom?d.dom(a).cloneNode(!0):g?g(a).clone(!0)[0]:a.cloneNode(!0)}function oc(){var a=[],d;return{captureAnimationState:function(){a=
[];this.options.animation&&[].slice.call(this.el.children).forEach(function(d){if("none"!==m(d,"display")&&d!==t.ghost){a.push({target:d,rect:O(d)});var b=N({},a[a.length-1].rect);if(d.thisAnimationDuration){var g=Ca(d,!0);g&&(b.top-=g.f,b.left-=g.e)}d.fromRect=b}})},addAnimationState:function(d){a.push(d)},removeAnimationState:function(d){a.splice(nc(a,{target:d}),1)},animateAll:function(b){var g=this;if(this.options.animation){var c=!1,v=0;a.forEach(function(a){var d=0,b=a.target,n=b.fromRect,r=
O(b),e=b.prevFromRect,K=b.prevToRect;a=a.rect;var f=Ca(b,!0);f&&(r.top-=f.f,r.left-=f.e);b.toRect=r;b.thisAnimationDuration&&vb(e,r)&&!vb(n,r)&&(a.top-r.top)/(a.left-r.left)===(n.top-r.top)/(n.left-r.left)&&(d=Math.sqrt(Math.pow(e.top-a.top,2)+Math.pow(e.left-a.left,2))/Math.sqrt(Math.pow(e.top-K.top,2)+Math.pow(e.left-K.left,2))*g.options.animation);vb(r,n)||(b.prevFromRect=n,b.prevToRect=r,d||(d=g.options.animation),g.animate(b,a,r,d));d&&(c=!0,v=Math.max(v,d),clearTimeout(b.animationResetTimer),
b.animationResetTimer=setTimeout(function(){b.animationTime=0;b.prevFromRect=null;b.fromRect=null;b.prevToRect=null;b.thisAnimationDuration=null},d),b.thisAnimationDuration=d)});clearTimeout(d);c?d=setTimeout(function(){"function"===typeof b&&b()},v):"function"===typeof b&&b();a=[]}else clearTimeout(d),"function"===typeof b&&b()},animate:function(a,d,b,c){if(c){m(a,"transition","");m(a,"transform","");var g=Ca(this.el),n=(d.left-b.left)/(g&&g.a||1);d=(d.top-b.top)/(g&&g.d||1);a.animatingX=!!n;a.animatingY=
!!d;m(a,"transform","translate3d("+n+"px,"+d+"px,0)");m(a,"transition","transform "+c+"ms"+(this.options.easing?" "+this.options.easing:""));m(a,"transform","translate3d(0,0,0)");"number"===typeof a.animated&&clearTimeout(a.animated);a.animated=setTimeout(function(){m(a,"transition","");m(a,"transform","");a.animated=!1;a.animatingX=!1;a.animatingY=!1},c)}}}}function R(a){var d=N({putSortable:P,cloneEl:E,targetEl:l,rootEl:G,oldIndex:Da,oldDraggableIndex:La,newIndex:V,newDraggableIndex:qa},a);a=d.sortable;
var b=d.rootEl,c=d.name,r=d.targetEl,v=d.cloneEl,e=d.toEl,f=d.fromEl,k=d.oldIndex,h=d.newIndex,m=d.oldDraggableIndex,t=d.newDraggableIndex,w=d.originalEvent,q=d.putSortable,x=d.extraEventProperties;if(a=a||b&&b[W]){var p=a.options,u="on"+c.charAt(0).toUpperCase()+c.substr(1);!window.CustomEvent||ka||Ma?(d=document.createEvent("Event"),d.initEvent(c,!0,!0)):d=new CustomEvent(c,{bubbles:!0,cancelable:!0});d.to=e||b;d.from=f||b;d.item=r||b;d.clone=v;d.oldIndex=k;d.newIndex=h;d.oldDraggableIndex=m;d.newDraggableIndex=
t;d.originalEvent=w;d.pullMode=q?q.lastPutMode:void 0;c=N({},x,Na.getEventProperties(c,a));for(var y in c)d[y]=c[y];b&&b.dispatchEvent(d);p[u]&&p[u].call(a,d)}}function t(a,d){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(a));this.el=a;this.options=d=B({},d);a[W]=this;var b={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(a.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,
direction:function(){return Xb(a,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,d){a.setData("Text",d.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,
fallbackOffset:{x:0,y:0},supportPointer:!1!==t.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};Na.initializePlugins(this,a,b);for(var c in b)c in d||(d[c]=b[c]);Yb(d);for(var r in this)"_"===r.charAt(0)&&"function"===typeof this[r]&&(this[r]=this[r].bind(this));if(this.nativeDraggable=d.forceFallback?!1:pc)this.options.touchStartThreshold=1;d.supportPointer?u(a,"pointerdown",this._onTapStart):(u(a,"mousedown",this._onTapStart),u(a,"touchstart",this._onTapStart));this.nativeDraggable&&
(u(a,"dragover",this),u(a,"dragenter",this));ab.push(this.el);d.store&&d.store.get&&this.sort(d.store.get(this)||[]);B(this,oc())}function wb(a,d,b,c,r,v,e,f){var g=a[W],n=g.options.onMove,K;if(!window.CustomEvent||ka||Ma){var k=document.createEvent("Event");k.initEvent("move",!0,!0)}else k=new CustomEvent("move",{bubbles:!0,cancelable:!0});k.to=d;k.from=a;k.dragged=b;k.draggedRect=c;k.related=r||d;k.relatedRect=v||O(d);k.willInsertAfter=f;k.originalEvent=e;a.dispatchEvent(k);n&&(K=n.call(g,k,e));
return K}function xb(a){a.draggable=!1}function qc(){yb=!1}function rc(a,d,b){b=O(ub(b.el,b.options.draggable));return d?a.clientX>b.right+10||a.clientX<=b.right&&a.clientY>b.bottom&&a.clientX>=b.left:a.clientX>b.right&&a.clientY>b.top||a.clientX<=b.right&&a.clientY>b.bottom+10}function sc(a,d,b,c,r,v,e,f){a=c?a.clientY:a.clientX;var g=c?b.height:b.width,n=c?b.top:b.left;b=c?b.bottom:b.right;c=!1;if(!e)if(f&&bb<g*r)if(!Oa&&(1===Pa?a>n+g*v/2:a<b-g*v/2)&&(Oa=!0),Oa)c=!0;else{if(1===Pa?a<n+bb:a>b-bb)return-Pa}else if(a>
n+g*(1-r)/2&&a<b-g*(1-r)/2)return d=Y(l)<Y(d)?1:-1,d;if(c||e)if(a<n+g*v/2||a>b-g*v/2)return a>n+g/2?1:-1;return 0}function tc(a){a=a.tagName+a.className+a.src+a.href+a.textContent;for(var d=a.length,b=0;d--;)b+=a.charCodeAt(d);return b.toString(36)}function uc(a){cb.length=0;a=a.getElementsByTagName("input");for(var d=a.length;d--;){var b=a[d];b.checked&&cb.push(b)}}function db(a){return setTimeout(a,0)}function eb(){H.forEach(function(a){clearInterval(a.pid)});H=[]}function zb(){}function Ab(){}
f.r(c);var vc=function(){function a(a,d){return document.createTextNode(d?a.replace(w,""):a)}function d(a,d){return"".concat(d.base,d.size,"/",a,d.ext)}function b(a,d){a=a.childNodes;for(var g=a.length,c,n;g--;)c=a[g],n=c.nodeType,3===n?d.push(c):1!==n||"ownerSVGElement"in c||p.test(c.nodeName.toLowerCase())||b(c,d);return d}function c(a){return h(0>a.indexOf(q)?a.replace(w,""):a)}function r(d,g){for(var n=b(d,[]),v=n.length,r,e,f,K,k,h,l,ua,m,w;v--;){r=!1;f=document.createDocumentFragment();K=n[v];
k=K.nodeValue;for(l=0;h=t.exec(k);){ua=h.index;ua!==l&&f.appendChild(a(k.slice(l,ua),!0));h=h[0];w=c(h);l=ua+h.length;ua=g.callback(w,g);if(w&&ua){m=new Image;m.onerror=g.onerror;m.setAttribute("draggable","false");r=g.attributes(h,w);for(e in r)r.hasOwnProperty(e)&&0!==e.indexOf("on")&&!m.hasAttribute(e)&&m.setAttribute(e,r[e]);m.className=g.className;m.alt=h;m.src=ua;r=!0;f.appendChild(m)}m||f.appendChild(a(h,!1));m=null}r&&(l<k.length&&f.appendChild(a(k.slice(l),!0)),K.parentNode.replaceChild(f,
K))}return d}function v(a,d){return k(a,function(a){var b=a,g=c(a),n=d.callback(g,d),v;if(g&&n){b="<img ".concat('class="',d.className,'" ','draggable="false" ','alt="',a,'"',' src="',n,'"');a=d.attributes(a,g);for(v in a)a.hasOwnProperty(v)&&0!==v.indexOf("on")&&-1===b.indexOf(" "+v+"=")&&(b=b.concat(" ",v,'="',a[v].replace(x,e),'"'));b=b.concat("/>")}return b})}function e(a){return m[a]}function f(){return null}function k(a,d){return String(a).replace(t,d)}function h(a,d){for(var b=[],g,c=0,n=0;n<
a.length;)g=a.charCodeAt(n++),c?(b.push((65536+(c-55296<<10)+(g-56320)).toString(16)),c=0):55296<=g&&56319>=g?c=g:b.push(g.toString(16));return b.join(d||"-")}var l={base:"https://twemoji.maxcdn.com/v/12.1.5/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(a){a="string"===typeof a?parseInt(a,16):a;if(65536>a)return u(a);a-=65536;return u(55296+(a>>10),56320+(a&1023))},toCodePoint:h},onerror:function(){this.parentNode&&this.parentNode.replaceChild(a(this.alt,!1),this)},parse:function(a,
b){b&&"function"!==typeof b||(b={callback:b});var g=b.callback||d,c="function"===typeof b.attributes?b.attributes:f,n="string"===typeof b.base?b.base:l.base,e=b.ext||l.ext,K;(K=b.folder)||(K=b.size||l.size,K="number"===typeof K?K+"x"+K:K);return("string"===typeof a?v:r)(a,{callback:g,attributes:c,base:n,ext:e,size:K,className:b.className||l.className,onerror:b.onerror||l.onerror})},replace:k,test:function(a){t.lastIndex=0;a=t.test(a);t.lastIndex=0;return a}},m={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",
'"':"&quot;"},t=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[#*0-9]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5\udeeb\udeec\udef4-\udefa\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddb4\uddb7\uddba\uddbc-\uddca\uddd0\uddde-\uddff\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,
w=/\uFE0F/g,q=String.fromCharCode(8205),x=/[&<>'"]/g,p=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,u=String.fromCharCode;return l}(),wc=f(0),k;(function(a){function d(a){var d=document.createElement("div");a&&d.classList.add.apply(d.classList,$jscomp.arrayFromIterable(a));return d}function b(a,d,b){a=document.createElement(a);a.innerText=d;b&&a.classList.add.apply(a.classList,$jscomp.arrayFromIterable(b));return a}function c(a){vc.parse(a,{folder:"svg",ext:".svg"});return a}function r(a){return 0<
wc.parse(a).length}a.makeDiv=d;a.makeDivContaining=function(a,b){b=d(b);a=$jscomp.makeIterator(a);for(var g=a.next();!g.done;g=a.next())b.appendChild(g.value);return b};a.makeElement=b;a.patchEmoji=c;a.containsEmoji=r;a.makePara=function(a,d){d=b("p",a,d);r(a)&&c(d);return d};a.makeHeader=function(a,d,g){d=b("h"+(void 0===d?1:d),a,g);r(a)&&c(d);return d};a.makeButton=function(a,d,b,g){g=void 0===g?"enabled":g;var n=document.createElement("button");n.type="button";"disabled"==g&&(n.disabled=!0);n.innerText=
a;b&&n.classList.add.apply(n.classList,$jscomp.arrayFromIterable(b));n.onclick=function(a){a.preventDefault();d.call(this,a)};r(a)&&c(n);return n};a.makeCanvas=function(a,d,b){var g=document.createElement("canvas");g.width=a;g.height=d;b&&g.classList.add.apply(g.classList,$jscomp.arrayFromIterable(b));return g};a.fillHTML=function(a,d){a.innerHTML="";d=$jscomp.makeIterator(d);for(var b=d.next();!b.done;b=d.next())a.appendChild(b.value)}})(k||(k={}));var I;(function(a){var d=document.getElementById("rootdiv"),
b=void 0;a.show=function(a){b=a;k.fillHTML(d,[a.html]);document.onkeydown=function(d){a.handleKeyDown&&a.handleKeyDown(d)};document.onkeyup=function(d){a.handleKeyUp&&a.handleKeyUp(d)}};a.refreshCurrentPage=function(){b&&b.refresh()}})(I||(I={}));var mc=function(a,d,b,c){function g(a){return a instanceof b?a:new b(function(d){d(a)})}return new (b||(b=Promise))(function(b,n){function r(a){try{e(c.next(a))}catch(tb){n(tb)}}function v(a){try{e(c["throw"](a))}catch(tb){n(tb)}}function e(a){a.done?b(a.value):
g(a.value).then(r,v)}e((c=c.apply(a,d||[])).next())})},Ob=[],xc=e("assets/ui/highlight.png"),yc=e("assets/tiles/habitat.png"),zc=e("assets/tiles/wasteland.png"),Ac=e("assets/tiles/solar_panels.png"),Bc=e("assets/tiles/mountain.png"),Cc=e("assets/tiles/mining_facility.png"),Dc=e("assets/tiles/lander.png"),Bb=function(a,d){this.name=a;this.roles=d},Zb=[new Bb("Grace Rarer",["Team Lead","Gameplay Programmer"]),new Bb("Prindle",["DevOps"]),new Bb("May Lawver",["Programmer (HTML Composition Code)"])],
$b=function(){this.html=k.makeDiv(["credits"]);this.refresh()};$b.prototype.refresh=function(){var a=Zb.map(function(a){return k.makePara(a.name,["credits-name"])}),d=Zb.map(function(a){return k.makePara(a.roles.join(", "),["credits-roles"])});k.fillHTML(this.html,[k.makeHeader("Credits",1),k.makeDivContaining([k.makeDivContaining(a,["credits-names-column"]),k.makeDivContaining(d)],["credits-container"]),k.makeButton("Back",function(){return I.show(new fb)})])};var q=function(a){this.name=a};q.values=
function(){return Object.keys(q).map(function(a){return q[a]})};q.Energy=new q("\u26a1 Energy");q.Metal=new q("\u26cf Metal Ore");q.BuildingMaterials=new q("\ud83d\udd29 Construction Parts");q.Electronics=new q("\ud83d\udca1 Electronics");q.EngineeringKnowledge=new q("\u2699\ufe0f Engineering Data");q.SocialKnowledge=new q("\ud83e\udde0 Psychological Data");var ca=function(a,d){this.name=a;this.growthMultiplier=d};ca.values=function(){return Object.keys(ca).map(function(a){return ca[a]})};ca.Human=
new ca("\ud83d\udc69\ud83c\udffb\u200d\ud83d\ude80 Human Colonists",.1);ca.Robot=new ca("\ud83e\udd16 Robots",1);var Za=function(a){this.currentGame=a};Za.prototype.refresh=function(){this.currentGame.updateQuestState();I.refreshCurrentPage()};Za.prototype.addResource=function(a,d){this.currentGame.inventory.addResource(a,d);this.refresh()};Za.prototype.addPopulation=function(a,d){this.currentGame.inventory.addWorkers(a,d);this.refresh()};var C=function(a,d){this.x=a;this.y=d};C.prototype.toString=
function(){return"("+this.x+", "+this.y+")"};C.prototype.distanceFrom=function(a){return Math.hypot(Math.abs(this.x-a.x),Math.abs(this.y-a.y))};var z=function(a,d){var b=this;this.viewWidth=12;this.viewHeight=8;this.viewPosition=new C(0,0);this.highlightedCoordinates=null;this.world=d;this.parentScreen=a;this.html=k.makeCanvas(this.viewWidth*z.pixelsPerTile,this.viewHeight*z.pixelsPerTile,["map-canvas"]);this.html.addEventListener("click",function(a){return b.handleClick(a)});this.refresh()};z.prototype.refresh=
function(){var a=this.world.getTilesInRectangle(this.viewPosition.x,this.viewPosition.y,this.viewWidth,this.viewHeight);a=$jscomp.makeIterator(a);for(var d=a.next();!d.done;d=a.next())this.rerenderTile(d.value)};z.prototype.drawSquareAtCoordinates=function(a,d){var b=this.html.getContext("2d");b.imageSmoothingEnabled=!1;var c=d.x-this.viewPosition.x;d=d.y-this.viewPosition.y;0>c||0>d||c>=this.viewWidth||d>=this.viewHeight||b.drawImage(a,c*z.pixelsPerTile,d*z.pixelsPerTile,z.pixelsPerTile,z.pixelsPerTile)};
z.prototype.rerenderTile=function(a){this.drawSquareAtCoordinates(a.texture,a.position);a.position===this.highlightedCoordinates&&this.drawSquareAtCoordinates(z.highlightImage,a.position)};z.prototype.selectTile=function(a){if(!a||a.position!==this.highlightedCoordinates){if(this.highlightedCoordinates){var d=this.world.getTileAtCoordinates(this.highlightedCoordinates);this.highlightedCoordinates=null;this.rerenderTile(d)}a?(this.drawSquareAtCoordinates(z.highlightImage,a.position),this.highlightedCoordinates=
a.position):this.highlightedCoordinates=null;this.parentScreen.changeSidebarTile(this.highlightedCoordinates)}};z.prototype.moveViewArea=function(a,d){var b=this.viewPosition.x,c=this.viewPosition.y;a=y(0,this.viewPosition.x+a,this.world.width-this.viewWidth);d=y(0,this.viewPosition.y+d,this.world.height-this.viewHeight);this.viewPosition=new C(a,d);a=this.viewPosition.x-b;d=this.viewPosition.y-c;b=a*z.pixelsPerTile*-1;c=d*z.pixelsPerTile*-1;this.html.getContext("2d").drawImage(this.html,b,c);if(0<
a)for(b=this.world.getTilesInRectangle(this.viewPosition.x+this.viewWidth-a,this.viewPosition.y,a,this.viewHeight),c=$jscomp.makeIterator(b),b=c.next();!b.done;b=c.next())this.rerenderTile(b.value);if(0>a)for(a=this.world.getTilesInRectangle(this.viewPosition.x,this.viewPosition.y,-1*a,this.viewHeight),a=$jscomp.makeIterator(a),b=a.next();!b.done;b=a.next())this.rerenderTile(b.value);if(0<d)for(a=this.world.getTilesInRectangle(this.viewPosition.x,this.viewPosition.y+this.viewHeight-d,this.viewWidth,
d),a=$jscomp.makeIterator(a),b=a.next();!b.done;b=a.next())this.rerenderTile(b.value);if(0>d)for(d=this.world.getTilesInRectangle(this.viewPosition.x,this.viewPosition.y,this.viewWidth,-1*d),d=$jscomp.makeIterator(d),b=d.next();!b.done;b=d.next())this.rerenderTile(b.value)};z.prototype.handleClick=function(a){a=this.world.getTileAtCoordinates(new C(Math.floor(this.viewWidth/this.html.clientWidth*(a.pageX-this.html.offsetLeft))+this.viewPosition.x,Math.floor(this.viewHeight/this.html.clientHeight*
(a.pageY-this.html.offsetTop))+this.viewPosition.y));this.selectTile(a)};z.prototype.handleKeyDown=function(a){a=a.code;"ArrowUp"!==a&&"KeyW"!==a||this.moveViewArea(0,-1);"ArrowLeft"!==a&&"KeyA"!==a||this.moveViewArea(-1,0);"ArrowDown"!==a&&"KeyS"!==a||this.moveViewArea(0,1);"ArrowRight"!==a&&"KeyD"!==a||this.moveViewArea(1,0)};z.pixelsPerTile=64;z.highlightImage=xc;var Ea=function(a,d){this.parentScreen=a;this.run=d;this.position=null;this.html=k.makeDiv(["world-screen-sidebar"]);this.refresh()};
Ea.prototype.changeTile=function(a){this.position=a;this.refresh()};Ea.prototype.refresh=function(){var a=this;if(null==this.position)k.fillHTML(this.html,[k.makePara("No structure or terrain tile selected")]);else{var d=this.run.world.getTileAtCoordinates(this.position),b=k.makeDiv();b.appendChild(k.makePara(d.getTileDescription()));var c=k.makeDiv();d.populationCapacity&&c.appendChild(k.makePara("Population capacity for "+d.populationCapacity.capacity+" "+d.populationCapacity.species.name));var r=
k.makeDiv(),v=d.possibleProjects.filter(function(d){return d.isVisible(a.position,a.run)});if(0<v.length){r.appendChild(k.makePara("Projects:"));v=$jscomp.makeIterator(v);for(var e=v.next();!e.done;e=v.next())r.appendChild(this.makeProjectHTML(d,e.value))}v=k.makeDiv();if(0<d.resourceConversions.length){v.appendChild(k.makePara("Production:"));e=$jscomp.makeIterator(d.resourceConversions);for(var f=e.next();!f.done;f=e.next())v.appendChild(this.makeConversionHTML(f.value))}k.fillHTML(this.html,[k.makePara(d.getTileName()),
k.makePara("Coordinates: "+this.position.x+", "+this.position.y),b,c,r,v])}};Ea.prototype.makeProjectHTML=function(a,d){var b=this,c=k.makeDiv(),r=k.makeButton(d.title,function(){b.doProject(d,a)},[],d.canDo(a.position,this.run)?"enabled":"disabled");c.appendChild(r);if(0==d.costs.length)c.appendChild(k.makePara("Cost: Free"));else{r=this.run.inventory.canAfford(d.costs)?"project-requirement-met":"project-requirement-unmet";var e="Cost: "+d.costs.map(function(a){return""+a.toString()}).join(", ");
c.appendChild(k.makePara(e,[r]))}0<d.completionRequirements.length&&c.appendChild(k.makePara("Requirements:"));r=$jscomp.makeIterator(d.completionRequirements);for(e=r.next();!e.done;e=r.next()){e=e.value;var f=e.evaluate(this.run,this.position)?"project-requirement-met":"project-requirement-unmet";c.appendChild(k.makePara("- "+e.toString(),[f]))}return c};Ea.prototype.makeConversionHTML=function(a){return k.makePara("- "+a.toString())};Ea.prototype.doProject=function(a,d){a.doAction(d.position,this.run);
this.run.updateQuestState();this.parentScreen.refresh()};var ac=function(a){this.inventory=a.inventory;this.html=k.makeDiv(["world-screen-inventory"]);this.refresh()};ac.prototype.refresh=function(){for(var a=k.makeHeader("Population: "+this.inventory.getTotalPopulation(),1),d=k.makePara("Available workers: "+this.inventory.getAvailableWorkers()),b=k.makeDiv(),c=$jscomp.makeIterator(this.inventory.getPopulationStrings()),e=c.next();!e.done;e=c.next())b.appendChild(k.makePara(e.value));c=k.makeDiv();
var v=$jscomp.makeIterator(this.inventory.getInventoryStrings());for(e=v.next();!e.done;e=v.next())c.appendChild(k.makePara(e.value));k.fillHTML(this.html,[k.makeDivContaining([a,d,b,k.makeHeader("Inventory:",1),c])])};var Qa;(function(a){function d(a,d){return Math.random()*(d-a)+a}function b(a,b){return Math.floor(d(a,b))}a.realBetween=d;a.intBetween=b;a.fromArray=function(a){return a[b(0,a.length)]}})(Qa||(Qa={}));var va=function(a,d){this.text=a;this.attribution=d};va.getRandomQuote=function(){return Qa.fromArray(this.QuotesList)};
va.QuotesList=[new va("I am an example quote","Person McQuoteFace"),new va("Lorem ipsum dolor sit amet","Mx. Example"),new va(oa($jscomp$templatelit$0),"Author Goes Here"),new va(oa($jscomp$templatelit$1),"Name McNameFace")];var gb=function(a){this.run=a;this.html=k.makeDiv();this.loadingBar=k.makeDiv(["transition-loading-bar"]);this.loadingArea=k.makeDivContaining([this.loadingBar],["transition-loading-area"]);this.quote=va.getRandomQuote();a=this.quote.text;var d="\u00a0".repeat(4);a=a.replace(/\t/g,
d);a=a.replace(/ {4}/g,d);a=a.replace(/^(\s*)/,"$1\u201c")+"\u201d";k.fillHTML(this.html,[k.makeDivContaining([k.makePara(""+a),k.makePara("-"+this.quote.attribution,["transition-attribution"])],["transition-quote-panel"]),this.loadingArea])};gb.prototype.refresh=function(){};gb.prototype.startLoading=function(){var a=this;this.run.completeTurn();setTimeout(function(){k.fillHTML(a.loadingArea,[k.makeButton("Continue",function(){a.continueToNextTurn()})])},750)};gb.prototype.continueToNextTurn=function(){I.show(new wa(this.run))};
var ka=ba(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ma=ba(/Edge/i),bc=ba(/firefox/i),Cb=ba(/safari/i)&&!ba(/chrome/i)&&!ba(/android/i),Ra=ba(/iP(ad|od|hone)/i),Ec=ba(/chrome/i)&&ba(/android/i),Pb={capture:!1,passive:!1},Qb=/\s+/g,Ka,W="Sortable"+(new Date).getTime(),Sa=[],Db={initializeByDefault:!0},Na={mount:function(a){for(var d in Db)!Db.hasOwnProperty(d)||d in a||(a[d]=Db[d]);Sa.push(a)},pluginEvent:function(a,d,b){var g=this;this.eventCanceled=!1;b.cancel=function(){g.eventCanceled=
!0};var c=a+"Global";Sa.forEach(function(g){if(d[g.pluginName]){if(d[g.pluginName][c])d[g.pluginName][c](N({sortable:d},b));if(d.options[g.pluginName]&&d[g.pluginName][a])d[g.pluginName][a](N({sortable:d},b))}})},initializePlugins:function(a,d,b,c){Sa.forEach(function(g){var c=g.pluginName;if(a.options[c]||g.initializeByDefault)g=new g(a,d,a.options),g.sortable=a,g.options=a.options,a[c]=g,B(b,g.defaults)});for(var g in a.options)a.options.hasOwnProperty(g)&&(c=this.modifyOption(a,g,a.options[g]),
"undefined"!==typeof c&&(a.options[g]=c))},getEventProperties:function(a,d){var b={};Sa.forEach(function(g){"function"===typeof g.eventProperties&&B(b,g.eventProperties.call(d[g.pluginName],a))});return b},modifyOption:function(a,d,b){var g;Sa.forEach(function(c){a[c.pluginName]&&c.optionListeners&&"function"===typeof c.optionListeners[d]&&(g=c.optionListeners[d].call(a[c.pluginName],b))});return g}},S=function(a,d){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},c=b.evt;b=sb(b,["evt"]);
Na.pluginEvent.bind(t)(a,d,N({dragEl:l,parentEl:J,ghostEl:w,rootEl:G,nextEl:xa,lastDownEl:hb,cloneEl:E,cloneHidden:ra,dragStarted:Ta,putSortable:P,activeSortable:t.active,originalEvent:c,oldIndex:Da,oldDraggableIndex:La,newIndex:V,newDraggableIndex:qa,hideGhostForTarget:cc,unhideGhostForTarget:dc,cloneNowHidden:function(){ra=!0},cloneNowShown:function(){ra=!1},dispatchSortableEvent:function(a){R({sortable:d,name:a,originalEvent:c})}},b))},l,J,w,G,xa,hb,E,ra,Da,V,La,qa,ib,P,Fa=!1,jb=!1,ab=[],ya,ea,
Eb,Fb,ec,fc,Ta,Ga,Pa,Oa=!1,kb=!1,bb,L,Gb=[],yb=!1,cb=[],lb="undefined"!==typeof document,gc=Ma||ka?"cssFloat":"float",pc=lb&&!Ec&&!Ra&&"draggable"in document.createElement("div"),hc=function(){if(lb){if(ka)return!1;var a=document.createElement("x");a.style.cssText="pointer-events:auto";return"auto"===a.style.pointerEvents}}(),Xb=function(a,d){var b=m(a),c=parseInt(b.width)-parseInt(b.paddingLeft)-parseInt(b.paddingRight)-parseInt(b.borderLeftWidth)-parseInt(b.borderRightWidth),e=$a(a,0,d);a=$a(a,
1,d);var f=e&&m(e);d=a&&m(a);var k=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+O(e).width,h=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+O(a).width;return"flex"===b.display?"column"===b.flexDirection||"column-reverse"===b.flexDirection?"vertical":"horizontal":"grid"===b.display?1>=b.gridTemplateColumns.split(" ").length?"vertical":"horizontal":e&&f["float"]&&"none"!==f["float"]?(b="left"===f["float"]?"left":"right",!a||"both"!==d.clear&&d.clear!==b?"horizontal":"vertical"):e&&("block"===
f.display||"flex"===f.display||"table"===f.display||"grid"===f.display||k>=c&&"none"===b[gc]||a&&"none"===b[gc]&&k+h>c)?"vertical":"horizontal"},Fc=function(a,d,b){var g=b?a.left:a.top,c=b?a.right:a.bottom;a=b?a.width:a.height;var e=b?d.left:d.top,f=b?d.right:d.bottom;d=b?d.width:d.height;return g===e||c===f||g+a/2===e+d/2},Gc=function(a,d){var b;ab.some(function(g){if(!ub(g)){var c=O(g),n=g[W].options.emptyInsertThreshold,e=a>=c.left-n&&a<=c.right+n;c=d>=c.top-n&&d<=c.bottom+n;if(n&&e&&c)return b=
g}});return b},Yb=function(a){function d(a,b){return function(g,c,e,n){var f=g.options.group.name&&c.options.group.name&&g.options.group.name===c.options.group.name;if(null==a&&(b||f))return!0;if(null==a||!1===a)return!1;if(b&&"clone"===a)return a;if("function"===typeof a)return d(a(g,c,e,n),b)(g,c,e,n);g=(b?g:c).options.group.name;return!0===a||"string"===typeof a&&a===g||a.join&&-1<a.indexOf(g)}}var b={},c=a.group;c&&"object"==D(c)||(c={name:c});b.name=c.name;b.checkPull=d(c.pull,!0);b.checkPut=
d(c.put);b.revertClone=c.revertClone;a.group=b},cc=function(){!hc&&w&&m(w,"display","none")},dc=function(){!hc&&w&&m(w,"display","")};lb&&document.addEventListener("click",function(a){if(jb)return a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),jb=!1},!0);var za=function(a){if(l){a=a.touches?a.touches[0]:a;var d=Gc(a.clientX,a.clientY);if(d){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.target=b.rootEl=d;b.preventDefault=
void 0;b.stopPropagation=void 0;d[W]._onDragOver(b)}}},Hc=function(a){l&&l.parentNode[W]._isOutsideThisEl(a.target)};t.prototype={constructor:t,_isOutsideThisEl:function(a){this.el.contains(a)||a===this.el||(Ga=null)},_getDirection:function(a,d){return"function"===typeof this.options.direction?this.options.direction.call(this,a,d,l):this.options.direction},_onTapStart:function(a){if(a.cancelable){var d=this,b=this.el,c=this.options,e=c.preventOnFilter,f=a.type,k=a.touches&&a.touches[0]||a.pointerType&&
"touch"===a.pointerType&&a,h=(k||a).target,m=a.target.shadowRoot&&(a.path&&a.path[0]||a.composedPath&&a.composedPath()[0])||h,t=c.filter;uc(b);if(!(l||/mousedown|pointerdown/.test(f)&&0!==a.button||c.disabled||m.isContentEditable||(h=fa(h,c.draggable,b,!1),h&&h.animated||hb===h))){Da=Y(h);La=Y(h,c.draggable);if("function"===typeof t){if(t.call(this,a,h,this)){R({sortable:d,rootEl:m,name:"filter",targetEl:h,toEl:b,fromEl:b});S("filter",d,{evt:a});e&&a.cancelable&&a.preventDefault();return}}else if(t&&
(t=t.split(",").some(function(c){if(c=fa(m,c.trim(),b,!1))return R({sortable:d,rootEl:c,name:"filter",targetEl:h,fromEl:b,toEl:b}),S("filter",d,{evt:a}),!0}))){e&&a.cancelable&&a.preventDefault();return}c.handle&&!fa(m,c.handle,b,!1)||this._prepareDragStart(a,k,h)}}},_prepareDragStart:function(a,d,b){var c=this,g=c.el,e=c.options,f=g.ownerDocument;if(b&&!l&&b.parentNode===g){var k=O(b);G=g;l=b;J=l.parentNode;xa=l.nextSibling;hb=b;ib=e.group;t.dragged=l;ya={target:l,clientX:(d||a).clientX,clientY:(d||
a).clientY};ec=ya.clientX-k.left;fc=ya.clientY-k.top;this._lastX=(d||a).clientX;this._lastY=(d||a).clientY;l.style["will-change"]="all";b=function(){S("delayEnded",c,{evt:a});t.eventCanceled?c._onDrop():(c._disableDelayedDragEvents(),!bc&&c.nativeDraggable&&(l.draggable=!0),c._triggerDragStart(a,d),R({sortable:c,name:"choose",originalEvent:a}),U(l,e.chosenClass,!0))};e.ignore.split(",").forEach(function(a){Rb(l,a.trim(),xb)});u(f,"dragover",za);u(f,"mousemove",za);u(f,"touchmove",za);u(f,"mouseup",
c._onDrop);u(f,"touchend",c._onDrop);u(f,"touchcancel",c._onDrop);bc&&this.nativeDraggable&&(this.options.touchStartThreshold=4,l.draggable=!0);S("delayStart",this,{evt:a});!e.delay||e.delayOnTouchOnly&&!d||this.nativeDraggable&&(Ma||ka)?b():t.eventCanceled?this._onDrop():(u(f,"mouseup",c._disableDelayedDrag),u(f,"touchend",c._disableDelayedDrag),u(f,"touchcancel",c._disableDelayedDrag),u(f,"mousemove",c._delayedDragTouchMoveHandler),u(f,"touchmove",c._delayedDragTouchMoveHandler),e.supportPointer&&
u(f,"pointermove",c._delayedDragTouchMoveHandler),c._dragStartTimer=setTimeout(b,e.delay))}},_delayedDragTouchMoveHandler:function(a){a=a.touches?a.touches[0]:a;Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){l&&xb(l);clearTimeout(this._dragStartTimer);this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var a=
this.el.ownerDocument;p(a,"mouseup",this._disableDelayedDrag);p(a,"touchend",this._disableDelayedDrag);p(a,"touchcancel",this._disableDelayedDrag);p(a,"mousemove",this._delayedDragTouchMoveHandler);p(a,"touchmove",this._delayedDragTouchMoveHandler);p(a,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(a,b){b=b||"touch"==a.pointerType&&a;!this.nativeDraggable||b?this.options.supportPointer?u(document,"pointermove",this._onTouchMove):b?u(document,"touchmove",this._onTouchMove):
u(document,"mousemove",this._onTouchMove):(u(l,"dragend",this),u(G,"dragstart",this._onDragStart));try{document.selection?db(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(g){}},_dragStarted:function(a,b){Fa=!1;if(G&&l){S("dragStarted",this,{evt:b});this.nativeDraggable&&u(document,"dragover",Hc);var d=this.options;!a&&U(l,d.dragClass,!1);U(l,d.ghostClass,!0);t.active=this;a&&this._appendGhost();R({sortable:this,name:"start",originalEvent:b})}else this._nulling()},
_emulateDragOver:function(){if(ea){this._lastX=ea.clientX;this._lastY=ea.clientY;cc();for(var a=document.elementFromPoint(ea.clientX,ea.clientY),b=a;a&&a.shadowRoot;){a=a.shadowRoot.elementFromPoint(ea.clientX,ea.clientY);if(a===b)break;b=a}l.parentNode[W]._isOutsideThisEl(a);if(b){do{if(b[W]&&b[W]._onDragOver({clientX:ea.clientX,clientY:ea.clientY,target:a,rootEl:b})&&!this.options.dragoverBubble)break;a=b}while(b=b.parentNode)}dc()}},_onTouchMove:function(a){if(ya){var b=this.options,c=b.fallbackTolerance,
e=b.fallbackOffset;b=a.touches?a.touches[0]:a;var f=w&&Ca(w,!0),k=w&&f&&f.a,h=w&&f&&f.d,l=Ra&&L&&Tb(L);k=(b.clientX-ya.clientX+e.x)/(k||1)+(l?l[0]-Gb[0]:0)/(k||1);e=(b.clientY-ya.clientY+e.y)/(h||1)+(l?l[1]-Gb[1]:0)/(h||1);if(!t.active&&!Fa){if(c&&Math.max(Math.abs(b.clientX-this._lastX),Math.abs(b.clientY-this._lastY))<c)return;this._onDragStart(a,!0)}w&&(f?(f.e+=k-(Eb||0),f.f+=e-(Fb||0)):f={a:1,b:0,c:0,d:1,e:k,f:e},c="matrix(".concat(f.a,",").concat(f.b,",").concat(f.c,",").concat(f.d,",").concat(f.e,
",").concat(f.f,")"),m(w,"webkitTransform",c),m(w,"mozTransform",c),m(w,"msTransform",c),m(w,"transform",c),Eb=k,Fb=e,ea=b);a.cancelable&&a.preventDefault()}},_appendGhost:function(){if(!w){var a=this.options.fallbackOnBody?document.body:G,b=O(l,!0,Ra,!0,a),c=this.options;if(Ra){for(L=a;"static"===m(L,"position")&&"none"===m(L,"transform")&&L!==document;)L=L.parentNode;L!==document.body&&L!==document.documentElement?(L===document&&(L=la()),b.top+=L.scrollTop,b.left+=L.scrollLeft):L=la();Gb=Tb(L)}w=
l.cloneNode(!0);U(w,c.ghostClass,!1);U(w,c.fallbackClass,!0);U(w,c.dragClass,!0);m(w,"transition","");m(w,"transform","");m(w,"box-sizing","border-box");m(w,"margin",0);m(w,"top",b.top);m(w,"left",b.left);m(w,"width",b.width);m(w,"height",b.height);m(w,"opacity","0.8");m(w,"position",Ra?"absolute":"fixed");m(w,"zIndex","100000");m(w,"pointerEvents","none");t.ghost=w;a.appendChild(w);m(w,"transform-origin",ec/parseInt(w.style.width)*100+"% "+fc/parseInt(w.style.height)*100+"%")}},_onDragStart:function(a,
b){var d=this,c=a.dataTransfer,e=d.options;S("dragStart",this,{evt:a});t.eventCanceled?this._onDrop():(S("setupClone",this),t.eventCanceled||(E=Wb(l),E.draggable=!1,E.style["will-change"]="",this._hideClone(),U(E,this.options.chosenClass,!1),t.clone=E),d.cloneId=db(function(){S("clone",d);t.eventCanceled||(d.options.removeCloneOnHide||G.insertBefore(E,l),d._hideClone(),R({sortable:d,name:"clone"}))}),!b&&U(l,e.dragClass,!0),b?(jb=!0,d._loopId=setInterval(d._emulateDragOver,50)):(p(document,"mouseup",
d._onDrop),p(document,"touchend",d._onDrop),p(document,"touchcancel",d._onDrop),c&&(c.effectAllowed="move",e.setData&&e.setData.call(d,c,l)),u(document,"drop",d),m(l,"transform","translateZ(0)")),Fa=!0,d._dragStartId=db(d._dragStarted.bind(d,b,a)),u(document,"selectstart",d),Ta=!0,Cb&&m(document.body,"user-select","none"))},_onDragOver:function(a){function b(b,d){S(b,Q,N({evt:a,isOwner:C,axis:z?"vertical":"horizontal",revert:x,dragRect:D,targetRect:q,canSort:E,fromSortable:B,target:h,completed:e,
onMove:function(b,d){return wb(G,k,l,D,b,O(b),a,d)},changed:f},d))}function c(){b("dragOverAnimationCapture");Q.captureAnimationState();Q!==B&&B.captureAnimationState()}function e(d){b("dragOverCompleted",{insertion:d});d&&(C?y._hideClone():y._showClone(Q),Q!==B&&(U(l,P?P.options.ghostClass:y.options.ghostClass,!1),U(l,u.ghostClass,!0)),P!==Q&&Q!==t.active?P=Q:Q===t.active&&P&&(P=null),B===Q&&(Q._ignoreWhileAnimating=h),Q.animateAll(function(){b("dragOverAnimationComplete");Q._ignoreWhileAnimating=
null}),Q!==B&&(B.animateAll(),B._ignoreWhileAnimating=null));if(h===l&&!l.animated||h===k&&!h.animated)Ga=null;u.dragoverBubble||a.rootEl||h===document||(l.parentNode[W]._isOutsideThisEl(a.target),!d&&za(a));!u.dragoverBubble&&a.stopPropagation&&a.stopPropagation();return H=!0}function f(){V=Y(l);qa=Y(l,u.draggable);R({sortable:Q,name:"change",toEl:k,newIndex:V,newDraggableIndex:qa,originalEvent:a})}var k=this.el,h=a.target,q,x,u=this.options,p=u.group,y=t.active,C=ib===p,E=u.sort,B=P||y,Q=this,H=
!1;if(!yb){void 0!==a.preventDefault&&a.cancelable&&a.preventDefault();h=fa(h,u.draggable,k,!0);b("dragOver");if(t.eventCanceled)return H;if(l.contains(a.target)||h.animated&&h.animatingX&&h.animatingY||Q._ignoreWhileAnimating===h)return e(!1);jb=!1;if(y&&!u.disabled&&(C?E||(x=!G.contains(l)):P===this||(this.lastPutMode=ib.checkPull(this,y,l,a))&&p.checkPut(this,y,l,a))){var z="vertical"===this._getDirection(a,h);var D=O(l);b("dragOverValid");if(t.eventCanceled)return H;if(x)return J=G,c(),this._hideClone(),
b("revert"),t.eventCanceled||(xa?G.insertBefore(l,xa):G.appendChild(l)),e(!0);p=ub(k,u.draggable);if(!p||rc(a,z,this)&&!p.animated){if(p===l)return e(!1);p&&k===a.target&&(h=p);h&&(q=O(h));if(!1!==wb(G,k,l,D,h,q,a,!!h))return c(),k.appendChild(l),J=k,f(),e(!0)}else if(h.parentNode===k){q=O(h);var A=0;A=l.parentNode!==k;var da=!Fc(l.animated&&l.toRect||D,h.animated&&h.toRect||q,z);p=z?"top":"left";var F=Sb(h,"top","top")||Sb(l,"top","top"),M=F?F.scrollTop:void 0;if(Ga!==h){var L=q[p];Oa=!1;kb=!da&&
u.invertSwap||A}A=sc(a,h,q,z,da?1:u.swapThreshold,null==u.invertedSwapThreshold?u.swapThreshold:u.invertedSwapThreshold,kb,Ga===h);if(0!==A){da=Y(l);do{da-=A;var I=J.children[da]}while(I&&("none"===m(I,"display")||I===w))}if(0===A||I===h)return e(!1);Ga=h;Pa=A;I=h.nextElementSibling;da=!1;da=1===A;A=wb(G,k,l,D,h,q,a,da);if(!1!==A){if(1===A||-1===A)da=1===A;yb=!0;setTimeout(qc,30);c();da&&!I?k.appendChild(l):h.parentNode.insertBefore(l,da?I:h);F&&Vb(F,0,M-F.scrollTop);J=l.parentNode;void 0===L||kb||
(bb=Math.abs(L-O(h)[p]));f();return e(!0)}}if(k.contains(l))return e(!1)}return!1}},_ignoreWhileAnimating:null,_offMoveEvents:function(){p(document,"mousemove",this._onTouchMove);p(document,"touchmove",this._onTouchMove);p(document,"pointermove",this._onTouchMove);p(document,"dragover",za);p(document,"mousemove",za);p(document,"touchmove",za)},_offUpEvents:function(){var a=this.el.ownerDocument;p(a,"mouseup",this._onDrop);p(a,"touchend",this._onDrop);p(a,"pointerup",this._onDrop);p(a,"touchcancel",
this._onDrop);p(document,"selectstart",this)},_onDrop:function(a){var b=this.el,c=this.options;V=Y(l);qa=Y(l,c.draggable);S("drop",this,{evt:a});J=l&&l.parentNode;V=Y(l);qa=Y(l,c.draggable);if(!t.eventCanceled&&(Oa=kb=Fa=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),clearTimeout(this.cloneId),clearTimeout(this._dragStartId),this.nativeDraggable&&(p(document,"drop",this),p(b,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Cb&&m(document.body,"user-select",
""),m(l,"transform",""),a&&(Ta&&(a.cancelable&&a.preventDefault(),!c.dropBubble&&a.stopPropagation()),w&&w.parentNode&&w.parentNode.removeChild(w),(G===J||P&&"clone"!==P.lastPutMode)&&E&&E.parentNode&&E.parentNode.removeChild(E),l&&(this.nativeDraggable&&p(l,"dragend",this),xb(l),l.style["will-change"]="",Ta&&!Fa&&U(l,P?P.options.ghostClass:this.options.ghostClass,!1),U(l,this.options.chosenClass,!1),R({sortable:this,name:"unchoose",toEl:J,newIndex:null,newDraggableIndex:null,originalEvent:a}),G!==
J?(0<=V&&(R({rootEl:J,name:"add",toEl:J,fromEl:G,originalEvent:a}),R({sortable:this,name:"remove",toEl:J,originalEvent:a}),R({rootEl:J,name:"sort",toEl:J,fromEl:G,originalEvent:a}),R({sortable:this,name:"sort",toEl:J,originalEvent:a})),P&&P.save()):V!==Da&&0<=V&&(R({sortable:this,name:"update",toEl:J,originalEvent:a}),R({sortable:this,name:"sort",toEl:J,originalEvent:a})),t.active)))){if(null==V||-1===V)V=Da,qa=La;R({sortable:this,name:"end",toEl:J,originalEvent:a});this.save()}this._nulling()},_nulling:function(){S("nulling",
this);G=l=J=w=xa=E=hb=ra=ya=ea=Ta=V=qa=Da=La=Ga=Pa=P=ib=t.dragged=t.ghost=t.clone=t.active=null;cb.forEach(function(a){a.checked=!0});cb.length=Eb=Fb=0},handleEvent:function(a){switch(a.type){case "drop":case "dragend":this._onDrop(a);break;case "dragenter":case "dragover":l&&(this._onDragOver(a),a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.cancelable&&a.preventDefault());break;case "selectstart":a.preventDefault()}},toArray:function(){for(var a=[],b,c=this.el.children,e=0,f=c.length,h=this.options;e<
f;e++)b=c[e],fa(b,h.draggable,this.el,!1)&&a.push(b.getAttribute(h.dataIdAttr)||tc(b));return a},sort:function(a){var b={},c=this.el;this.toArray().forEach(function(a,d){d=c.children[d];fa(d,this.options.draggable,c,!1)&&(b[a]=d)},this);a.forEach(function(a){b[a]&&(c.removeChild(b[a]),c.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set&&a.set(this)},closest:function(a,b){return fa(a,b||this.options.draggable,this.el,!1)},option:function(a,b){var d=this.options;if(void 0===b)return d[a];
var c=Na.modifyOption(this,a,b);d[a]="undefined"!==typeof c?c:b;"group"===a&&Yb(d)},destroy:function(){S("destroy",this);var a=this.el;a[W]=null;p(a,"mousedown",this._onTapStart);p(a,"touchstart",this._onTapStart);p(a,"pointerdown",this._onTapStart);this.nativeDraggable&&(p(a,"dragover",this),p(a,"dragenter",this));Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")});this._onDrop();this._disableDelayedDragEvents();ab.splice(ab.indexOf(this.el),
1);this.el=a=null},_hideClone:function(){ra||(S("hideClone",this),t.eventCanceled||(m(E,"display","none"),this.options.removeCloneOnHide&&E.parentNode&&E.parentNode.removeChild(E),ra=!0))},_showClone:function(a){"clone"!==a.lastPutMode?this._hideClone():ra&&(S("showClone",this),t.eventCanceled||(G.contains(l)&&!this.options.group.revertClone?G.insertBefore(E,l):xa?G.insertBefore(E,xa):G.appendChild(E),this.options.group.revertClone&&this.animate(l,E),m(E,"display",""),ra=!1))}};lb&&u(document,"touchmove",
function(a){(t.active||Fa)&&a.cancelable&&a.preventDefault()});t.utils={on:u,off:p,css:m,find:Rb,is:function(a,b){return!!fa(a,b,a,!1)},extend:function(a,b){if(a&&b)for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a},throttle:Ub,closest:fa,toggleClass:U,clone:Wb,index:Y,nextTick:db,cancelNextTick:function(a){return clearTimeout(a)},detectDirection:Xb,getChild:$a};t.get=function(a){return a[W]};t.mount=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];b[0].constructor===
Array&&(b=b[0]);b.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(t.utils=N({},t.utils,a.utils));Na.mount(a)})};t.create=function(a,b){return new t(a,b)};t.version="1.10.2";var H=[],Ua,Hb,Ib=!1,Jb,Kb,mb,Ha,Lb=Ub(function(a,b,c,e){if(b.scroll){var d=(a.touches?a.touches[0]:a).clientX,g=(a.touches?a.touches[0]:a).clientY,f=b.scrollSensitivity,h=b.scrollSpeed,k=la(),n=!1;if(Hb!==c){Hb=
c;eb();Ua=b.scroll;var l=b.scrollFn;!0===Ua&&(Ua=pa(c,!0))}c=0;var u=Ua;do{var q=u,p=O(q),w=p.top,x=p.bottom,y=p.left,A=p.right,B=p.width;p=p.height;var C=void 0,z=void 0,D=q.scrollWidth,E=q.scrollHeight;z=m(q);var F=q.scrollLeft,G=q.scrollTop;q===k?(C=B<D&&("auto"===z.overflowX||"scroll"===z.overflowX||"visible"===z.overflowX),z=p<E&&("auto"===z.overflowY||"scroll"===z.overflowY||"visible"===z.overflowY)):(C=B<D&&("auto"===z.overflowX||"scroll"===z.overflowX),z=p<E&&("auto"===z.overflowY||"scroll"===
z.overflowY));y=C&&(Math.abs(A-d)<=f&&F+B<D)-(Math.abs(y-d)<=f&&!!F);w=z&&(Math.abs(x-g)<=f&&G+p<E)-(Math.abs(w-g)<=f&&!!G);if(!H[c])for(x=0;x<=c;x++)H[x]||(H[x]={});if(H[c].vx!=y||H[c].vy!=w||H[c].el!==q)if(H[c].el=q,H[c].vx=y,H[c].vy=w,clearInterval(H[c].pid),0!=y||0!=w)n=!0,H[c].pid=setInterval(function(){e&&0===this.layer&&t.active._onTouchMove(mb);var b=H[this.layer].vy?H[this.layer].vy*h:0,d=H[this.layer].vx?H[this.layer].vx*h:0;"function"===typeof l&&"continue"!==l.call(t.dragged.parentNode[W],
d,b,a,mb,H[this.layer].el)||Vb(H[this.layer].el,d,b)}.bind({layer:c}),24);c++}while(b.bubbleScroll&&u!==k&&(u=pa(u,!1)));Ib=n}},30),ic=function(a){var b=a.originalEvent,c=a.putSortable,e=a.dragEl,f=a.activeSortable,h=a.dispatchSortableEvent,k=a.hideGhostForTarget;a=a.unhideGhostForTarget;b&&(f=c||f,k(),b=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:b,b=document.elementFromPoint(b.clientX,b.clientY),a(),f&&!f.el.contains(b)&&(h("spill"),this.onSpill({dragEl:e,putSortable:c})))};zb.prototype=
{startIndex:null,dragStart:function(a){this.startIndex=a.oldDraggableIndex},onSpill:function(a){var b=a.dragEl;a=a.putSortable;this.sortable.captureAnimationState();a&&a.captureAnimationState();var c=$a(this.sortable.el,this.startIndex,this.options);c?this.sortable.el.insertBefore(b,c):this.sortable.el.appendChild(b);this.sortable.animateAll();a&&a.animateAll()},drop:ic};B(zb,{pluginName:"revertOnSpill"});Ab.prototype={onSpill:function(a){var b=a.dragEl;a=a.putSortable||this.sortable;a.captureAnimationState();
b.parentNode&&b.parentNode.removeChild(b);a.animateAll()},drop:ic};B(Ab,{pluginName:"removeOnSpill"});t.mount(new function(){function a(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var a in this)"_"===a.charAt(0)&&"function"===typeof this[a]&&(this[a]=this[a].bind(this))}a.prototype={dragStarted:function(a){a=a.originalEvent;this.sortable.nativeDraggable?u(document,"dragover",this._handleAutoScroll):this.options.supportPointer?u(document,"pointermove",this._handleFallbackAutoScroll):
a.touches?u(document,"touchmove",this._handleFallbackAutoScroll):u(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(a){a=a.originalEvent;this.options.dragOverBubble||a.rootEl||this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?p(document,"dragover",this._handleAutoScroll):(p(document,"pointermove",this._handleFallbackAutoScroll),p(document,"touchmove",this._handleFallbackAutoScroll),p(document,"mousemove",this._handleFallbackAutoScroll));clearInterval(Ha);
eb();clearTimeout(Ka);Ka=void 0},nulling:function(){mb=Hb=Ua=Ib=Ha=Jb=Kb=null;H.length=0},_handleFallbackAutoScroll:function(a){this._handleAutoScroll(a,!0)},_handleAutoScroll:function(a,b){var d=this,c=(a.touches?a.touches[0]:a).clientX,g=(a.touches?a.touches[0]:a).clientY,e=document.elementFromPoint(c,g);mb=a;if(b||Ma||ka||Cb){Lb(a,this.options,e,b);var f=pa(e,!0);!Ib||Ha&&c===Jb&&g===Kb||(Ha&&clearInterval(Ha),Ha=setInterval(function(){var e=pa(document.elementFromPoint(c,g),!0);e!==f&&(f=e,eb());
Lb(a,d.options,e,b)},10),Jb=c,Kb=g)}else this.options.bubbleScroll&&pa(e,!0)!==la()?Lb(a,this.options,pa(e,!1),!1):eb()}};return B(a,{pluginName:"scroll",initializeByDefault:!0})});t.mount(Ab,zb);var Ic=t,Ia=function(a){this.run=a;this.html=k.makeDiv(["production-screen"]);this.refresh()};Ia.prototype.refresh=function(){var a=this,b=this.run.inventory.clone(),c=this.run.getResourceConversions(),e=c.free,f=c.costly;b.applyConversions(e);e=e.map(function(b){return a.renderConversion(b,!0)});e=k.makeDivContaining(e);
c=[];f=$jscomp.makeIterator(f);for(var h=f.next();!h.done;h=f.next())h=h.value,b.canAfford(h.inputs)&&b.hasEnoughWorkers(h.requiredWorkers)?(c.push(this.renderConversion(h,!0)),b.applyConversions([h])):c.push(this.renderConversion(h,!1));c=k.makeDivContaining(c);Ic.create(c,{onEnd:function(b){var d=b.oldDraggableIndex;b=b.newDraggableIndex;void 0!==d&&void 0!==b&&a.shiftCostlyConversion(d,b)}});k.fillHTML(this.html,[k.makePara("Resource Production Report",["production-screen-label"]),k.makePara("Available workers at start of next production cycle: "+
this.run.inventory.getAvailableWorkers(),["production-screen-label"]),k.makePara("Resources available at start of next production cycle:",["production-screen-label"]),this.renderInventory(this.run.inventory),k.makePara("Resource generation in next production cycle:",["production-screen-label"]),e,k.makePara("Resource conversion in next production cycle:",["production-screen-label"]),c,k.makePara("Unused workers at end of next production cycle: "+b.getAvailableWorkers(),["production-screen-label"]),
k.makePara("Resources available at end of next production cycle:",["production-screen-label"]),this.renderInventory(b),k.makeButton("Back",function(){I.show(new wa(a.run))},["production-screen-back-button"])])};Ia.prototype.renderInventory=function(a){a=a.getInventoryStrings().map(function(a){return k.makePara(a)});0==a.length&&a.push(k.makePara("(none)"));return k.makeDivContaining(a,["production-screen-inventory"])};Ia.prototype.renderConversion=function(a,b){var d=this,c=k.makeDiv(["flex-horizontal"]),
e=a.toString(),f="conversion-description-normal";a.enabled?b||(e="(cannot afford) "+a.toString(),f="conversion-description-cannot-afford"):(e="(disabled) "+a.toString(),f="conversion-description-disabled");b=k.makePara(e,[f,"conversion-description"]);b=k.makeDivContaining([b],["conversion-description-box"]);c.appendChild(b);c.appendChild(k.makeButton("Toggle",function(){d.toggle(a)}));return c};Ia.prototype.shiftCostlyConversion=function(a,b){this.run.shiftCostlyConversionPriority(a,b);this.refresh()};
Ia.prototype.toggle=function(a){a.enabled=!a.enabled;this.refresh()};var Mb=function(a){this.run=a;this.html=k.makeDiv();this.refresh()};Mb.prototype.refresh=function(){var a=this,b=k.makeHeader("Available Research Projects"),c=this.run.getResearchOptions(),e=k.makeDivContaining(c.map(function(b){return a.renderTechOption(b)}));0==c.length&&(b=k.makeDiv());c=k.makeHeader("Previous Research Projects");var f=this.run.getUnlockedTechnologies().filter(function(a){return a.visible}).map(function(a){return k.makePara(a.name)});
0==f.length&&(c=k.makeDiv());var h=k.makeButton("Back",function(){I.show(new wa(a.run))},[]);k.fillHTML(this.html,[b,e,c].concat($jscomp.arrayFromIterable(f),[h]))};Mb.prototype.renderTechOption=function(a){for(var b=this,c=k.makeDivContaining([k.makePara(a.name),k.makePara(a.description),k.makePara("Development cost: "+a.researchCost)]),e=0,f=$jscomp.makeIterator(a.requiredTechs),h=f.next();!h.done;h=f.next())h=h.value,this.run.hasUnlockedTechnology(h)||(e++,c.appendChild(k.makePara("Requires "+
h.name+" research")));e=0==e&&this.run.inventory.canAfford([a.researchCost]);c.appendChild(k.makeButton("Conduct Research",function(){b.run.unlockTechnology(a);b.refresh()},[],e?"enabled":"disabled"));return c};var jc=function(a){this.html=k.makeDiv(["world-screen-header"]);this.run=a;this.refresh()};jc.prototype.refresh=function(){var a=this,b=k.makeButton("Quit Game",function(){I.show(new fb)}),c=k.makeButton("Next Turn",function(){var b=new gb(a.run);I.show(b);b.startLoading()}),e=k.makeButton("Manage Production",
function(){I.show(new Ia(a.run))}),f=k.makeButton("Research Projects",function(){I.show(new Mb(a.run))}),h=this.run.getCurrentQuestHint(),l=this.run.getCurrentQuestDescription();h=k.makePara("Objective: "+(h?l+"\n(hint: "+h+")":l),["world-screen-quest-description"]);l=this.run.getPreviousQuestDescription();this.run.questCompletionShown||(h=k.makePara("Completed: "+l,["world-screen-quest-description","quest-description-emphasis"]),setTimeout(function(){a.refresh()},1500));this.run.questCompletionShown=
!0;k.fillHTML(this.html,[b,e,f,c,h])};var wa=function(a){this.mapUI=new z(this,a.world);this.tileSidebar=new Ea(this,a);this.inventorySidebar=new ac(a);this.header=new jc(a);this.html=k.makeDivContaining([this.header.html,k.makeDivContaining([this.inventorySidebar.html,k.makeDivContaining([this.mapUI.html],["world-screen-map-box"]),this.tileSidebar.html],["world-screen-hbox"])],["flex-vertical"])};wa.prototype.refresh=function(){this.mapUI.refresh();this.tileSidebar.refresh();this.inventorySidebar.refresh();
this.header.refresh()};wa.prototype.handleKeyDown=function(a){this.mapUI.handleKeyDown(a)};wa.prototype.changeSidebarTile=function(a){this.tileSidebar.changeTile(a)};var Va;(function(a){a.generate=function(a,b){for(var d=Array(a),c=0;c<a;c++)d[c]=b();return d};a.flatten=function(a){return a.reduce(function(a,b){return a.concat(b)},[])};a.partition=function(a,b){var d=[],c=[];a=$jscomp.makeIterator(a);for(var g=a.next();!g.done;g=a.next())g=g.value,b(g)?d.push(g):c.push(g);return{yes:d,no:c}}})(Va||
(Va={}));var Z=function(a){this.position=a;this.possibleProjects=[];this.resourceConversions=[];this.populationCapacity=void 0},ma=function(a,b,c,e,f){this.title=a;this.action=b;this.costs=c;this.completionRequirements=e;this.visibilityRequirements=f};ma.prototype.canDo=function(a,b){return b.inventory.canAfford(this.costs)&&this.isVisible(a,b)&&this.completionRequirements.every(function(d){return d.evaluate(b,a)})};ma.prototype.isVisible=function(a,b){return this.visibilityRequirements.every(function(d){return d.evaluate(b,
a)})};ma.prototype.doAction=function(a,b){if(!this.canDo(a,b))throw"tried to do project "+this.title+" without meeting requirements";b.inventory.payCost(this.costs);this.action(a,b)};var Jc=function(a,b){this.species=a;this.capacity=b},X=function(a){a=Z.call(this,a)||this;a.texture=yc;a.populationCapacity=new Jc(ca.Human,200);return a};$jscomp.inherits(X,Z);X.prototype.getTileName=function(){return X.tileName};X.prototype.getTileDescription=function(){return X.tileDescription};X.tileName="Habitat Dome";
X.tileDescription="A human habitat where the human population can live when they're not pursuing mission goals.";var M=function(a,b){this.resource=a;this.quantity=b};M.prototype.toString=function(){return this.resource.name+" x"+this.quantity};var kc=function(){},Wa=function(a,b){this.radius=a;this.targetType=b;return this};$jscomp.inherits(Wa,kc);Wa.prototype.evaluate=function(a,b){var d=this;return 0<a.world.getTilesInCircle(b,this.radius).filter(function(a){return a instanceof d.targetType}).length};
Wa.prototype.toString=function(){return 1==this.radius?"adjacent to a "+this.targetType.tileName:"within "+this.radius+" units of a "+this.targetType.tileName};var nb=function(a){this.requiredCount=a;return this};$jscomp.inherits(nb,kc);nb.prototype.evaluate=function(a,b){return a.world.getTileAtCoordinates(b).resourceConversions.length===this.requiredCount};nb.prototype.toString=function(){return this.requiredCount+" resource conversions on this tile"};var sa=function(a,b,c){this.inputs=a;this.outputs=
b;this.enabled=!0;this.requiredWorkers=c||0;this.isFree()?this.priority=0:(this.priority=sa.nextNumber,sa.nextNumber++)};sa.prototype.toString=function(){var a=this.outputs.map(function(a){return a.toString()}).join(", "),b="Produce "+a;0<this.inputs.length&&(b="Convert "+this.inputs.map(function(a){return a.toString()}).join(", ")+" into "+a);0!=this.requiredWorkers&&(b+=" using "+this.requiredWorkers+" workers");return b};sa.prototype.isFree=function(){return 0==this.inputs.length&&!this.requiredWorkers};
sa.nextNumber=1;var ob=function(){},Xa=function(a,b){this.resource=a;this.minQuantity=b;return this};$jscomp.inherits(Xa,ob);Xa.prototype.evaluate=function(a){return a.inventory.getResourceQuantity(this.resource)>=this.minQuantity};Xa.prototype.toString=function(){return"have at least "+this.minQuantity+" units of "+this.resource.name+" in inventory"};var pb=function(a,b){this.tileType=a;this.minQuantity=b;return this};$jscomp.inherits(pb,ob);pb.prototype.evaluate=function(a){var b=this;return a.world.getTiles().filter(function(a){return a instanceof
b.tileType}).length>=this.minQuantity};pb.prototype.toString=function(){return"have at least "+this.minQuantity+"  "+this.tileType.tileName+" tile"+(1==this.minQuantity?"":"s")};var qb=function(a){this.minimumPopulation=a;return this};$jscomp.inherits(qb,ob);qb.prototype.evaluate=function(a){return a.inventory.getTotalPopulation()>=this.minimumPopulation};qb.prototype.toString=function(){return"have a total population of at least "+this.minimumPopulation};var Ya=function(a){this.tech=a;return this};
$jscomp.inherits(Ya,ob);Ya.prototype.evaluate=function(a){return a.hasUnlockedTechnology(this.tech)};Ya.prototype.toString=function(){return"have the "+this.tech.name+" technology"};var ta=function(a,b,c,e,f){this.name=a;this.description=b;this.requiredTechs=c;this.researchCost=e;this.visible=void 0===f?!0:f};ta.makeUnlockableTechnology=function(a,b,c,e){a=new ta(a,b,c,e,!0);lc.push(a);return a};ta.makeHiddenTechnology=function(a,b,c,e){return new ta(a,b,[],c,void 0===e?!1:e)};var lc=[],Kc=ta.makeUnlockableTechnology("Industrial Engineering",
"Approaches for optimizing production processes",[],new M(q.EngineeringKnowledge,25)),Lc=ta.makeUnlockableTechnology("Structural Engineering","Techniques for fabricating large structures on the planet's surface",[],new M(q.EngineeringKnowledge,10)),Mc=ta.makeUnlockableTechnology("Colonist Behavior Modeling","Simulations of human behavior in the isolated conditions of a deep space colony",[],new M(q.SocialKnowledge,30));ta.makeUnlockableTechnology("Habitation Pods","Compact and efficient residence units allow more humans to be packed into a small habitat",
[Mc],new M(q.EngineeringKnowledge,15));var ha=function(a){a=Z.call(this,a)||this;a.texture=Cc;a.resourceConversions=[new sa([new M(q.Metal,100)],[new M(q.BuildingMaterials,100)],60),new sa([new M(q.Metal,100)],[new M(q.Electronics,100)],30)];a.possibleProjects=[new ma("Double Production Lines",function(a,b){a=b.world.getTileAtCoordinates(a);b=$jscomp.makeIterator((new ha(new C(0,0))).resourceConversions);for(var d=b.next();!d.done;d=b.next())a.resourceConversions.push(d.value)},[new M(q.BuildingMaterials,
175),new M(q.Energy,300)],[],[new Ya(Kc),new nb(2)])];return a};$jscomp.inherits(ha,Z);ha.prototype.getTileName=function(){return ha.tileName};ha.prototype.getTileDescription=function(){return ha.tileDescription};ha.tileName="Ore Processing Center";ha.tileDescription="A facility used to process ore obtained from mining into useful materials.";var aa=function(a){a=Z.call(this,a)||this;a.texture=Bc;a.possibleProjects=[new ma("Strip Mining",function(a,b){b.inventory.addResource(q.Metal,150);b.world.placeTile(new A(a))},
[new M(q.Energy,25)],[],[])];return a};$jscomp.inherits(aa,Z);aa.prototype.getTileName=function(){return aa.tileName};aa.prototype.getTileDescription=function(){return aa.tileDescription};aa.tileName="Mountain";aa.tileDescription="A large geological formation containing useful mineral resources.";var ia=function(a){a=Z.call(this,a)||this;a.texture=Ac;a.resourceConversions=[new sa([],[new M(q.Energy,100)])];return a};$jscomp.inherits(ia,Z);ia.prototype.getTileName=function(){return ia.tileName};ia.prototype.getTileDescription=
function(){return ia.tileDescription};ia.tileName="Photovoltaic Array";ia.tileDescription="Converts light from this system's sun into electical energy. Useful for basic colony and research functions.";var A=function(a){a=Z.call(this,a)||this;a.texture=zc;a.possibleProjects=[new ma("Construct habitat dome",function(a,b){b.world.placeTile(new X(a))},[new M(q.BuildingMaterials,100)],[new Wa(1,X),new Ya(Lc)],[]),new ma("Construct ore processing center",function(a,b){b.world.placeTile(new ha(a))},[new M(q.Energy,
200),new M(q.Metal,300)],[new Wa(5,aa)],[]),new ma("Construct photovoltaic array",function(a,b){b.world.placeTile(new ia(a))},[new M(q.Electronics,200)],[],[])];return a};$jscomp.inherits(A,Z);A.prototype.getTileName=function(){return A.tileName};A.prototype.getTileDescription=function(){return A.tileDescription};A.tileName="Wasteland";A.tileDescription="Nothing of note here.";var Aa=function(a){this.width=a.worldWidth;this.height=a.worldHeight;this.grid=Array(this.height);for(var b=0;b<this.height;b++){this.grid[b]=
Array(this.width);for(var c=0;c<this.width;c++)this.grid[b][c]=new A(new C(c,b))}b=Qa.intBetween(a.minMountains,a.maxMountains);for(c=0;c<b;c++){var e=this.getTiles().filter(function(a){return a instanceof A});e=Qa.fromArray(e).position;this.placeTile(new aa(e))}a=$jscomp.makeIterator(a.nonrandomTiles);for(b=a.next();!b.done;b=a.next())this.placeTile(b.value)};Aa.prototype.placeTile=function(a){this.grid[a.position.y][a.position.x]=a};Aa.prototype.getTiles=function(){return Va.flatten(this.grid)};
Aa.prototype.getTilesInRectangle=function(a,b,c,e){0>b&&(b=0);0>a&&(a=0);var d=[];b=this.grid.slice(b,b+e);b=$jscomp.makeIterator(b);for(e=b.next();!e.done;e=b.next()){e=e.value.slice(a,a+c);e=$jscomp.makeIterator(e);for(var g=e.next();!g.done;g=e.next())d.push(g.value)}return d};Aa.prototype.getTileAtCoordinates=function(a){return this.grid[a.y][a.x]};Aa.prototype.getTilesInCircle=function(a,b){return this.getTiles().filter(function(c){return a.distanceFrom(c.position)<=b})};Aa.prototype.getPopulationCapacity=
function(a){for(var b=0,c=$jscomp.makeIterator(this.getTiles()),e=c.next();!e.done;e=c.next())e=e.value,e.populationCapacity&&e.populationCapacity.species==a&&(b+=e.populationCapacity.capacity);return b};var ja=function(){this.map=new Map([])};ja.prototype.add=function(a,b){this.set(a,this.get(a)+b)};ja.prototype.remove=function(a,b){this.add(a,-1*b)};ja.prototype.get=function(a){return this.map.get(a)||0};ja.prototype.set=function(a,b){if(0>b)throw"tried to set quantity to negative value";0==b?this.map.delete(a):
this.map.set(a,b)};ja.prototype.getSum=function(){return Array.from(this.map.values()).reduce(function(a,b){return a+b},0)};ja.prototype.positiveQuantityKeys=function(){return Array.from(this.map.keys())};ja.prototype.clone=function(){for(var a=new ja,b=$jscomp.makeIterator(this.positiveQuantityKeys()),c=b.next();!c.done;c=b.next())c=c.value,a.add(c,this.get(c));return a};var F=function(a){this.world=a;this.resourceQuantities=new ja;this.populationQuantities=new ja;this.availableWorkers=0};F.prototype.addResource=
function(a,b){this.resourceQuantities.add(a,b)};F.prototype.removeResource=function(a,b){this.resourceQuantities.remove(a,b)};F.prototype.getResourceQuantity=function(a){return this.resourceQuantities.get(a)||0};F.prototype.addWorkers=function(a,b){this.populationQuantities.add(a,b);this.populationQuantities.set(a,y(0,this.populationQuantities.get(a),this.world.getPopulationCapacity(a)))};F.prototype.releaseWorkers=function(){this.availableWorkers=this.populationQuantities.getSum()};F.prototype.occupyWorkers=
function(a){if(this.availableWorkers<a)throw"insufficient workers";if(0>a)throw"tried to occupy a negative number of workers";this.availableWorkers-=a};F.prototype.doPopulationGrowth=function(){for(var a=$jscomp.makeIterator(this.populationQuantities.positiveQuantityKeys()),b=a.next();!b.done;b=a.next()){b=b.value;var c=Math.floor(b.growthMultiplier*this.populationQuantities.get(b));this.addWorkers(b,c)}};F.prototype.getTotalPopulation=function(){return this.populationQuantities.getSum()};F.prototype.getAvailableWorkers=
function(){return this.availableWorkers};F.prototype.canAfford=function(a){var b=this,c=new Map;a=$jscomp.makeIterator(a);for(var e=a.next();!e.done;e=a.next())e=e.value,c.set(e.resource,e.quantity+(c.get(e.resource)||0));return Array.from(c.keys()).every(function(a){var d=c.get(a);a=b.getResourceQuantity(a);return d<=a})};F.prototype.hasEnoughWorkers=function(a){return this.availableWorkers>=a};F.prototype.payCost=function(a){if(this.canAfford(a)){a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=
a.next())b=b.value,this.removeResource(b.resource,b.quantity)}else throw"Cannot afford to pay cost";};F.prototype.getResourceList=function(){var a=this;return q.values().filter(function(b){return 0!=a.resourceQuantities.get(b)})};F.prototype.getInventoryStrings=function(){var a=this;return this.getResourceList().map(function(b){return b.name+": "+a.getResourceQuantity(b)})};F.prototype.getPopulationStrings=function(){var a=this;return this.populationQuantities.positiveQuantityKeys().map(function(b){return a.populationQuantities.get(b)+
" "+b.name})};F.prototype.applyConversions=function(a){a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())if(b=b.value,this.canAfford(b.inputs)&&this.hasEnoughWorkers(b.requiredWorkers)&&b.enabled){this.payCost(b.inputs);this.occupyWorkers(b.requiredWorkers);b=$jscomp.makeIterator(b.outputs);for(var c=b.next();!c.done;c=b.next())c=c.value,this.addResource(c.resource,c.quantity)}};F.prototype.clone=function(){var a=new F(this.world);a.resourceQuantities=this.resourceQuantities.clone();
a.populationQuantities=this.populationQuantities.clone();a.availableWorkers=this.availableWorkers;return a};var na=function(a){a=Z.call(this,a)||this;a.texture=Dc;a.possibleProjects=[new ma("Unpack Lander",function(a,b){var c=b.world;c.placeTile(new X(new C(a.x+1,a.y)));c.placeTile(new ha(new C(a.x,a.y-1)));c.placeTile(new ia(new C(a.x+1,a.y-1)));c.placeTile(new A(a));b.inventory.addWorkers(ca.Human,100)},[],[],[])];return a};$jscomp.inherits(na,Z);na.prototype.getTileName=function(){return na.tileName};
na.prototype.getTileDescription=function(){return na.tileDescription};na.tileName="Landing Pod";na.tileDescription="A landing spacecraft designed to deliver a set of human colonists. Opening it will aid in fulfilling mission parameters.";var Nb=function(a,b,c,e,f){this.nonrandomTiles=a;this.worldWidth=b;this.worldHeight=c;this.minMountains=e;this.maxMountains=f};Nb.standardWorldParameters=function(){var a=[new aa(new C(0,0)),new aa(new C(1,0)),new aa(new C(2,0)),new A(new C(0,1)),new A(new C(1,1)),
new A(new C(2,1)),new A(new C(0,2)),new na(new C(1,2)),new A(new C(2,2)),new A(new C(0,3)),new A(new C(1,3)),new A(new C(2,4))];return new Nb(a,20,20,20,25)};var rb=function(a,b){this.requirement=a;this.nextStage=b},Ja=function(a,b,c,e){this.description=a;this.hint=b;this.paths=c;this.isWinState=void 0===e?!1:e};Ja.prototype.updatedStage=function(a){for(var b=$jscomp.makeIterator(this.paths),c=b.next();!c.done;c=b.next())if(c=c.value,c.requirement.evaluate(a))return c.nextStage().updatedStage(a);
return this};var Oc=new Ja("Deploy shelter for the colonists","select the "+na.tileName,[new rb(new pb(X,1),function(){return Nc})]),Nc=new Ja("Build up at least 100 units of "+q.Energy.name,"the "+ia.tileName+" produces "+q.Energy.name+" each turn",[new rb(new Xa(q.Energy,100),function(){return Pc})]),Pc=new Ja("Acquire "+q.Metal.name,void 0,[new rb(new Xa(q.Metal,1),function(){return Qc})]),Qc=new Ja("Grow total worker population to 250","A "+X.tileName+" has capacity for "+(new X(new C(0,0))).populationCapacity.capacity+
" colonists",[new rb(new qb(250),function(){return Rc})]),Rc=new Ja("[no current objective]",void 0,[]),T=function(){this.turnNumber=1;this.prevQuestDescription="";this.questCompletionShown=!0;this.completedTechs=[];this.world=new Aa(Nb.standardWorldParameters());this.inventory=new F(this.world);this.questStage=Oc};T.prototype.getCurrentQuestDescription=function(){return this.questStage.description};T.prototype.getCurrentQuestHint=function(){return this.questStage.hint};T.prototype.getPreviousQuestDescription=
function(){return this.prevQuestDescription};T.prototype.getUnorderedConversions=function(){return Va.flatten(this.world.getTiles().map(function(a){return a.resourceConversions}))};T.prototype.getResourceConversions=function(){var a=this.getUnorderedConversions(),b=Va.partition(a,function(a){return a.isFree()});a=b.yes;b=b.no;a.sort(function(a,b){return a.priority-b.priority});b.sort(function(a,b){return a.priority-b.priority});return{free:a,costly:b}};T.prototype.getAllResourceConversions=function(){var a=
this.getUnorderedConversions();a.sort(function(a,b){return a.priority-b.priority});return a};T.prototype.updateQuestState=function(){var a=this.questStage.updatedStage(this);a!=this.questStage&&(this.prevQuestDescription=this.questStage.description,this.questCompletionShown=!1,this.questStage=a)};T.prototype.hasUnlockedTechnology=function(a){return this.completedTechs.includes(a)};T.prototype.unlockTechnology=function(a){this.hasUnlockedTechnology(a)||this.completedTechs.push(a)};T.prototype.getUnlockedTechnologies=
function(){return this.completedTechs};T.prototype.getResearchOptions=function(){var a=this;return lc.filter(function(a){return a.visible}).filter(function(b){return b.requiredTechs.every(function(b){return a.completedTechs.includes(b)})}).filter(function(b){return!a.hasUnlockedTechnology(b)})};T.prototype.completeTurn=function(){this.inventory.applyConversions(this.getAllResourceConversions());this.inventory.releaseWorkers();this.inventory.doPopulationGrowth();this.turnNumber++;this.updateQuestState()};
T.prototype.shiftCostlyConversionPriority=function(a,b){if(!(a===b||0>a)){var c=this.getResourceConversions().costly;if(!(b>=c.length)){var d=c[b].priority;if(a<b)for(;b>a;b--)c[b].priority=c[b-1].priority;else for(;b<a;b++)c[b].priority=c[b+1].priority;c[a].priority=d}}};var fb=function(){this.html=k.makeDiv(["main-menu"]);this.refresh()};fb.prototype.refresh=function(){k.fillHTML(this.html,[k.makeHeader("Aurora",1),k.makeDivContaining([k.makeButton("start_game",function(){var a=new T;x(a);I.show(new wa(a))}),
k.makeButton("display_credits",function(){return I.show(new $b)})],["main-menu-options"])])};window.onload=function(){console.log("Script Loaded");h().then(function(){I.show(new fb)},function(){})}}]);}).call(this || window)
</script><script type="text/javascript">(function(){'use strict';}).call(this || window)
</script></body> </html> 