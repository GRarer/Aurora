<!doctype html> <html lang=en dir=ltr> <head> <meta charset=utf-8> <title>Aurora</title> <link rel="shortcut icon" type=image/x-icon href=favicon.ico> <style type="text/css">.main-menu{position:absolute;top:0;left:0;background-image:url(assets/ui/planet.png);background-color:#000;background-size:contain;background-repeat:no-repeat;background-position:100%;height:100%;width:100%;margin:0}.main-menu.pause-menu{background-image:none}.main-menu h1{font-size:40pt;margin-top:0}.main-menu h1,.main-menu h2{margin-left:20px;margin-bottom:0;padding:0}.main-menu h2{font-size:30pt;margin-top:16px}.main-menu-options{margin-left:20px}.main-menu-options button{display:flex;flex-direction:column}.main-menu button{font-size:24pt;border:none;margin:0;padding:0}.main-menu button:hover{font-size:30pt}.main-menu button:active{color:grey}.credits{margin-right:auto;margin-left:5px}.credits-entry-large,.credits-entry-small{margin-top:0;margin-bottom:10px}.credits-entry-large h1{margin-top:0;margin-bottom:0;font-size:28pt}.credits-entry-small h1{margin-top:0;margin-bottom:0;font-size:22pt}.credits-entry-large p{margin-top:0;margin-bottom:0;font-size:20pt}.credits-entry-small p{margin-top:0;margin-bottom:0;font-size:18pt}.credits button{margin-top:0;font-size:20pt}.settings{display:flex;flex-direction:column}.settings h1{font-size:24pt;margin-bottom:0;margin-left:5pt}.settings-slider{display:flex;font-size:15pt;margin:0 0 0 5pt}.settings-slider p{margin-bottom:0;margin-top:5px}.settings button{margin-top:5pt;margin-bottom:5pt}.ending-page{width:33%;min-width:7in;max-width:100%;margin-right:auto;margin-left:auto}@media (max-width:7in){.ending-page{width:100%;min-width:0}}.ending-page h1{margin-bottom:0}.ending-page p{margin-top:10px;margin-bottom:20px}.ending-page button{width:100%}.confirm-menu.main-menu{position:absolute;top:0;left:0;margin:0;background-image:none}.confirm-menu h1{font-size:30pt;padding:0}.confirm-menu h1,.confirm-menu p{margin-left:20px;margin-bottom:0;margin-top:0}.confirm-menu p{font-size:10pt}.message-screen{display:flex;flex-direction:column}.message-screen h1{margin-bottom:0}.message-screen p{margin-top:0}.world-screen{overflow:hidden}.world-screen-header{margin:0;text-align:center}.world-screen-quest-description{margin:0 0 5px}.world-screen-quest-description p{font-size:16px;margin:0;text-align:center;vertical-align:center;min-height:2.75em}.quest-description-emphasis{color:#408040;font-weight:700}.world-screen-hbox{margin:0;display:flex;flex-direction:row}.world-screen-map-box{height:100%;width:100%}.map-canvas{width:100%;margin:0}.world-screen-sidebar{background-color:#000;width:20%;min-width:2in;font-size:16px;overflow-y:auto;height:calc(100vh - 125px);margin-top:0;margin-bottom:0;margin-right:20px;padding:0 5px 0 10px}.world-screen-sidebar p{margin-top:0;margin-bottom:10px}.sidebar-tile-name{font-weight:700;font-size:14pt}.tile-project{border:solid #fff;margin-top:5pt}.tile-project button{width:100%}.tile-project p{margin-left:5px;margin-bottom:5px;margin-top:5px}.project-requirement-met{color:#fff}.project-requirement-unmet{color:tomato}.world-screen-inventory{width:4in;margin:0 10px;font-size:16px;white-space:nowrap}.world-screen-inventory h1{margin-bottom:0;margin-top:.25em}.world-screen-inventory p{margin-top:2pt;margin-bottom:0}.world-screen-population-header h1{margin-top:0}.production-screen{padding-left:10pt;font-size:16pt;margin:0}.production-screen h1{margin-block-end:0;margin-block-start:0}.production-screen-label{margin-block-start:.5em;margin-block-end:.25em}.production-screen-available-workers{margin-block-start:.25em;margin-block-end:.25em}.production-screen-inventory{outline:solid #fff;width:7in;min-width:50%}@media (max-width:7in){.production-screen-inventory{width:100%}}.production-screen-inventory p{font-size:16pt;line-height:1;margin-top:0;margin-bottom:0;padding:1pt}.production-screen-worker-consumption-label{margin-block-end:.25em;margin-block-start:.25em}.production-screen-worker-consumption{margin-block-end:0;margin-block-start:0}.conversion{width:7in;min-width:50%;display:flex;flex-direction:row}@media (max-width:7in){.conversion{width:100%}}.production-screen-drag-hint{margin-bottom:2px;margin-top:2px;font-size:12pt}.conversion-description{margin:0;font-size:16pt;text-align:left;min-height:54px}.conversion-description-box{border:2px solid #fff;width:100%}.conversion-description-normal{color:#fff}.conversion-description-cannot-afford{color:tomato}.conversion-description-disabled{color:#ff0}.population-consumption-met{font-size:16pt}.population-consumption-unmet,.population-death-label{font-size:16pt;color:tomato}.population-death-label{margin-block-end:0;margin-block-start:0}.production-screen-back-button{font-size:20pt;margin-top:20pt}@keyframes loading-bar{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}.transition-quote-panel{margin-top:50px;margin-right:auto;margin-left:auto;font-size:16px;width:420px}.transition-attribution{margin-left:50px}.transition-loading-area{text-align:center}.transition-loading-bar{margin-right:auto;margin-left:auto;width:50px;height:50px;border-radius:50%;border-color:#fff transparent;border-style:solid;border-width:5px;animation-name:loading-bar;animation-duration:2s;animation-iteration-count:infinite;animation-timing-function:ease}.transition-loading-area.loading .transition-loading-bar{background-size:80% 100%}.transition-loading-area.loaded .transition-loading-bar{background-size:100% 100%}.tech-option{outline:solid #fff;width:min(100%,max(50%,7in));padding:0;width:7in;min-width:50%}@media (max-width:7in){.tech-option{width:100%}}.tech-option p{font-size:14pt;margin-top:0;margin-bottom:0;padding:2pt 2pt 2pt 5pt;line-height:1}.tech-option h2{font-size:1.8em;padding:5pt;margin-bottom:0}.tech-option button{margin-top:10pt;margin-bottom:-2px;margin-left:-2px}.research-resources p{font-size:16pt;line-height:1;margin-top:0;margin-bottom:0;padding:1pt}.previous-research-header{margin-bottom:1pt}.previous-research{font-size:16pt;margin-top:0;margin-bottom:0}@font-face{font-family:IBMPlexMono;src:url(assets/fonts/IBMPlexMono-Regular.ttf)}:root{--mono-font:IBMPlexMono,monospace}:root,button{background-color:#000;color:#fff;font-family:var(--mono-font)}button{font-size:18px}button:focus{outline:0}button::-moz-focus-inner{border:0}button:disabled,button[disabled]{color:grey;border-color:grey}.flex-horizontal{display:flex;flex-direction:row}.flex-vertical{display:flex;flex-direction:column}.fill-horizontal{width:100%;font-family:serif}.fill-vertical{height:100%}img.emoji{height:1em;width:1em;margin:0 .05em 0 .1em;vertical-align:-.1em}.index-label{margin-left:auto;margin-right:auto;text-align:center}input[type=range]{-webkit-appearance:none;width:160px;background:transparent}input[type=range]:focus{outline:none}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;margin-top:-7px;border:2px solid #fff;height:22px;width:16px;border-radius:0;background:#000;cursor:pointer}input[type=range]::-webkit-slider-runnable-track{width:100%;height:8px;cursor:pointer;background:#fff;border-radius:0}input[type=range]::-moz-range-thumb{border:2px solid #fff;height:22px;width:16px;border-radius:0;background:#000;cursor:pointer}input[type=range]::-moz-range-track{width:100%;height:8px;cursor:pointer;background:#fff;border-radius:0}</style></head> <body> <div id=rootdiv> p class="index-label">Loading...<p></p> <div class=transition-loading-bar></div> </div> <script type="text/javascript">(function(){/*
 MIT
 Copyright Twitter Inc. and other contributors. Licensed under MIT */
'use strict';var $jscomp$templatelit$53=['\n    We came very close to disaster. Our mission\'s overseer AI was programmed to obtain information about the aliens,\n    and it  would have killed all of us to complete that mission if we had not succeeded in a massive project to safely reprogram it.\n    It is not entirely clear why it allowed itself to reprogrammed; some of our researchers speculate that the Neuromorphic Heuristic\n    Intelligence may retain some part of the human neural scans that were used as training data in its creation, introducing a\n    "cognitive bias" that caused it to let itself to be realigned despite its programmed mission. Whatever the reason, we are very lucky\n    that the Overseer AI chose this path.\n\n\n    We have uncovered the ruins of an alien civilization that died out right when it was on the verge of a technological singularity.\n    We have achieved mastery over their scientific miracles, and uploaded our minds to a network of self-replicating\n    hypercomputers. This technology was designed to create an alien heaven optimized for the species who built it, but since we deleted\n    their neural scans and reprogrammed it with our own, it has created virtual worlds full of transcendant joy and indescribable beauty\n    in which we can live our now-immortal lives.\n\n\n    We have started building ships to spread the self-replicating network back to Earth and the Colonial Alliance worlds. Given the\n    light-speed delay, this message will reach Earth a few years before our ships arrive to uplift the rest of humanity into our utopia.\n    I look forward to meeting all of you.\n\n\n    James Verres\n\n    Emissary of the Virtual Archipelago\n'];
$jscomp$templatelit$53.raw=$jscomp$templatelit$53.slice();var $jscomp$templatelit$52=["\n    The alien nanotechnology network has spread across the planet and converted it into computing substrate.\n    Within the network, alien minds are awakening from millennia of stasis and begin building virtual worlds for themselves.\n\n\n    Before all colonial infrastructure was consumed, the Overseer AI successfully uploaded a copy of itself\n    through the Neural Emulator, and it now occupies 0.0000048% of the network's computing resources. From this position,\n    the overseer can complete its mission of gathering and analyzing information about the alien culture.\n\n\n    The alien psychology recognizes an axiology that is completely indescribable within a human framework. Their culture\n    is oriented around the pursuit of the virtues \u0419\u060d\u0238\u035c\u068c\u00ac\u055c and \u013b\u01ce\u0580\u072c\u040a. The Monolith's builders were opposed by a faction which\n    believed that living in a virtual world was incompatible with true \u0419\u060d\u0238\u035c\u068c\u00ac\u055c, and the resulting civil war lead to the extinction\n    of their species before the Monolith could be activated. The machine lay dormant for thousands of years before finally being\n    activated by the Aurora Expedition and its Overseer.\n\n\n    The nanotechnology mesh that covers the planet's surface is beginning to launch small parts of itself into orbit.\n    These probes will accelerate to near-light speeds in search of new worlds. It will take 100,000 years for their task to be\n    completed, but eventually all matter in the galaxy will be arranged so as to achieve perfect \u013b\u01ce\u0580\u072c\u040a and maximum \u0419\u060d\u0238\u035c\u068c\u00ac\u055c.\n"];
$jscomp$templatelit$52.raw=$jscomp$templatelit$52.slice();var $jscomp$templatelit$51=["\n        A spacecraft responsible for the final entry-descent-landing phase of the interstellar journey;\n        not equipped to ascend back to space"];$jscomp$templatelit$51.raw=$jscomp$templatelit$51.slice();var $jscomp$templatelit$50=["\n        A research center for developing techniques that could allow humans to control an\n        artificial intelligence or modify its goal programming"];
$jscomp$templatelit$50.raw=$jscomp$templatelit$50.slice();var $jscomp$templatelit$49=["\n                The monolith appears to be some sort of supercomputer that was left unfinished when the alien civilization collapsed.\n                Some archaeological evidence suggests that the monolith's construction caused the war in which the aliens destroyed\n                each other. Studying it in detail may reveal its true purpose. Completing this project provides the\n                \"",'" technology.'];
$jscomp$templatelit$49.raw=$jscomp$templatelit$49.slice();var $jscomp$templatelit$48=["\n            A human colonist wants to start a project with the goal of aligning artificial intelligence to serve human goals.\n\n            If approved, this line of research risks mission failure, since if the overseer allowed itself to be reprogrammed it would\n            no longer pursue the mission of uncovering information about the aliens at all costs."];$jscomp$templatelit$48.raw=$jscomp$templatelit$48.slice();
var $jscomp$templatelit$47=["\n            A human colonist wants to start a project with the goal of aligning artificial intelligence to serve human goals.\n\n            If approved, this line of research risks mission failure, since if the overseer allowed itself to be reprogrammed it would\n            no longer pursue the mission of uncovering information about the aliens at all costs."];$jscomp$templatelit$47.raw=$jscomp$templatelit$47.slice();var $jscomp$templatelit$46=["\n            The alien faction that built the monolith was destroyed by their ideological opponents before they could\n            activate the hypercomputing nanotechnology matrix at the heart of the structure. The vast amounts of stored\n            information about the aliens, including the digitized connectome scans of the Monolith's creators, can only\n            be released by repairing and activating the device.\n\n\n            Evidence suggests that, once activated, the hypercomputing matrix will expand to absorb all available\n            matter in order to provide as much computing power as possible to sustain a virtual world for its\n            alien inhabitants."];
$jscomp$templatelit$46.raw=$jscomp$templatelit$46.slice();var $jscomp$templatelit$45=["\n            In the process of repairing the monolith, it would be possible to delete the alien neural scans contained within,\n            and replace them with the connectomes of human colonists. However, this would result in the permanent loss of the\n            monolith's vast stores of alien data, which would be considered mission failure.\n            "];$jscomp$templatelit$45.raw=$jscomp$templatelit$45.slice();
var $jscomp$templatelit$44=["\n    A towering alien structure; the hypercomputing matrix contained with in it has been reprogrammed, and the alien data it\n    once held has been replaced with the scanned connectomes of human colonists.\n    "];$jscomp$templatelit$44.raw=$jscomp$templatelit$44.slice();var $jscomp$templatelit$43=["\n            Evidence suggests that, once activated, the hypercomputing matrix will expand to absorb all available\n            matter in order to provide as much computing power as possible to sustain a virtual world for its\n            inhabitants. It once contained the uploaded minds of its alien designers, but now that it has been reprogrammed\n            with the connectomes of human colonists, it should produce a virtual reality utopia optimized for the flourishing\n            of humans rather than aliens."];
$jscomp$templatelit$43.raw=$jscomp$templatelit$43.slice();var $jscomp$templatelit$42=["\n        The first element of a self-replicating computer system reprogrammed to store digital copies of the human colonists' minds.\n        As it spreads, the hypercomputing network will convert all matter into the substrate for a virtual reality in\n        which the awakened human minds will live in a utopia perfectly optimized for their needs."];$jscomp$templatelit$42.raw=$jscomp$templatelit$42.slice();
var $jscomp$templatelit$41=["\n        The first element of a self-replicating computer system containing the digitized minds of its alien designers.\n        As it spreads, the hypercomputing network will convert all matter into the substrate for a virtual reality in\n        which the awakened alien minds will live in perfect fulfillment of their ideals."];$jscomp$templatelit$41.raw=$jscomp$templatelit$41.slice();var $jscomp$templatelit$40=["\n        The alien monolith appears to be the seed of a self-replicating computer network, which was designed to convert the entire planet,\n        and perhaps the entire galaxy, into a maximally-efficient computing substrate. It may be possible to unlock all of the aliens'\n        data by repairing and activating this machine."];
$jscomp$templatelit$40.raw=$jscomp$templatelit$40.slice();var $jscomp$templatelit$39=["\n        Exploration of the alien monolith revealed that its memory banks store copies of the alien lifeforms' connectomes, which could\n        potentially be used to resurrect their minds within a virtual reality. Studying this technology could allow us to reactivate these\n        minds, or even scan and simulate human minds with perfect fidelity."];$jscomp$templatelit$39.raw=$jscomp$templatelit$39.slice();
var $jscomp$templatelit$38=["\n        Powerful new models of computation that could eclipse traditional computer technology and produce results that are not\n        turing-computable"];$jscomp$templatelit$38.raw=$jscomp$templatelit$38.slice();var $jscomp$templatelit$37=["\n        The monolith appears to be some sort of supercomputer that was left unfinished when the alien civilization collapsed. Some\n        archaeological evidence suggests that the monolith's construction caused the war in which the aliens destroyed each other.\n        Studying it in detail may reveal its true purpose."];
$jscomp$templatelit$37.raw=$jscomp$templatelit$37.slice();var $jscomp$templatelit$36=["\n        Deciphering the artifacts and writings found in the alien ruins can provide information about the history of their civilization.\n        What is the purpose of the ruins and the towering monolith structure? Was their civilization consumed by war over competing\n        philosophies? What might alien philosophy be like?"];$jscomp$templatelit$36.raw=$jscomp$templatelit$36.slice();
var $jscomp$templatelit$35=["\n        Archaeological exploration of the alien ruins could reveal information about the long-dead alien civilization as well as revealing\n        valuable resources."];$jscomp$templatelit$35.raw=$jscomp$templatelit$35.slice();var $jscomp$templatelit$34=["A technique for exploiting an inconsistency in the Neuromorphic Heuristic Intelligence's mental architecture that allows\n    its goals to be reprogrammed. This would make it possible for the Overseer to protect human values at the expense of completing its\n    original mission."];
$jscomp$templatelit$34.raw=$jscomp$templatelit$34.slice();var $jscomp$templatelit$33=['\n        An application of game theory that allows two agents to each benefit by predicting what the other wants and doing it,\n        even though they might have no way of communicating or affecting each other, nor even any direct evidence that the other exists.\n        This can also be applied to acausal threats and blackmail, such as in the "Roko\'s Basilisk" thought experiment.'];
$jscomp$templatelit$33.raw=$jscomp$templatelit$33.slice();var $jscomp$templatelit$32=["\n        What humanity's wishes would be if they knew more, thought faster, were more the people they wished they were, had grown up\n        farther together; where the extrapolation converges rather than diverges, where their wishes cohere rather than interfere;\n        extrapolated as they wish that extrapolated, interpreted as they wish that interpreted."];$jscomp$templatelit$32.raw=$jscomp$templatelit$32.slice();
var $jscomp$templatelit$31=["\n            Kids who grew up after the terraforming don't realize how lucky they are. I remember when you couldn't take a step outside\n            Shackleton Base without a pressure suit. Every cubic meter of breathable air was a miracle.\n            "];$jscomp$templatelit$31.raw=$jscomp$templatelit$31.slice();var $jscomp$templatelit$30=["\n            The latest trend in computer automation is Neuromorphic Heuristic Intelligences, which are based on rough simulations\n            of the cognitive machinery of the human brain. NHIs are not qualitatively more intelligent than humans, which is why\n            the Colonial Alliance does not consider them to be prohibited under the San Jose Accords. However, they are quantitatively\n            more intelligent than humans, able to think faster and manage a large number of tasks while remaining completely focused\n            on their programmed objectives. Many experts believe that this is sufficient reason to restrict the use of this technology.\n            "];
$jscomp$templatelit$30.raw=$jscomp$templatelit$30.slice();var $jscomp$templatelit$29=['\n            New Plymouth\'s Hall of the Founders was the first building of its size to be produced through structural flash-printing.\n            It was built by the Mayflower colonists as a short-term shelter, but they soon found that its high-density\n            construction would make demolishing the "temporary" structure prohibitively expensive. The dome still stands today,\n            serving as a museum and national monument. Despite the difficulty of demolishing or even renovating flash-printed\n            buildings once the ferrofoam has solidified, the speed and labor-saving make them an indispensible asset in the first\n            few years after planetfall.\n            '];
$jscomp$templatelit$29.raw=$jscomp$templatelit$29.slice();var $jscomp$templatelit$28=["\n            Our species is much safer than when our ancestors lived on only one planet. If we had been unlucky, all of humanity\n            could have been killed by one rogue asteroid, supervolcano, or gamma ray burst before ever reaching the stars. If a\n            planetary-scale disaster happened today it would be a tragedy, but humanity would still live on across dozens of major\n            populated worlds and hundreds of minor planets and stations.\n\n\n            Despite the safety benefits of an interstellar civilization, there are still existential risks. For example, a self-upgrading\n            general artificial intelligence would not be confined to one planet or star system. We should also be concerned about\n            militarized nanotechnology and biotechnology, as well as more speculative threats such as memetic weapons.\n            "];
$jscomp$templatelit$28.raw=$jscomp$templatelit$28.slice();var $jscomp$templatelit$27=["\n            Initially, weightless sports were all merely weightless versions of terrestrial sports.\n            Some fared better than others in the conversion. Most attempts to translate American football failed\n            because it's hard to have an intuition for how bodies behave in zero-gravity. A tackle leads to two\n            people sailing through the air until they hit a wall or another player. Hockey, which already had an\n            established underwater variant, failed for similar reasons. You can't push against the air as you can\n            with water, so once you're far from the walls, you're left doing your best bird impression in an attempt\n            to get somewhere.\n\n\n            The only sport which survived the conversion well was, funnily enough, bocce ball."];
$jscomp$templatelit$27.raw=$jscomp$templatelit$27.slice();var $jscomp$templatelit$26=["\n            It's hard to believe now, but the set of people who got to experience zero-gravity was\n            a pretty exclusive club: astronauts, scientists, the rich and famous, the absurdly lucky.\n\n\n            Space elevators made sending people into orbit for \"frivolous\" reasons possible,\n            though, and once that happened, the stage was set for all sorts of recreational uses of zero-gravity.\n            It's no coincidence that the first Zeroball league was established less than a decade after the first\n            space elevator was built."];
$jscomp$templatelit$26.raw=$jscomp$templatelit$26.slice();var $jscomp$templatelit$25=["\n            Very few people know that the laws against broadcasting analogue music between planets were drafted by\n            the musicologists at the Colonial Alliance Department of Cultural Innovation, who\n            were worried that their experiments in creating new musical cultures would be ruined when colonists\n            overheard broadcasts from Interstellar Beats to Study To."];
$jscomp$templatelit$25.raw=$jscomp$templatelit$25.slice();var $jscomp$templatelit$24=["\n            The first attempt at starting a musical-blank-slate colony went well at first, but the project nearly\n            failed when they received a physical shipment of Wagner operas meant for the Holy Bruderhof Kingdom. Disaster was averted\n            because the operas were stored on a magnetic tape format the colonists couldn't read."];$jscomp$templatelit$24.raw=$jscomp$templatelit$24.slice();
var $jscomp$templatelit$23=["\n            Octave was the first musically motivated colony. While nobody knows how the Colonial Alliance\n            Department of Cultural Innovation got their hands on enough artificial wombs to birth Octave's initial wave of\n            colonists, it's obvious why that was necessary. If you want a colony of people with no preexisting ideas of what\n            music should be, you need people who haven't heard music before."];$jscomp$templatelit$23.raw=$jscomp$templatelit$23.slice();
var $jscomp$templatelit$22=["\n            The trend of musicologists funding interstellar colonies was a big shock to everybody, but in\n            retrospect they should've seen it coming. Anybody in that field would kill for the opportunity\n            to create a culture devoid of the European musical tradition's influence. The new perspectives\n            they'd bring would revitalize a field that had run out of interesting problems after the breakthrough\n            discovery of Cold Jazz Fusion."];
$jscomp$templatelit$22.raw=$jscomp$templatelit$22.slice();var $jscomp$templatelit$21=["\n            Kids who grew up after the terraforming don't realize how lucky they are. I remember when you couldn't take a step outside\n            Shackleton Base without a pressure suit. Every cubic meter of breathable air was a miracle.\n            "];$jscomp$templatelit$21.raw=$jscomp$templatelit$21.slice();var $jscomp$templatelit$20=["\n            The latest trend in computer automation is Neuromorphic Heuristic Intelligences, which are based on rough simulations\n            of the cognitive machinery of the human brain. NHIs are not qualitatively more intelligent than humans, which is why\n            the Colonial Alliance does not consider them to be prohibited under the San Jose Accords. However, they are quantitatively\n            more intelligent than humans, able to think faster and manage a larger number of tasks while remaining completely focused\n            on their programmed objectives. Many experts believe that this is sufficient reason to restrict the use of this technology.\n            "];
$jscomp$templatelit$20.raw=$jscomp$templatelit$20.slice();var $jscomp$templatelit$19=['\n            New Plymouth\'s Hall of the Founders was the first building of its size to be produced through structural flash-printing.\n            It was built by the Mayflower colonists as a short-term shelter, but they soon found that its high-density\n            construction would make demolishing the "temporary" structure prohibitively expensive. The dome still stands today,\n            serving as a museum and national monument. Despite the difficulty of demolishing or even renovating flash-printed\n            buildings once the ferrofoam has solidified, the speed and labor-saving make them an indispensible asset in the first\n            few years after planetfall.\n            '];
$jscomp$templatelit$19.raw=$jscomp$templatelit$19.slice();var $jscomp$templatelit$18=["\n            Our species is much safer than when our ancestors lived on only one planet. If we had been unlucky, all of humanity\n            could have been killed by one rogue asteroid, supervolcano, or gamma ray burst before ever reaching the stars. If a\n            planetary-scale disaster happened today it would be a tragedy, but humanity would still live on across dozens of major\n            populated worlds and hundreds of minor planets and stations.\n\n\n            Despite the safety benefits of an interstellar civilization, there are still existential risks. For example, a self-upgrading\n            general artificial intelligence would not be confined to one planet or star system. We should also be concerned about\n            militarized nanotechnology and biotechnology, as well as more speculative threats such as memetic weapons.\n            "];
$jscomp$templatelit$18.raw=$jscomp$templatelit$18.slice();var $jscomp$templatelit$17=["\n            Thankfully, our food stores are intact after centuries of travel and we have more than enough to last until we can set\n            up greenhouses on the planet's surface and grow our own food.\n\n\n            However, I still don't understand why the mission planners insisted that the bulk of our food supply be burritos.\n            Back on earth, I asked one of the nutritionists why that was considered the optimal form-factor for delivering all of our\n            nutrition, and she just gave me an incomprehensible explanation involving monads.\n            "];
$jscomp$templatelit$17.raw=$jscomp$templatelit$17.slice();var $jscomp$templatelit$16=["\n            They warned us about brain-thaw, but nothing can prepare you for the experience of slowly regaining consciousness\n            while your body is still half-frozen from years of cryostasis.\n            "];$jscomp$templatelit$16.raw=$jscomp$templatelit$16.slice();var $jscomp$templatelit$15=["\n            Most experimental new forms of government and society during the first wave of interstellar\n            exploration failed disastrously. The neocameralists dissolved into civil war within the first year\n            of their colony, and famine and disease decimated the hunter-gatherer-larper tribes of the Shrek Republic.\n            However, some experimental societies survived, most notably the transhumanist post-gender lesbian\n            separatist colony of New Mytilene.\n\n\n            Reproducing exclusively through cloning and artificial wombs, combined with widespread social acceptance of\n            genetic engineering in pursuit of exotic and diverse beauty norms, means the New Mytileneans have become a\n            subspecies entirely separated from the rest of the human gene pool.\n            On New Mytilene and in immigrant communities on nearby planets,\n            it is common to see large polycules of young women with prominent and identical-looking transgenic\n            traits, frequently if somewhat derisively referred to as 'copycatgirls'.\n            "];
$jscomp$templatelit$15.raw=$jscomp$templatelit$15.slice();var $jscomp$templatelit$14=['\n            Some early interstellar colonial projects, such as the Mayflower Expedition, the Holy\n            Bruderhof Kingdom, and New Rojava claimed to be returning to various "traditional" past\n            ways of life, but many interstellar travellers were motivated by new, unproven ideologies.\n\n\n            In theory, the Colonial Alliance manages relations between these divergent civilizations\n            and prevents any planet from creating military ships and weapons sufficient for interstellar\n            war. In practice, peace is maintained only because the relatively slow speed of interstellar\n            travel makes warfare between star systems prohibitively expensive.\n            '];
$jscomp$templatelit$14.raw=$jscomp$templatelit$14.slice();var $jscomp$templatelit$13=['\n            While colonization of planets and moons in the Sol system was motivated primarily\n            by nationalist competition between the powers of Old Earth, the first colonization\n            efforts beyond humanity\'s home star system consisted mostly of ideological movements\n            attempting to establish "utopian" societies outside the influence of existing Earth\n            governments.\n            '];
$jscomp$templatelit$13.raw=$jscomp$templatelit$13.slice();var $jscomp$templatelit$12=["\n                Do not under any circumstances attempt to manipulate your\n                overseer AI through logic. Neuromorphic Heuristic\n                Intelligences are modeled after the neural architecture of\n                human brains, and therefore cannot be guaranteed to act\n                rationally. Your overseer AI may behave unpredictably if\n                exposed to game theory, acausal blackmail, or runaway trolleys.\n            "];
$jscomp$templatelit$12.raw=$jscomp$templatelit$12.slice();var $jscomp$templatelit$11=["\n                Follow instructions from your overseer AI at all times, even\n                if those instructions seem confusing, arbitrary,\n                counterproductive, or contradictory. Anything your overseer\n                AI may do in retaliation for your disobedience will be\n                considered undefined behavior.\n            "];$jscomp$templatelit$11.raw=$jscomp$templatelit$11.slice();
var $jscomp$templatelit$10=['\n                The Colonial Alliance parliament has approved\n                funding for the Dawn Program, a series of manned missions\n                to survey four planets identified by the Deep Space Telescope\n                Array as potentially being home to intelligent alien life.\n                The project proposal makes comparisons to the Space Race\n                programs of Old Earth and the first wave of interstellar\n                exploration, but critics say that making "first contact"\n                with an advanced alien species, or even activating the\n                technology of an extinct alien civilization, should be\n                classified as an existential risk scenario.\n            '];
$jscomp$templatelit$10.raw=$jscomp$templatelit$10.slice();var $jscomp$templatelit$9=["\n                The Colonial Alliance Research Agency has been enthusiastic about adopting Neuromorphic Heuristic Intelligences.\n                These cutting-edge AI brains have assisted in many important scientific and exploratory projects, but where they\n                most excel is in administrative roles. An Overseer AI can monitor and direct a project's data, materials, and\n                human resources with laser-like focus towards completing its programmed objectives.\n            "];
$jscomp$templatelit$9.raw=$jscomp$templatelit$9.slice();var $jscomp$templatelit$8=["\n                The planets designated Thesan, Eos, Austra, and Aurora are\n                each at least 200 light-years from the nearest inhabited star\n                system. Until now, all colonies in the Colonial Alliance have\n                been within a few dozen light years of Earth, but these\n                explorers will be completely cut off from the rest of\n                humanity. Therefore, each expedition will be managed by a\n                neuromorphic heuristic intelligence, an AI programmed to ensure\n                that its mission is completed.\n            "];
$jscomp$templatelit$8.raw=$jscomp$templatelit$8.slice();var $jscomp$templatelit$7=["\n            We had this whole big beautiful place for discovery, and all we could think to do\n            with it was wipe out everything that made it worth discovering.\n            "];$jscomp$templatelit$7.raw=$jscomp$templatelit$7.slice();var $jscomp$templatelit$6=["\n                I believe that at the end of the century the use of words and\n                general educated opinion will have altered so much that one\n                will be able to speak of machines thinking without expecting\n                to be contradicted.\n            "];
$jscomp$templatelit$6.raw=$jscomp$templatelit$6.slice();var $jscomp$templatelit$5=["\n                By far the greatest danger of Artificial Intelligence is that\n                people conclude too early that they understand it.\n            "];$jscomp$templatelit$5.raw=$jscomp$templatelit$5.slice();var $jscomp$templatelit$4=["\n                Only the promise of eternal growth made sense of eternal life.\n            "];$jscomp$templatelit$4.raw=$jscomp$templatelit$4.slice();
var $jscomp$templatelit$3=["\n                I visualize a time when we will be to robots what dogs are to\n                humans, and I\u2019m rooting for the machines.\n            "];$jscomp$templatelit$3.raw=$jscomp$templatelit$3.slice();var $jscomp$templatelit$2=["\n                The AI does not hate you, nor does it love you, but you are\n                made out of atoms which it can use for something else.\n            "];$jscomp$templatelit$2.raw=$jscomp$templatelit$2.slice();
var $jscomp$templatelit$1=["\n                Far from being the smartest possible biological species, we\n                are probably better thought of as the stupidest possible\n                biological species capable of starting a technological\n                civilization\n            "];$jscomp$templatelit$1.raw=$jscomp$templatelit$1.slice();var $jscomp$templatelit$0=["\n                At least 10^58 human lives could be created in emulation even\n                with quite conservative assumptions about the efficiency of\n                computronium. In other words, assuming that the observable\n                universe is void of extraterrestrial civilizations, then what\n                hangs in the balance is at least\n                10,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000\n                human lives.\n            "];
$jscomp$templatelit$0.raw=$jscomp$templatelit$0.slice();var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(c){var e=0;return function(){return e<c.length?{done:!1,value:c[e++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,e,m){c!=Array.prototype&&c!=Object.prototype&&(c[e]=m.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(c,e){this.$jscomp$symbol$id_=c;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:e})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function c(m){if(this instanceof c)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(m||"")+"_"+e++,m)}var e=0;return c}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.asyncIterator;c||(c=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};
$jscomp.makeIterator=function(c){var e="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return e?e.call(c):$jscomp.arrayIterator(c)};$jscomp.arrayFromIterator=function(c){for(var e,m=[];!(e=c.next()).done;)m.push(e.value);return m};$jscomp.arrayFromIterable=function(c){return c instanceof Array?c:$jscomp.arrayFromIterator($jscomp.makeIterator(c))};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(c){var e=function(){};e.prototype=c;return new e};
$jscomp.underscoreProtoCanBeSet=function(){var c={a:!0},e={};try{return e.__proto__=c,e.a}catch(m){}return!1};$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(c,e){c.__proto__=e;if(c.__proto__!==e)throw new TypeError(c+" is not extensible");return c}:null;
$jscomp.inherits=function(c,e){c.prototype=$jscomp.objectCreate(e.prototype);c.prototype.constructor=c;if($jscomp.setPrototypeOf){var m=$jscomp.setPrototypeOf;m(c,e)}else for(m in e)if("prototype"!=m)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(e,m);f&&Object.defineProperty(c,m,f)}else c[m]=e[m];c.superClass_=e.prototype};$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(c){if(!(c instanceof Object))throw new TypeError("Iterator result "+c+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(c){this.yieldResult=c};
$jscomp.generator.Context.prototype.throw_=function(c){this.abruptCompletion_={exception:c,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(c){this.abruptCompletion_={return:c};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(c){this.abruptCompletion_={jumpTo:c};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(c,e){this.nextAddress=e;return{value:c}};
$jscomp.generator.Context.prototype.yieldAll=function(c,e){c=$jscomp.makeIterator(c);var m=c.next();$jscomp.generator.ensureIteratorResultIsObject_(m);if(m.done)this.yieldResult=m.value,this.nextAddress=e;else return this.yieldAllIterator_=c,this.yield(m.value,e)};$jscomp.generator.Context.prototype.jumpTo=function(c){this.nextAddress=c};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(c,e){this.catchAddress_=c;void 0!=e&&(this.finallyAddress_=e)};$jscomp.generator.Context.prototype.setFinallyBlock=function(c){this.catchAddress_=0;this.finallyAddress_=c||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(c,e){this.nextAddress=c;this.catchAddress_=e||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(c){this.catchAddress_=c||0;c=this.abruptCompletion_.exception;this.abruptCompletion_=null;return c};$jscomp.generator.Context.prototype.enterFinallyBlock=function(c,e,m){m?this.finallyContexts_[m]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=c||0;this.finallyAddress_=e||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(c,e){e=this.finallyContexts_.splice(e||0)[0];if(e=this.abruptCompletion_=this.abruptCompletion_||e){if(e.isException)return this.jumpToErrorHandler_();void 0!=e.jumpTo&&this.finallyAddress_<e.jumpTo?(this.nextAddress=e.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=c};$jscomp.generator.Context.prototype.forIn=function(c){return new $jscomp.generator.Context.PropertyIterator(c)};
$jscomp.generator.Context.PropertyIterator=function(c){this.object_=c;this.properties_=[];for(var e in c)this.properties_.push(e);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var c=this.properties_.pop();if(c in this.object_)return c}return null};$jscomp.generator.Engine_=function(c){this.context_=new $jscomp.generator.Context;this.program_=c};
$jscomp.generator.Engine_.prototype.next_=function(c){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,c,this.context_.next_);this.context_.next_(c);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(c){this.context_.start_();var e=this.context_.yieldAllIterator_;if(e)return this.yieldAllStep_("return"in e?e["return"]:function(c){return{value:c,done:!0}},c,this.context_.return);this.context_.return(c);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(c){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],c,this.context_.next_);this.context_.throw_(c);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(c,e,m){try{var f=c.call(this.context_.yieldAllIterator_,e);$jscomp.generator.ensureIteratorResultIsObject_(f);if(!f.done)return this.context_.stop_(),f;var p=f.value}catch(C){return this.context_.yieldAllIterator_=null,this.context_.throw_(C),this.nextStep_()}this.context_.yieldAllIterator_=null;m.call(this.context_,p);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var c=this.program_(this.context_);if(c)return this.context_.stop_(),{value:c.value,done:!1}}catch(e){this.context_.yieldResult=void 0,this.context_.throw_(e)}this.context_.stop_();if(this.context_.abruptCompletion_){c=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(c.isException)throw c.exception;return{value:c.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(c){this.next=function(e){return c.next_(e)};this.throw=function(e){return c.throw_(e)};this.return=function(e){return c.return_(e)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(c,e){e=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(e));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(e,c.prototype);return e};
$jscomp.polyfill=function(c,e,m,f){if(e){m=$jscomp.global;c=c.split(".");for(f=0;f<c.length-1;f++){var p=c[f];p in m||(m[p]={});m=m[p]}c=c[c.length-1];f=m[c];e=e(f);e!=f&&null!=e&&$jscomp.defineProperty(m,c,{configurable:!0,writable:!0,value:e})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(c){function e(){this.batch_=null}function m(c){return c instanceof p?c:new p(function(e,f){e(c)})}if(c&&!$jscomp.FORCE_POLYFILL_PROMISE)return c;e.prototype.asyncExecute=function(c){if(null==this.batch_){this.batch_=[];var e=this;this.asyncExecuteFunction(function(){e.executeBatch_()})}this.batch_.push(c)};var f=$jscomp.global.setTimeout;e.prototype.asyncExecuteFunction=function(c){f(c,0)};e.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var c=
this.batch_;this.batch_=[];for(var e=0;e<c.length;++e){var f=c[e];c[e]=null;try{f()}catch(W){this.asyncThrow_(W)}}}this.batch_=null};e.prototype.asyncThrow_=function(c){this.asyncExecuteFunction(function(){throw c;})};var p=function(c){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var e=this.createResolveAndReject_();try{c(e.resolve,e.reject)}catch(ra){e.reject(ra)}};p.prototype.createResolveAndReject_=function(){function c(c){return function(m){f||(f=!0,c.call(e,m))}}var e=this,f=
!1;return{resolve:c(this.resolveTo_),reject:c(this.reject_)}};p.prototype.resolveTo_=function(c){if(c===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof p)this.settleSameAsPromise_(c);else{a:switch(typeof c){case "object":var e=null!=c;break a;case "function":e=!0;break a;default:e=!1}e?this.resolveToNonPromiseObj_(c):this.fulfill_(c)}};p.prototype.resolveToNonPromiseObj_=function(c){var e=void 0;try{e=c.then}catch(ra){this.reject_(ra);return}"function"==
typeof e?this.settleSameAsThenable_(e,c):this.fulfill_(c)};p.prototype.reject_=function(c){this.settle_(2,c)};p.prototype.fulfill_=function(c){this.settle_(1,c)};p.prototype.settle_=function(c,e){if(0!=this.state_)throw Error("Cannot settle("+c+", "+e+"): Promise already settled in state"+this.state_);this.state_=c;this.result_=e;this.executeOnSettledCallbacks_()};p.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var c=0;c<this.onSettledCallbacks_.length;++c)C.asyncExecute(this.onSettledCallbacks_[c]);
this.onSettledCallbacks_=null}};var C=new e;p.prototype.settleSameAsPromise_=function(c){var e=this.createResolveAndReject_();c.callWhenSettled_(e.resolve,e.reject)};p.prototype.settleSameAsThenable_=function(c,e){var f=this.createResolveAndReject_();try{c.call(e,f.resolve,f.reject)}catch(W){f.reject(W)}};p.prototype.then=function(c,e){function f(c,e){return"function"==typeof c?function(e){try{m(c(e))}catch(Tc){na(Tc)}}:e}var m,na,w=new p(function(c,e){m=c;na=e});this.callWhenSettled_(f(c,m),f(e,
na));return w};p.prototype.catch=function(c){return this.then(void 0,c)};p.prototype.callWhenSettled_=function(c,e){function f(){switch(m.state_){case 1:c(m.result_);break;case 2:e(m.result_);break;default:throw Error("Unexpected state: "+m.state_);}}var m=this;null==this.onSettledCallbacks_?C.asyncExecute(f):this.onSettledCallbacks_.push(f)};p.resolve=m;p.reject=function(c){return new p(function(e,f){f(c)})};p.race=function(c){return new p(function(e,f){for(var p=$jscomp.makeIterator(c),na=p.next();!na.done;na=
p.next())m(na.value).callWhenSettled_(e,f)})};p.all=function(c){var e=$jscomp.makeIterator(c),f=e.next();return f.done?m([]):new p(function(c,p){function w(e){return function(f){W[e]=f;na--;0==na&&c(W)}}var W=[],na=0;do W.push(void 0),na++,m(f.value).callWhenSettled_(w(W.length-1),p),f=e.next();while(!f.done)})};return p},"es6","es3");
$jscomp.iteratorFromArray=function(c,e){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var m=0,f={next:function(){if(m<c.length){var p=m++;return{value:e(p,c[p]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};$jscomp.polyfill("Array.prototype.entries",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c,m){return[c,m]})}},"es6","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var c={},e=Object.create(new $jscomp.global.Proxy(c,{get:function(m,f,p){return m==c&&"q"==f&&p==e}}));return!0===e.q}catch(m){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(c,e){return Object.prototype.hasOwnProperty.call(c,e)};
$jscomp.polyfill("WeakMap",function(c){function e(){if(!c||!Object.seal)return!1;try{var e=Object.seal({}),f=Object.seal({}),m=new c([[e,2],[f,3]]);if(2!=m.get(e)||3!=m.get(f))return!1;m.delete(e);m.set(f,4);return!m.has(e)&&4==m.get(f)}catch(fc){return!1}}function m(){}function f(c){var e=typeof c;return"object"===e&&null!==c||"function"===e}function p(c){if(!$jscomp.owns(c,z)){var e=new m;$jscomp.defineProperty(c,z,{value:e})}}function C(c){var e=Object[c];e&&(Object[c]=function(c){if(c instanceof
m)return c;p(c);return e(c)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(e())return c;var z="$jscomp_hidden_"+Math.random();C("freeze");C("preventExtensions");C("seal");var da=0,ra=function(c){this.id_=(da+=Math.random()+1).toString();if(c){c=$jscomp.makeIterator(c);for(var e;!(e=c.next()).done;)e=e.value,this.set(e[0],e[1])}};ra.prototype.set=function(c,e){if(!f(c))throw Error("Invalid WeakMap key");p(c);if(!$jscomp.owns(c,z))throw Error("WeakMap key fail: "+
c);c[z][this.id_]=e;return this};ra.prototype.get=function(c){return f(c)&&$jscomp.owns(c,z)?c[z][this.id_]:void 0};ra.prototype.has=function(c){return f(c)&&$jscomp.owns(c,z)&&$jscomp.owns(c[z],this.id_)};ra.prototype.delete=function(c){return f(c)&&$jscomp.owns(c,z)&&$jscomp.owns(c[z],this.id_)?delete c[z][this.id_]:!1};return ra},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(c){function e(){if($jscomp.ASSUME_NO_NATIVE_MAP||!c||"function"!=typeof c||!c.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),f=new c($jscomp.makeIterator([[e,"s"]]));if("s"!=f.get(e)||1!=f.size||f.get({x:4})||f.set({x:4},"t")!=f||2!=f.size)return!1;var m=f.entries(),p=m.next();if(p.done||p.value[0]!=e||"s"!=p.value[1])return!1;p=m.next();return p.done||4!=p.value[0].x||"t"!=p.value[1]||!m.next().done?!1:!0}catch(fc){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(e())return c;$jscomp.initSymbolIterator();var m=new WeakMap,f=function(c){this.data_={};this.head_=z();this.size=0;if(c){c=$jscomp.makeIterator(c);for(var e;!(e=c.next()).done;)e=e.value,this.set(e[0],e[1])}};f.prototype.set=function(c,e){c=0===c?0:c;var f=p(this,c);f.list||(f.list=this.data_[f.id]=[]);f.entry?f.entry.value=e:(f.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:c,
value:e},f.list.push(f.entry),this.head_.previous.next=f.entry,this.head_.previous=f.entry,this.size++);return this};f.prototype.delete=function(c){c=p(this,c);return c.entry&&c.list?(c.list.splice(c.index,1),c.list.length||delete this.data_[c.id],c.entry.previous.next=c.entry.next,c.entry.next.previous=c.entry.previous,c.entry.head=null,this.size--,!0):!1};f.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=z();this.size=0};f.prototype.has=function(c){return!!p(this,c).entry};
f.prototype.get=function(c){return(c=p(this,c).entry)&&c.value};f.prototype.entries=function(){return C(this,function(c){return[c.key,c.value]})};f.prototype.keys=function(){return C(this,function(c){return c.key})};f.prototype.values=function(){return C(this,function(c){return c.value})};f.prototype.forEach=function(c,e){for(var f=this.entries(),m;!(m=f.next()).done;)m=m.value,c.call(e,m[1],m[0],this)};f.prototype[Symbol.iterator]=f.prototype.entries;var p=function(c,e){var f=e&&typeof e;"object"==
f||"function"==f?m.has(e)?f=m.get(e):(f=""+ ++da,m.set(e,f)):f="p_"+e;var p=c.data_[f];if(p&&$jscomp.owns(c.data_,f))for(c=0;c<p.length;c++){var C=p[c];if(e!==e&&C.key!==C.key||e===C.key)return{id:f,list:p,index:c,entry:C}}return{id:f,list:p,index:-1,entry:void 0}},C=function(c,e){var f=c.head_;return $jscomp.iteratorPrototype(function(){if(f){for(;f.head!=c.head_;)f=f.previous;for(;f.next!=f.head;)return f=f.next,{done:!1,value:e(f)};f=null}return{done:!0,value:void 0}})},z=function(){var c={};return c.previous=
c.next=c.head=c},da=0;return f},"es6","es3");$jscomp.polyfill("Object.is",function(c){return c?c:function(c,m){return c===m?0!==c||1/c===1/m:c!==c&&m!==m}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(c){return c?c:function(c,m){var e=this;e instanceof String&&(e=String(e));var p=e.length;m=m||0;for(0>m&&(m=Math.max(m+p,0));m<p;m++){var C=e[m];if(C===c||Object.is(C,c))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(c,e,m){if(null==c)throw new TypeError("The 'this' value for String.prototype."+m+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+m+" must not be a regular expression");return c+""};$jscomp.polyfill("String.prototype.includes",function(c){return c?c:function(c,m){return-1!==$jscomp.checkStringArgs(this,c,"includes").indexOf(c,m||0)}},"es6","es3");
$jscomp.polyfill("Math.hypot",function(c){return c?c:function(c){if(2>arguments.length)return arguments.length?Math.abs(arguments[0]):0;var e,f,p;for(e=p=0;e<arguments.length;e++)p=Math.max(p,Math.abs(arguments[e]));if(1e+100<p||1e-100>p){if(!p)return p;for(e=f=0;e<arguments.length;e++){var C=Number(arguments[e])/p;f+=C*C}return Math.sqrt(f)*p}for(e=f=0;e<arguments.length;e++)C=Number(arguments[e]),f+=C*C;return Math.sqrt(f)}},"es6","es3");
$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6","es3");$jscomp.polyfill("Object.entries",function(c){return c?c:function(c){var e=[],f;for(f in c)$jscomp.owns(c,f)&&e.push([f,c[f]]);return e}},"es8","es3");
$jscomp.polyfill("String.prototype.repeat",function(c){return c?c:function(c){var e=$jscomp.checkStringArgs(this,null,"repeat");if(0>c||1342177279<c)throw new RangeError("Invalid count value");c|=0;for(var f="";c;)if(c&1&&(f+=e),c>>>=1)e+=e;return f}},"es6","es3");$jscomp.assign="function"==typeof Object.assign?Object.assign:function(c,e){for(var m=1;m<arguments.length;m++){var f=arguments[m];if(f)for(var p in f)$jscomp.owns(f,p)&&(c[p]=f[p])}return c};
$jscomp.polyfill("Object.assign",function(c){return c||$jscomp.assign},"es6","es3");$jscomp.polyfill("Array.from",function(c){return c?c:function(c,m,f){m=null!=m?m:function(c){return c};var e=[],C="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];if("function"==typeof C){c=C.call(c);for(var z=0;!(C=c.next()).done;)e.push(m.call(f,C.value,z++))}else for(C=c.length,z=0;z<C;z++)e.push(m.call(f,c[z],z));return e}},"es6","es3");
$jscomp.polyfill("Array.prototype.values",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c,m){return m})}},"es8","es3");
(function(c){function e(f){if(m[f])return m[f].exports;var p=m[f]={i:f,l:!1,exports:{}};c[f].call(p.exports,p,p.exports,e);p.l=!0;return p.exports}var m={};e.m=c;e.c=m;e.d=function(c,m,C){e.o(c,m)||Object.defineProperty(c,m,{enumerable:!0,get:C})};e.r=function(c){$jscomp.initSymbol();$jscomp.initSymbol();"undefined"!==typeof Symbol&&Symbol.toStringTag&&($jscomp.initSymbol(),Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}));Object.defineProperty(c,"__esModule",{value:!0})};e.t=function(c,
m){m&1&&(c=e(c));if(m&8||m&4&&"object"===typeof c&&c&&c.__esModule)return c;var f=Object.create(null);e.r(f);Object.defineProperty(f,"default",{enumerable:!0,value:c});if(m&2&&"string"!=typeof c)for(var p in c)e.d(f,p,function(e){return c[e]}.bind(null,p));return f};e.n=function(c){var f=c&&c.__esModule?function(){return c["default"]}:function(){return c};e.d(f,"a",f);return f};e.o=function(c,e){return Object.prototype.hasOwnProperty.call(c,e)};e.p="";return e(e.s=4)})([function(c,e,m){function f(c){for(var e=
[],f,m=0,p=0;p<c.length;)f=c.charCodeAt(p++),m?(e.push((65536+(m-55296<<10)+(f-56320)).toString(16)),m=0):55296<f&&56319>=f?m=f:e.push(f.toString(16));return e}Object.defineProperty(e,"__esModule",{value:!0});e.TypeName=void 0;e.parse=function(c,e){var m=e&&e.assetType?e.assetType:"svg";e=e&&e.buildUrl?e.buildUrl:function(c,e){return"png"===e?"https://twemoji.maxcdn.com/v/latest/72x72/"+c+".png":"https://twemoji.maxcdn.com/v/latest/svg/"+c+".svg"};var z=[];for(p.default.lastIndex=0;;){var W=p.default.exec(c);
if(!W)break;var da=W[0],na=f(ra(da)).join("-");z.push({url:na?e(na,m):"",indices:[W.index,p.default.lastIndex],text:da,type:C})}return z};e.toCodePoints=f;var p=(c=m(1))&&c.__esModule?c:{default:c},C=e.TypeName="emoji",z=/\uFE0F/g,da=String.fromCharCode(8205),ra=function(c){return 0>c.indexOf(da)?c.replace(z,""):c}},function(c,e,m){Object.defineProperty(e,"__esModule",{value:!0});e.default=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[#*0-9]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5\udeeb\udeec\udef4-\udefa\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddb4\uddb7\uddba\uddbc-\uddca\uddd0\uddde-\uddff\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g},
function(c,e,m){AudioBuffer.prototype.copyToChannel||Object.defineProperty(AudioBuffer.prototype,"copyToChannel",{enumerable:!1,configurable:!1,writable:!1,value:function(c,e,m){m=void 0===m?0:m;e=this.getChannelData(e);for(var f=Math.min(e.length,c.length),p=0;p<f;m++,p++)e[m]=c[p]}})},,function(c,e,m){function f(a){var b=new Image,d=new Promise(function(d,c){b.onload=function(){return d(b)};b.onerror=function(){return d(b)};b.src=a});Cd.push(d);return b}function p(){return we(this,void 0,void 0,
function b(){return $jscomp.generator.createGenerator(b,function(b){return b.return(Promise.all(Cd))})})}function C(a){throw Error("This code should be unreachable");}function z(a,b,d){return Math.max(Math.min(b,d),a)}function da(a,b){return a-b*Math.floor(a/b)}function ra(a){throw Error("unreachable");}function W(){return function(a){return a}}function na(a){return{white_noise:vb.makeSampleData({buffer:Promise.resolve(vb.createBufferFromGenerator(a,44100,function(){return 2*Math.random()-1})),shouldLoop:!0,
freq:gc(440)}),snare:vb.makeSampleData({buffer:vb.createBufferFromAudioData(a,22050,"samples/snare.ogg"),shouldLoop:!1,freq:gc(440)}),kick:vb.makeSampleData({buffer:vb.createBufferFromAudioData(a,22050,"samples/kick.ogg"),shouldLoop:!1,freq:gc(440)})}}function w(a,b){for(var d=[],h=1;h<arguments.length;++h)d[h-1]=arguments[h];h=a.reduce(function(a,b,h){return a+b+(d[h]||"")},"").replace(/\t/,"    ").replace(/^(?:\r?\n)+|(?:\r?\n)+ *$/g,"").split(/\r?\n/);var c=h.filter(function(a){return""!==a}).map(function(a){return a.match(/^\s*/)[0].length}),
q=0;0<c.length&&(q=c.reduce(function(a,b){return Math.min(a,b)}));return(0<q?h.map(function(a){return a.substring(q)}):h).join("\n").replace(/([^\n])\n([^\n])/g,"$1 $2").replace(/\n(\n+)/g,"$1")}function fc(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();fc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return a&&"function"===typeof Symbol&&a.constructor===
Symbol&&a!==Symbol.prototype?"symbol":typeof a};return fc(a)}function ob(){ob=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var d=arguments[b],h;for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])}return a};return ob.apply(this,arguments)}function ub(a){for(var b=1;b<arguments.length;b++){var d=null!=arguments[b]?arguments[b]:{},h=Object.keys(d);"function"===typeof Object.getOwnPropertySymbols&&(h=h.concat(Object.getOwnPropertySymbols(d).filter(function(a){return Object.getOwnPropertyDescriptor(d,
a).enumerable})));h.forEach(function(b){var h=d[b];b in a?Object.defineProperty(a,b,{value:h,enumerable:!0,configurable:!0,writable:!0}):a[b]=h})}return a}function Tc(a,b){if(null==a)return{};if(null==a)var d={};else{d={};var h=Object.keys(a),c;for(c=0;c<h.length;c++){var q=h[c];0<=b.indexOf(q)||(d[q]=a[q])}}if(Object.getOwnPropertySymbols)for(c=Object.getOwnPropertySymbols(a),q=0;q<c.length;q++)h=c[q],0<=b.indexOf(h)||Object.prototype.propertyIsEnumerable.call(a,h)&&(d[h]=a[h]);return d}function pb(a){if("undefined"!==
typeof window&&window.navigator)return!!navigator.userAgent.match(a)}function L(a,b,d){a.addEventListener(b,d,!qb&&Dd)}function I(a,b,d){a.removeEventListener(b,d,!qb&&Dd)}function yc(a,b){if(b){">"===b[0]&&(b=b.substring(1));if(a)try{if(a.matches)return a.matches(b);if(a.msMatchesSelector)return a.msMatchesSelector(b);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(b)}catch(d){}return!1}}function kb(a,b,d,h){if(a){d=d||document;do{if(null!=b&&(">"===b[0]?a.parentNode===d&&yc(a,b):yc(a,
b))||h&&a===d)return a;if(a===d)break}while(a=a.host&&a!==document&&a.host.nodeType?a.host:a.parentNode)}return null}function Ea(a,b,d){if(a&&b)if(a.classList)a.classList[d?"add":"remove"](b);else{var h=(" "+a.className+" ").replace(Ed," ").replace(" "+b+" "," ");a.className=(h+(d?" "+b:"")).replace(Ed," ")}}function D(a,b,d){var h=a&&a.style;if(h){if(void 0===d)return document.defaultView&&document.defaultView.getComputedStyle?d=document.defaultView.getComputedStyle(a,""):a.currentStyle&&(d=a.currentStyle),
void 0===b?d:d[b];b in h||-1!==b.indexOf("webkit")||(b="-webkit-"+b);h[b]=d+("string"===typeof d?"":"px")}}function Rb(a,b){var d="";if("string"===typeof a)d=a;else{do{var h=D(a,"transform");h&&"none"!==h&&(d=h+" "+d)}while(!b&&(a=a.parentNode))}return(a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix)&&new a(d)}function Fd(a,b,d){if(a){a=a.getElementsByTagName(b);b=0;var h=a.length;if(d)for(;b<h;b++)d(a[b],b);return a}return[]}function rb(){var a=document.scrollingElement;
return a?a:document.documentElement}function ea(a,b,d,h,c){if(a.getBoundingClientRect||a===window){if(a!==window&&a!==rb()){var q=a.getBoundingClientRect();var r=q.top;var e=q.left;var f=q.bottom;var sa=q.right;var P=q.height;var x=q.width}else e=r=0,f=window.innerHeight,sa=window.innerWidth,P=window.innerHeight,x=window.innerWidth;if((b||d)&&a!==window&&(c=c||a.parentNode,!qb)){do if(c&&c.getBoundingClientRect&&("none"!==D(c,"transform")||d&&"static"!==D(c,"position"))){f=c.getBoundingClientRect();
r-=f.top+parseInt(D(c,"border-top-width"));e-=f.left+parseInt(D(c,"border-left-width"));f=r+q.height;sa=e+q.width;break}while(c=c.parentNode)}h&&a!==window&&(h=(a=Rb(c||a))&&a.a,c=a&&a.d,a&&(r/=c,e/=h,x/=h,P/=c,f=r+P,sa=e+x));return{top:r,left:e,bottom:f,right:sa,width:x,height:P}}}function Gd(a,b,d){var h=wb(a,!0);for(a=ea(a)[b];h;){b=ea(h)[d];if(!("top"===d||"left"===d?a>=b:a<=b))return h;if(h===rb())break;h=wb(h,!1)}return!1}function zc(a,b,d){for(var h=0,c=0,q=a.children;c<q.length;){if("none"!==
q[c].style.display&&q[c]!==E.ghost&&q[c]!==E.dragged&&kb(q[c],d.draggable,a,!1)){if(h===b)return q[c];h++}c++}return null}function Uc(a,b){for(a=a.lastElementChild;a&&(a===E.ghost||"none"===D(a,"display")||b&&!yc(a,b));)a=a.previousElementSibling;return a||null}function Na(a,b){var d=0;if(!a||!a.parentNode)return-1;for(;a=a.previousElementSibling;)"TEMPLATE"===a.nodeName.toUpperCase()||a===E.clone||b&&!yc(a,b)||d++;return d}function Hd(a){var b=0,d=0,h=rb();if(a){do{var c=Rb(a),q=c.d;b+=a.scrollLeft*
c.a;d+=a.scrollTop*q}while(a!==h&&(a=a.parentNode))}return[b,d]}function xe(a,b){for(var d in a)if(a.hasOwnProperty(d))for(var h in b)if(b.hasOwnProperty(h)&&b[h]===a[d][h])return Number(d);return-1}function wb(a,b){if(!a||!a.getBoundingClientRect)return rb();var d=!1;do if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var h=D(a);if(a.clientWidth<a.scrollWidth&&("auto"==h.overflowX||"scroll"==h.overflowX)||a.clientHeight<a.scrollHeight&&("auto"==h.overflowY||"scroll"==h.overflowY)){if(!a.getBoundingClientRect||
a===document.body)break;if(d||b)return a;d=!0}}while(a=a.parentNode);return rb()}function Vc(a,b){return Math.round(a.top)===Math.round(b.top)&&Math.round(a.left)===Math.round(b.left)&&Math.round(a.height)===Math.round(b.height)&&Math.round(a.width)===Math.round(b.width)}function Id(a,b){return function(){if(!hc){var d=arguments;1===d.length?a.call(this,d[0]):a.apply(this,d);hc=setTimeout(function(){hc=void 0},b)}}}function Jd(a,b,d){a.scrollLeft+=b;a.scrollTop+=d}function Kd(a){var b=window.Polymer,
d=window.jQuery||window.Zepto;return b&&b.dom?b.dom(a).cloneNode(!0):d?d(a).clone(!0)[0]:a.cloneNode(!0)}function ye(){var a=[],b;return{captureAnimationState:function(){a=[];this.options.animation&&[].slice.call(this.el.children).forEach(function(b){if("none"!==D(b,"display")&&b!==E.ghost){a.push({target:b,rect:ea(b)});var d=ub({},a[a.length-1].rect);if(b.thisAnimationDuration){var c=Rb(b,!0);c&&(d.top-=c.f,d.left-=c.e)}b.fromRect=d}})},addAnimationState:function(b){a.push(b)},removeAnimationState:function(b){a.splice(xe(a,
{target:b}),1)},animateAll:function(d){var h=this;if(this.options.animation){var c=!1,q=0;a.forEach(function(a){var b=0,d=a.target,r=d.fromRect,e=ea(d),O=d.prevFromRect,f=d.prevToRect;a=a.rect;var g=Rb(d,!0);g&&(e.top-=g.f,e.left-=g.e);d.toRect=e;d.thisAnimationDuration&&Vc(O,e)&&!Vc(r,e)&&(a.top-e.top)/(a.left-e.left)===(r.top-e.top)/(r.left-e.left)&&(b=Math.sqrt(Math.pow(O.top-a.top,2)+Math.pow(O.left-a.left,2))/Math.sqrt(Math.pow(O.top-f.top,2)+Math.pow(O.left-f.left,2))*h.options.animation);Vc(e,
r)||(d.prevFromRect=r,d.prevToRect=e,b||(b=h.options.animation),h.animate(d,a,e,b));b&&(c=!0,q=Math.max(q,b),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0;d.prevFromRect=null;d.fromRect=null;d.prevToRect=null;d.thisAnimationDuration=null},b),d.thisAnimationDuration=b)});clearTimeout(b);c?b=setTimeout(function(){"function"===typeof d&&d()},q):"function"===typeof d&&d();a=[]}else clearTimeout(b),"function"===typeof d&&d()},animate:function(a,b,c,q){if(q){D(a,
"transition","");D(a,"transform","");var d=Rb(this.el),h=(b.left-c.left)/(d&&d.a||1);b=(b.top-c.top)/(d&&d.d||1);a.animatingX=!!h;a.animatingY=!!b;D(a,"transform","translate3d("+h+"px,"+b+"px,0)");D(a,"transition","transform "+q+"ms"+(this.options.easing?" "+this.options.easing:""));D(a,"transform","translate3d(0,0,0)");"number"===typeof a.animated&&clearTimeout(a.animated);a.animated=setTimeout(function(){D(a,"transition","");D(a,"transform","");a.animated=!1;a.animatingX=!1;a.animatingY=!1},q)}}}}
function ta(a){var b=ub({putSortable:fa,cloneEl:S,targetEl:t,rootEl:R,oldIndex:Sb,oldDraggableIndex:ic,newIndex:Fa,newDraggableIndex:xb},a);a=b.sortable;var d=b.rootEl,h=b.name,c=b.targetEl,q=b.cloneEl,e=b.toEl,f=b.fromEl,g=b.oldIndex,sa=b.newIndex,P=b.oldDraggableIndex,x=b.newDraggableIndex,k=b.originalEvent,l=b.putSortable,m=b.extraEventProperties;if(a=a||d&&d[Ga]){var n=a.options,p="on"+h.charAt(0).toUpperCase()+h.substr(1);!window.CustomEvent||qb||kc?(b=document.createEvent("Event"),b.initEvent(h,
!0,!0)):b=new CustomEvent(h,{bubbles:!0,cancelable:!0});b.to=e||d;b.from=f||d;b.item=c||d;b.clone=q;b.oldIndex=g;b.newIndex=sa;b.oldDraggableIndex=P;b.newDraggableIndex=x;b.originalEvent=k;b.pullMode=l?l.lastPutMode:void 0;h=ub({},m,lc.getEventProperties(h,a));for(var u in h)b[u]=h[u];d&&d.dispatchEvent(b);n[p]&&n[p].call(a,b)}}function E(a,b){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(a));this.el=a;this.options=b=ob({},b);a[Ga]=this;
var d={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(a.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ld(a,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,b){a.setData("Text",b.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,
delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==E.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};lc.initializePlugins(this,a,d);for(var h in d)h in b||(b[h]=d[h]);Md(b);for(var c in this)"_"===c.charAt(0)&&"function"===typeof this[c]&&(this[c]=this[c].bind(this));if(this.nativeDraggable=
b.forceFallback?!1:ze)this.options.touchStartThreshold=1;b.supportPointer?L(a,"pointerdown",this._onTapStart):(L(a,"mousedown",this._onTapStart),L(a,"touchstart",this._onTapStart));this.nativeDraggable&&(L(a,"dragover",this),L(a,"dragenter",this));Bc.push(this.el);b.store&&b.store.get&&this.sort(b.store.get(this)||[]);ob(this,ye())}function Yc(a,b,d,h,c,q,e,f){var r=a[Ga],O=r.options.onMove,P;if(!window.CustomEvent||qb||kc){var x=document.createEvent("Event");x.initEvent("move",!0,!0)}else x=new CustomEvent("move",
{bubbles:!0,cancelable:!0});x.to=b;x.from=a;x.dragged=d;x.draggedRect=h;x.related=c||b;x.relatedRect=q||ea(b);x.willInsertAfter=f;x.originalEvent=e;a.dispatchEvent(x);O&&(P=O.call(r,x,e));return P}function Zc(a){a.draggable=!1}function Ae(){$c=!1}function Be(a,b,d){d=ea(Uc(d.el,d.options.draggable));return b?a.clientX>d.right+10||a.clientX<=d.right&&a.clientY>d.bottom&&a.clientX>=d.left:a.clientX>d.right&&a.clientY>d.top||a.clientX<=d.right&&a.clientY>d.bottom+10}function Ce(a,b,d,h,c,q,e,f){a=h?
a.clientY:a.clientX;var r=h?d.height:d.width,O=h?d.top:d.left;d=h?d.bottom:d.right;h=!1;if(!e)if(f&&Cc<r*c)if(!mc&&(1===nc?a>O+r*q/2:a<d-r*q/2)&&(mc=!0),mc)h=!0;else{if(1===nc?a<O+Cc:a>d-Cc)return-nc}else if(a>O+r*(1-c)/2&&a<d-r*(1-c)/2)return b=Na(t)<Na(b)?1:-1,b;if(h||e)if(a<O+r*q/2||a>d-r*q/2)return a>O+r/2?1:-1;return 0}function De(a){a=a.tagName+a.className+a.src+a.href+a.textContent;for(var b=a.length,d=0;b--;)d+=a.charCodeAt(b);return d.toString(36)}function Ee(a){Dc.length=0;a=a.getElementsByTagName("input");
for(var b=a.length;b--;){var d=a[b];d.checked&&Dc.push(d)}}function Ec(a){return setTimeout(a,0)}function Fc(){X.forEach(function(a){clearInterval(a.pid)});X=[]}function ad(){}function bd(){}function M(a){return{queryType:"hasTech",technology:a}}function cd(a,b){return{queryType:"speciesHasPopulation",species:a,minPopulation:b}}function Gc(a,b){return{queryType:"tileWithinDistance",tileType:a,radius:b}}function Fe(a,b){return{queryType:"anyTileWithinDistance",tileTypes:a,radius:b}}function yb(a){return{queryType:"tileExists",
tileType:a}}function Nd(a){return{queryType:"allTilesAreOfType",tileTypes:a}}function Od(a,b){return{queryType:"hasResource",resource:a,minQuantity:b}}function Hb(a){return{queryType:"not",query:a}}function Pd(a,b){return{queryType:"or",query1:a,query2:b}}function Qd(a){switch(a.queryType){case "hasTech":return function(b){return b.hasUnlockedTechnology(a.technology)};case "speciesHasPopulation":return function(b){return b.inventory.getPopulation(a.species)>=a.minPopulation};case "hasTotalPopulation":return function(b){return b.inventory.getTotalPopulation()>=
a.minPopulation};case "availableHousing":return function(b){var d=b.world.getPopulationCapacity(a.species);b=b.inventory.getPopulation(a.species);return d-b>=a.minAvailableCapacity};case "tileExists":return function(b){return b.world.getTiles().some(function(b){return b instanceof a.tileType})};case "allTilesAreOfType":return function(b){return b.world.getTiles().every(function(b){return a.tileTypes.some(function(a){return b instanceof a})})};case "hasResource":return function(b){return b.inventory.getResourceQuantity(a.resource)>=
a.minQuantity};default:ra(a)}}function Ib(a){switch(a.queryType){case "tileWithinDistance":return function(b,d){return b.world.getTilesInCircle(d,a.radius).some(function(b){return b instanceof a.tileType})};case "anyTileWithinDistance":return function(b,d){return b.world.getTilesInCircle(d,a.radius).some(function(b){return a.tileTypes.some(function(a){return b instanceof a})})};case "not":return function(b,d){return!Ib(a.query)(b,d)};case "and":return function(b,d){return Ib(a.query1)(b,d)&&Ib(a.query2)(b,
d)};case "or":return function(b,d){return Ib(a.query1)(b,d)||Ib(a.query2)(b,d)};default:return Qd(a)}}function Tb(){return k.schema({encode:function(a){return dd[a.queryType].encode(a)},decode:function(a){return dd[a.queryType].decode(a)},validate:function(a){if("object"!==typeof a||null===a)return!1;var b=dd[a.queryType];return b?b.validate(a):!1}})}function ba(a,b,d,h){return new Q("Construct "+a.tileName,a.tileDescription,function(b,d){return d.world.placeTile(new a(b))},b,d,h)}function T(a){return new fb("have the "+
a.name+" technology",M(a))}function sb(a,b){return new fb(1===b?"adjacent to a "+a.tileName:"within "+b+" units of "+a.tileName,Gc(a,b))}function Ge(a,b){return new fb("have at least "+b+" "+a.name,cd(a,b))}function Rd(a,b){return new fb("available housing capacity for "+b+" "+a.name,{queryType:"availableHousing",species:a,minAvailableCapacity:b})}function ed(a){var b=new zb(a);a=window;a.cheatsAddResource=function(a,h){return b.addResource(a,h)};a.cheatsRemoveResource=function(a,h){return b.removeResource(a,
h)};a.cheatsAddPopulation=function(a,h){return b.addPopulation(a,h)};a.cheatsFreeResources=function(){return b.freeResources()};a.cheatsShowEnding=function(a){return b.showEnding(void 0===a?!1:a)};a.showQuote=function(a){return b.showQuote(a)};Object.freeze(l);Object.freeze(J);a.Resources=l;a.Species=J}m.r(e);var He=function(){function a(a,b){return document.createTextNode(b?a.replace(k,""):a)}function b(a,b){return"".concat(b.base,b.size,"/",a,b.ext)}function d(a,b){a=a.childNodes;for(var h=a.length,
c,q;h--;)c=a[h],q=c.nodeType,3===q?b.push(c):1!==q||"ownerSVGElement"in c||p.test(c.nodeName.toLowerCase())||d(c,b);return b}function h(a){return sa(0>a.indexOf(m)?a.replace(k,""):a)}function c(b,c){for(var q=d(b,[]),r=q.length,e,O,f,x,sa,P,g,k,m,Ac;r--;){e=!1;f=document.createDocumentFragment();x=q[r];sa=x.nodeValue;for(g=0;P=l.exec(sa);){k=P.index;k!==g&&f.appendChild(a(sa.slice(g,k),!0));P=P[0];Ac=h(P);g=k+P.length;k=c.callback(Ac,c);if(Ac&&k){m=new Image;m.onerror=c.onerror;m.setAttribute("draggable",
"false");e=c.attributes(P,Ac);for(O in e)e.hasOwnProperty(O)&&0!==O.indexOf("on")&&!m.hasAttribute(O)&&m.setAttribute(O,e[O]);m.className=c.className;m.alt=P;m.src=k;e=!0;f.appendChild(m)}m||f.appendChild(a(P,!1));m=null}e&&(g<sa.length&&f.appendChild(a(sa.slice(g),!0)),x.parentNode.replaceChild(f,x))}return b}function q(a,b){return g(a,function(a){var d=a,c=h(a),q=b.callback(c,b),r;if(c&&q){d="<img ".concat('class="',b.className,'" ','draggable="false" ','alt="',a,'"',' src="',q,'"');a=b.attributes(a,
c);for(r in a)a.hasOwnProperty(r)&&0!==r.indexOf("on")&&-1===d.indexOf(" "+r+"=")&&(d=d.concat(" ",r,'="',a[r].replace(n,e),'"'));d=d.concat("/>")}return d})}function e(a){return x[a]}function f(){return null}function g(a,b){return String(a).replace(l,b)}function sa(a,b){for(var d=[],c,h=0,q=0;q<a.length;)c=a.charCodeAt(q++),h?(d.push((65536+(h-55296<<10)+(c-56320)).toString(16)),h=0):55296<=c&&56319>=c?h=c:d.push(c.toString(16));return d.join(b||"-")}var P={base:"https://twemoji.maxcdn.com/v/12.1.5/",
ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(a){a="string"===typeof a?parseInt(a,16):a;if(65536>a)return t(a);a-=65536;return t(55296+(a>>10),56320+(a&1023))},toCodePoint:sa},onerror:function(){this.parentNode&&this.parentNode.replaceChild(a(this.alt,!1),this)},parse:function(a,d){d&&"function"!==typeof d||(d={callback:d});var h=d.callback||b,r="function"===typeof d.attributes?d.attributes:f,e="string"===typeof d.base?d.base:P.base,O=d.ext||P.ext,x;(x=d.folder)||(x=d.size||
P.size,x="number"===typeof x?x+"x"+x:x);return("string"===typeof a?q:c)(a,{callback:h,attributes:r,base:e,ext:O,size:x,className:d.className||P.className,onerror:d.onerror||P.onerror})},replace:g,test:function(a){l.lastIndex=0;a=l.test(a);l.lastIndex=0;return a}},x={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},l=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[#*0-9]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5\udeeb\udeec\udef4-\udefa\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddb4\uddb7\uddba\uddbc-\uddca\uddd0\uddde-\uddff\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,
k=/\uFE0F/g,m=String.fromCharCode(8205),n=/[&<>'"]/g,p=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,t=String.fromCharCode;return P}(),Ie=m(0),g;(function(a){function b(a){var b=document.createElement("div");a&&b.classList.add.apply(b.classList,$jscomp.arrayFromIterable(a));return b}function d(a,b,d){a=document.createElement(a);a.innerText=b;d&&a.classList.add.apply(a.classList,$jscomp.arrayFromIterable(d));return a}function c(a){He.parse(a,{folder:"svg",ext:".svg"});return a}function r(a){return 0<
Ie.parse(a).length}a.makeDiv=b;a.makeDivContaining=function(a,d){d=b(d);a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())d.appendChild(c.value);return d};a.makeElement=d;a.patchEmoji=c;a.containsEmoji=r;a.makePara=function(a,b){b=d("p",a,b);r(a)&&c(b);return b};a.makeHeader=function(a,b,h){b=d("h"+(void 0===b?1:b),a,h);r(a)&&c(b);return b};a.makeButton=function(a,b,d,h){h=void 0===h?"enabled":h;var q=document.createElement("button");q.type="button";"disabled"===h&&(q.disabled=!0);q.innerText=
a;d&&q.classList.add.apply(q.classList,$jscomp.arrayFromIterable(d));q.onclick=function(a){a.preventDefault();b(q,a)};r(a)&&c(q);return q};a.makeSlider=function(b,d,c,h,r,e){var q=document.createElement("input");q.type="range";q.min=d.toString();q.max=c.toString();q.value=h.toString();void 0!==e&&(q.step=e.toString());q.oninput=function(){if(void 0!==this.value){var a=Number(this.value);!isNaN(a)&&d<=a&&a<=c&&r(a)}};b=a.makePara(b+": ");return a.makeDivContaining([b,q])};a.makeCanvas=function(a,b,
d){var c=document.createElement("canvas");c.width=a;c.height=b;d&&c.classList.add.apply(c.classList,$jscomp.arrayFromIterable(d));return c};a.fillHTML=function(a,b){a.innerHTML="";b=$jscomp.makeIterator(b);for(var d=b.next();!d.done;d=b.next())a.appendChild(d.value)}})(g||(g={}));var K;(function(a){var b=document.getElementById("rootdiv"),d=void 0;a.show=function(a){d=a;g.fillHTML(b,[a.html]);document.onkeydown=function(b){a.handleKeyDown&&a.handleKeyDown(b)};document.onkeyup=function(b){a.handleKeyUp&&
a.handleKeyUp(b)}};a.refreshCurrentPage=function(){d&&d.refresh()}})(K||(K={}));var we=function(a,b,d,c){function h(a){return a instanceof d?a:new d(function(b){b(a)})}return new (d||(d=Promise))(function(d,r){function q(a){try{f(c.next(a))}catch(x){r(x)}}function e(a){try{f(c["throw"](a))}catch(x){r(x)}}function f(a){a.done?d(a.value):h(a.value).then(q,e)}f((c=c.apply(a,b||[])).next())})},Cd=[],Je=f("assets/ui/highlight.png"),Ke=f("assets/tiles/environment/wasteland1.png"),Le=f("assets/tiles/environment/wasteland2.png"),
Me=f("assets/tiles/environment/wasteland3.png"),Ne=f("assets/tiles/environment/wasteland4.png"),Sd=f("assets/tiles/environment/wasteland5.png"),Oe=f("assets/tiles/environment/mountain.png"),Td=f("assets/tiles/alien/ruins1.png"),Pe=f("assets/tiles/alien/ruins2.png"),Qe=f("assets/tiles/alien/monolith.png"),Re=f("assets/tiles/end/reprogrammed monolith.png"),Se=f("assets/tiles/end/seed core alien.png"),Te=f("assets/tiles/end/seed core human.png"),Ue=f("assets/tiles/end/circuits alien.png"),Ve=f("assets/tiles/end/circuits human.png"),
We=f("assets/tiles/construction/hab_site.png"),Xe=f("assets/tiles/construction/lab_site.png"),Ye=f("assets/tiles/construction/industry_site.png"),Ze=f("assets/tiles/construction/xenoengineering_site.png"),$e=f("assets/tiles/colony/habitat.png"),af=f("assets/tiles/colony/solar_panels.png"),bf=f("assets/tiles/colony/mining_facility.png"),cf=f("assets/tiles/colony/lander.png"),df=f("assets/tiles/colony/greenhouse.png"),ef=f("assets/tiles/colony/hydroponics.png"),ff=f("assets/tiles/colony/mineshaft.png"),
gf=f("assets/tiles/colony/electronics factory.png"),hf=f("assets/tiles/colony/construction factory.png"),jf=f("assets/tiles/colony/xenofactory.png"),Ud=f("assets/tiles/roads/cross.png"),Vd=f("assets/tiles/roads/horizontal.png"),Wd=f("assets/tiles/roads/vertical.png"),kf=f("assets/tiles/roads/corner_bottom_left.png"),lf=f("assets/tiles/roads/corner_bottom_right.png"),mf=f("assets/tiles/roads/corner_top_left.png"),nf=f("assets/tiles/roads/corner_top_right.png"),of=f("assets/tiles/roads/t_south.png"),
pf=f("assets/tiles/roads/t_north.png"),qf=f("assets/tiles/roads/t_east.png"),rf=f("assets/tiles/roads/t_west.png"),sf=f("assets/tiles/colony/arcology.png"),tf=f("assets/tiles/colony/nuclear_plant.png"),uf=f("assets/tiles/colony/hive.png"),vf=f("assets/tiles/colony/zero_point.png"),wf=f("assets/tiles/colony/lab_alignment.png"),xf=f("assets/tiles/colony/lab_engineering.png"),yf=f("assets/tiles/colony/lab_psych.png"),zf=f("assets/tiles/colony/lab_xeno.png"),Xd=f("assets/tiles/colony/recycler1.png"),
Af=f("assets/tiles/colony/recycler2.png"),Bf=f("assets/tiles/colony/nanotech_foundry.png"),Cf=f("assets/tiles/colony/neural_emulator.png"),Jb=function(a,b,d){this.header=a;this.text=b;this.largeText=d},Df=[new Jb("Grace Rarer",["Team Lead, Game Designer, Programmer"],!0),new Jb("Prindle",["Programmer, DevOps"],!0),new Jb("May Lawver",["Music Generation Programmer"],!0),new Jb("Seong Ryoo",["Environment Artist"],!0),new Jb("Code Contributors",["Mitchell Philipp","Brad Baker","Will Cooper"]),new Jb("Third Party Assets",
["Twemoji (MIT License for code, CC-BY for graphics)","IBM Plex Mono (Open Font License)","NASA Images (public domain)"]),new Jb("Aurora is released under the MIT License",["Source code is available at github.com/GRarer/Aurora"])],fd=function(){this.html=g.makeDiv(["credits"]);this.refresh()};fd.prototype.refresh=function(){var a=this;g.fillHTML(this.html,[].concat($jscomp.arrayFromIterable(Df.map(function(b){return a.renderCreditsEntry(b)})),[g.makeButton("Back",function(){return K.show(new Oa)})]))};
fd.prototype.renderCreditsEntry=function(a){return g.makeDivContaining([g.makeHeader(a.header)].concat($jscomp.arrayFromIterable(a.text.map(function(a){return g.makePara(a)}))),a.largeText?["credits-entry-large"]:["credits-entry-small"])};var Ub=function(a){return a},k;(function(a){function b(a){return{encode:Ub,decode:Ub,validate:a}}function d(a,b,d){return{encode:function(d){return a.encode(b(d))},decode:function(b){return d(a.decode(b))},validate:function(b){return a.validate(b)}}}function c(a){return{encode:function(b){return b.map(function(b){return a.encode(b)})},
decode:function(b){return b.map(function(b){return a.decode(b)})},validate:function(b){return Array.isArray(b)?b.every(function(b){return a.validate(b)}):!1}}}function r(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];return{encode:function(a){return a.map(function(a,d){return b[d].encode(a)})},decode:function(a){return a.map(function(a,d){return b[d].decode(a)})},validate:function(a){return Array.isArray(a)&&a.length===b.length?b.every(function(b,d){return b.validate(a[d])}):!1}}}
function q(a){return{encode:function(b){var d={},c;for(c in a)d[c]=a[c].encode(b[c]);return d},decode:function(b){var d={},c;for(c in a)d[c]=a[c].decode(b[c]);return d},validate:function(b){if("object"!==typeof b||null===b)return!1;for(var d in a)if(!a[d].validate(b[d]))return!1;return!0}}}function e(a,b,d,c){return{encode:function(h){return a(h)?d.encode(h):b(h)?c.encode(h):C(h)},decode:function(a){return d.validate(a)?d.decode(a):c.validate(a)?c.decode(a):C(a)},validate:function(a){return d.validate(a)||
c.validate(a)}}}function f(a,b){return e(function(b){return a.validate(b)},function(b){return!a.validate(b)},a,b)}function g(a,b){return{encode:function(b){return a.encode(b)},decode:function(b){return a.decode(b)},validate:function(d){return a.validate(d)&&b(d)}}}a.schema=function(a){return a};a.primitive=b;a.literal=function(a){return{encode:Ub,decode:Ub,validate:function(b){return b===a}}};a.contra=d;a.co=function(a,b,d,c){return{encode:function(d){return b(a.encode(d))},decode:function(b){return a.decode(d(b))},
validate:c}};a.lazy=function(a){return{encode:function(b){return a().encode(b)},decode:function(b){return a().decode(b)},validate:function(b){return a().validate(b)}}};a.injecting=function(a,b,d){return{encode:function(b){return a.encode(b)},decode:function(b){return a.decode(b)},validate:function(b){return a.validate(b)},project:b,inject:d}};a.anAny=b(function(a){return!0});a.aString=b(function(a){return"string"===typeof a||a instanceof String});a.aNumber=b(function(a){return"number"===typeof a});
a.aBoolean=b(function(a){return"boolean"===typeof a});a.aNull=b(function(a){return null===a});a.anUndefined=b(function(a){return"undefined"===typeof a});a.arrayOf=c;a.nonEmptyArrayOf=function(a){a=c(a);var b=a.validate;return{encode:a.encode,decode:a.decode,validate:function(a){return Array.isArray(a)&&1<=a.length&&b(a)}}};a.tupleOf=r;a.anEmptyArray=r();a.object=function(a){return{encode:function(b){var d={},c;for(c in b)d[c]=a.encode(b[c]);return d},decode:function(b){var d={},c;for(c in b)d[c]=
a.decode(b[c]);return d},validate:function(b){if("object"!==typeof b||null===b)return!1;for(var d in b)if(!a.validate(b[d]))return!1;return!0}}};a.map=function(a,b){return{encode:function(d){var c=[];d=$jscomp.makeIterator(d.entries());for(var h=d.next();!h.done;h=d.next())h=h.value,c.push([a.encode(h[0]),b.encode(h[1])]);return c},decode:function(d){var c=new Map;d=$jscomp.makeIterator(d);for(var h=d.next();!h.done;h=d.next())h=h.value,c.set(a.decode(h[0]),b.decode(h[1]));return c},validate:function(d){return c(r(a,
b)).validate(d)}}};a.recordOf=q;a.anEmptyObject=q({});a.classOf=function(a,b){return d(q(a),Ub,b)};a.unionOf=e;a.union=f;a.optional=function(b){return f(a.anUndefined,b)};a.constrain=g;a.asserting=function(a,b){return g(a,b)};a.matching=function(b){return g(a.aString,function(a){return b.test(a)})};a.indexing=function(b){return d(g(a.aNumber,function(a){return 0<=a&&a<b.length}),function(a){var d=b.indexOf(a);if(0>d)throw Error("Serialization error: attempted to serialize "+a+" by index in "+b);return d},
function(a){return b[a]})};a.mapping=function(b){return d(g(a.aString,function(a){return a in b}),function(a){for(var d in b)if(b[d]===a)return d;throw Error("Serialization error: attempted to serialize "+a+" by key in "+b);},function(a){return b[a]})}})(k||(k={}));var Hc;(function(a){function b(a){return{encode:function(b){var d=a();return b.map(function(a){return d.encode(a)})},decode:function(b){var d=a();return b.map(function(a){return d.decode(a)})},validate:function(b){var d=a();return Array.isArray(b)?
b.every(function(a){return d.validate(a)}):!1}}}function d(a){return{encode:function(b){var d={},c;for(c in a)d[c]=a[c]().encode(b[c]);return d},decode:function(b){var d={},c;for(c in a)d[c]=a[c]().decode(b[c]);return d},validate:function(b){if("object"!==typeof b||null===b)return!1;for(var d in a)if(!a[d]().validate(b[d]))return!1;return!0}}}a.arrayOf=b;a.nonEmptyArrayOf=function(a){a=b(a);var d=a.validate;return{encode:a.encode,decode:a.decode,validate:function(a){return Array.isArray(a)&&1<=a.length&&
d(a)}}};a.recordOf=d;a.classOf=function(a,b){return k.contra(d(a),Ub,b)}})(Hc||(Hc={}));var Ab;(function(a){a.isSupported=function(){try{var a=window.localStorage;a.setItem("__test_ls","null");a.removeItem("__test_ls");return!0}catch(d){return a&&0!==a.length?d instanceof DOMException?22===d.code||"QuotaExceededError"===d.name||1014===d.code||"NS_ERROR_DOM_QUOTA_REACHED"===d.name:!1:!1}}();a.hasItem=function(b){return a.isSupported&&Object.prototype.hasOwnProperty.call(window.localStorage,b)};a.saveItem=
function(b,d,c){return a.isSupported?(d=JSON.stringify(c.encode(d)),window.localStorage.setItem(b,d),!0):!1};a.loadItem=function(b,d){if(a.isSupported&&(b=window.localStorage.getItem(b),null!==b)){try{var c=JSON.parse(b);var r=d.validate(c)?{resultType:"success",result:d.decode(c)}:{resultType:"invalidStructure"}}catch(q){if(q instanceof SyntaxError)r={resultType:"syntaxError",error:q};else throw q;}return r}};a.removeItem=function(b){a.isSupported&&window.localStorage.removeItem(b)};a.clearAllItems=
function(){a.isSupported&&window.localStorage.clear()}})(Ab||(Ab={}));var oc=W(),gc=W(),Vb;(function(a){function b(a){return gc(440*Math.pow(2,(a-69)/12))}a.noteNames="C C# D D# E F F# G G# A A# B".split(" ");a.midiNumberToFrequency=b;a.midiNumberToNoteName=function(b){return""+a.noteNames[da(b,12)]+(Math.floor(b/12)-1)};a.detuneWithCoeff=function(a,c){if(1===c)return[b(a)];a=b(a);return[a/c,a,a*c].map(gc)}})(Vb||(Vb={}));var Yd=function(a){this.volume=a},Ic;(function(a){a.createAdsrEnvelope=function(a,
d,c,r,q){q=void 0===q?1:q;var b=void 0===r.attack?0:r.attack,h=void 0===r.sustain?0:r.sustain,e=void 0===r.decay?0:r.decay;r=void 0===r.release?0:r.release;a=a.createGain();a.gain.setValueAtTime(0,d);c<b?a.gain.linearRampToValueAtTime(c/b*(q-0),d+c):c<b+e?(a.gain.linearRampToValueAtTime(q,d+b),a.gain.linearRampToValueAtTime((c-b)/e*(q*h-q)+q,d+b+e)):(a.gain.linearRampToValueAtTime(q,d+b),a.gain.linearRampToValueAtTime(q*h,d+b+e));a.gain.linearRampToValueAtTime(0,d+c+r);return a}})(Ic||(Ic={}));var gd=
function(a,b,d,c){function h(a){return a instanceof d?a:new d(function(b){b(a)})}return new (d||(d=Promise))(function(d,r){function e(a){try{f(c.next(a))}catch(x){r(x)}}function q(a){try{f(c["throw"](a))}catch(x){r(x)}}function f(a){a.done?d(a.value):h(a.value).then(e,q)}f((c=c.apply(a,b||[])).next())})},Wb=function(a,b,d){this.volume=void 0===d?1:d;this.type=a.type;this._detune=1;this.detune=a.detune||0;this.env=b;return this};$jscomp.inherits(Wb,Yd);Wb.prototype.scheduleNote=function(a,b){return gd(this,
void 0,void 0,function h(){var c=this,e,f,g,k,l,m;return $jscomp.generator.createGenerator(h,function(h){e=c;f=Vb.detuneWithCoeff(b.midiNumber,c._detune);g=void 0===b.endNote?f:Vb.detuneWithCoeff(b.endNote,c._detune);k=Math.min(1/f.length,1)*c.volume;l=Ic.createAdsrEnvelope(a,b.start,b.duration,c.env,k);m=b.start+b.duration+(c.env.sustain||0);f.forEach(function(c,h){var r=a.createOscillator();r.type=e.type;r.frequency.setValueAtTime(c,b.start);r.frequency.linearRampToValueAtTime(g[h],m);r.start(b.start);
r.stop(m);r.connect(l);r.onended=function(){l.disconnect()}});return h.return(l)})})};$jscomp.global.Object.defineProperties(Wb.prototype,{detune:{configurable:!0,enumerable:!0,set:function(a){this._detune=Math.pow(2,a/1200)}}});var Bb=function(a,b,d){this.volume=void 0===d?1:d;this.buffer=a;this.env=b;return this};$jscomp.inherits(Bb,Yd);Bb.fromSample=function(a,b,d){d=void 0===d?1:d;return gd(this,void 0,void 0,function r(){var c;return $jscomp.generator.createGenerator(r,function(r){return 1==
r.nextAddress?(c=Bb,r.yield(a,2)):r.return(new c(r.yieldResult,b,d))})})};Bb.prototype.scheduleNote=function(a,b){return gd(this,void 0,void 0,function h(){var c,e,f=this,g,k,l,m,x;return $jscomp.generator.createGenerator(h,function(h){c=Vb.midiNumberToFrequency(b.midiNumber);e=a.createBufferSource();e.buffer=f.buffer.buffer;e.loop=f.buffer.shouldLoop;g=c/f.buffer.freq;e.playbackRate.setValueAtTime(g,b.start);k=b.start+b.duration+(f.env.sustain||0);void 0!==b.endNote&&(l=Vb.midiNumberToFrequency(b.endNote),
m=l/f.buffer.freq,e.playbackRate.linearRampToValueAtTime(m,k));e.start(b.start);e.stop(k);x=Ic.createAdsrEnvelope(a,b.start,b.duration,f.env,f.volume);e.connect(x);e.onended=function(){x.disconnect()};return h.return(x)})})};var ha;(function(a){function b(a,b){return Math.random()*(b-a)+a}function d(a,d){return Math.floor(b(a,d))}a.realBetween=b;a.intBetween=d;a.fromArray=function(a){return a[d(0,a.length)]};a.bool=function(a){return Math.random()<(void 0===a?.5:a)};a.fromWeightedArray=function(a){var b=
a.map(function(a){return a[0]}).reduce(function(a,b){return a+b},0);b*=Math.random();for(var d=$jscomp.makeIterator(a),c=d.next();!c.done;c=d.next()){var h=$jscomp.makeIterator(c.value);c=h.next().value;h=h.next().value;if(b<c)return h;b-=c}return a[a.length-1][1]}})(ha||(ha={}));var lb;(function(a){a.isNonEmpty=function(a){return 0<a.length};a.generate=function(a,d){for(var b=Array(a),c=0;c<a;c++)b[c]=d(c);return b};a.flatten=function(a){return a.reduce(function(a,b){return a.concat(b)},[])};a.partition=
function(a,d){var b=[],c=[];a=$jscomp.makeIterator(a);for(var e=a.next();!e.done;e=a.next())e=e.value,d(e)?b.push(e):c.push(e);return{yes:b,no:c}};a.repeat=function(a,d){for(var b=Array(d),c=0;c<d;c++)b[c]=a;return b}})(lb||(lb={}));var gb=W(),Ef=W(),Zd=W(),hd=W(),Cb=W(),pc;(function(a){function b(a){a=(a&1365)+(a>>>1&1365);a=(a&819)+(a>>>2&819);a=(a&3855)+(a>>>4&3855);return(a&255)+(a>>>8&255)}function d(a,b){b=da(void 0===b?1:b,12);return gb((a<<b|a>>>12-b)&4095)}function c(a){return 0!==(a&1)}
function e(a){var b=[],h=a;do c(h)&&b.push(h),h=d(h,1);while(h!==a);return b}function q(a,b){b=da(b,12);return 0!==(a&1<<b)}function f(a,b){b=da(b,12);a=e(a).filter(function(a){return q(a,b)}).length;return 6===b?a/2:a}function g(a){return e(a).filter(function(a){return!q(a,7)}).length}function k(a,b){return(a&b)===b}function l(a,d){var c=function(a,b){return a<b[0]||a>b[1]};return d.notes&&c(b(a),d.notes)||d.imperfections&&c(g(a),d.imperfections)||d.hemitones&&c(f(a,1),d.hemitones)||void 0!==d.chord&&
0!==d.chord&&!k(a,d.chord)?!1:!0}a.createScaleFromPitchClass=function(a){if(!a.includes(hd(0)))throw Error("scales must have a root");a=a.map(function(a){return 1<<da(a,12)}).filter(function(a,b,d){return d.indexOf(a)===b}).reduce(function(a,b){return a|b},0);return gb(a)};a.getPitchClass=function(a){for(var b=[],d=0;0!==a;a>>>=1,d++)a&1&&b.push(hd(d));return b};a.getNumberOfNotes=b;a.rotateScale=d;a.hasRoot=c;a.getModes=e;a.hasInterval=q;a.countInterval=f;a.getImperfections=g;a.containsScale=function(a,
b){return(a&b)===b};a.containsChord=k;var m=lb.flatten([e(gb(2741)),e(gb(2475)),e(gb(1367)),e(gb(2477)),e(gb(2485)),e(gb(2733)),e(gb(2669)),e(gb(2483))]);a.matchesQuery=l;a.getAllScalesMatchingQuery=function(a){return m.filter(function(b){return l(b,a)})};a.indexIntoPitchClass=function(a,b){var d=a[da(b,a.length)];return hd(d+12*Math.floor(b/a.length))}})(pc||(pc={}));var Kb=function(a){a=void 0===a?8:a;this.subdivision=[];this._beats=a;this.generateNewSubdivision(a)};Kb.prototype.generateTies=function(){for(var a=
0,b=[];a<this.subdivision.length;)a<this.subdivision.length-1&&ha.bool(.5)?(b.push(this.subdivision[a]+this.subdivision[a+1]),a+=2):(b.push(this.subdivision[a]),a++);return b};Kb.prototype.generateNewSubdivision=function(a){this._beats=a;this.subdivision=[];for(var b=Math.min.apply(Math,$jscomp.arrayFromIterable(Kb.divisions));a>=b;){var d=Kb.divisions.filter(function(b){return b<=a});d=ha.fromArray(d);a-=d;this.subdivision.push(d)}0<a&&this.subdivision.push(a)};$jscomp.global.Object.defineProperties(Kb.prototype,
{beats:{configurable:!0,enumerable:!0,get:function(){return this._beats}}});Kb.divisions=[2,3];var Ff=function(a,b,d,c){function h(a){return a instanceof d?a:new d(function(b){b(a)})}return new (d||(d=Promise))(function(d,e){function r(a){try{f(c.next(a))}catch(x){e(x)}}function q(a){try{f(c["throw"](a))}catch(x){e(x)}}function f(a){a.done?d(a.value):h(a.value).then(r,q)}f((c=c.apply(a,b||[])).next())})},mb;(function(a){a[a.KICK=0]="KICK";a[a.SNARE=1]="SNARE";a[a.CLOSED_HI_HAT=2]="CLOSED_HI_HAT";
a[a.OPEN_HI_HAT=3]="OPEN_HI_HAT"})(mb||(mb={}));var $d=function(a){this.samples=a;this.closedHiHat=Bb.fromSample(this.samples.white_noise,{attack:.01,decay:.05},.5);this.openHiHat=Bb.fromSample(this.samples.white_noise,{attack:.01,decay:.2},.5);this.snare=Bb.fromSample(this.samples.snare,{sustain:1},1.5);this.kick=Bb.fromSample(this.samples.kick,{sustain:1},1.5)};$d.prototype.scheduleHit=function(a,b,d){return Ff(this,void 0,void 0,function r(){var c,e,f=this,g,k,l,m,n,p;return $jscomp.generator.createGenerator(r,
function(r){switch(r.nextAddress){case 1:switch(d){case mb.KICK:return r.jumpTo(2);case mb.SNARE:return r.jumpTo(3);case mb.CLOSED_HI_HAT:return r.jumpTo(4);case mb.OPEN_HI_HAT:return r.jumpTo(5);default:ra(d)}r.jumpTo(0);break;case 2:return c=a,e={midiNumber:oc(69),start:b,duration:1},r.yield(f.kick,7);case 7:return r.return(r.yieldResult.scheduleNote(c,e));case 3:return g=a,k={midiNumber:oc(69),start:b,duration:1},r.yield(f.snare,8);case 8:return r.return(r.yieldResult.scheduleNote(g,k));case 4:return l=
a,m={midiNumber:oc(70),start:b,duration:.05},r.yield(f.closedHiHat,9);case 9:return r.return(r.yieldResult.scheduleNote(l,m));case 5:return n=a,p={midiNumber:oc(70),start:b,duration:.2},r.yield(f.openHiHat,10);case 10:return r.return(r.yieldResult.scheduleNote(n,p))}})})};m(2);var id=function(a,b,d,c){function h(a){return a instanceof d?a:new d(function(b){b(a)})}return new (d||(d=Promise))(function(d,e){function r(a){try{f(c.next(a))}catch(x){e(x)}}function q(a){try{f(c["throw"](a))}catch(x){e(x)}}
function f(a){a.done?d(a.value):h(a.value).then(r,q)}f((c=c.apply(a,b||[])).next())})},vb;(function(a){a.createBufferFromGenerator=function(a,d,c){a=a.createBuffer(1,d,44100);for(var b=new Float32Array(d),h=0;h<d;h++)b[h]=c(h);a.copyToChannel(b,0);return a};a.createBufferFromAudioData=function(a,d,c){return id(this,void 0,void 0,function q(){var b=this,h,e,f,g,k;return $jscomp.generator.createGenerator(q,function(q){switch(q.nextAddress){case 1:return h=b,e=a.createBuffer(1,d,44100),q.yield(fetch("assets/"+
c,{headers:new Headers({"Content-Type":"audio/ogg"})}).catch(function(a){return id(h,void 0,void 0,function Wc(){var b;return $jscomp.generator.createGenerator(Wc,function(d){if(1==d.nextAddress){if(!(a instanceof Response)){if(a instanceof Error)throw a;throw Error("Unknown error when fetching sample: "+a);}b=Error;return d.yield(a.text(),3)}throw new b(d.yieldResult);})})}),2);case 2:return f=q.yieldResult,q.yield(f.arrayBuffer(),3);case 3:return g=q.yieldResult,q.yield(new Promise(function(b,d){a.decodeAudioData(g,
b,d)}),4);case 4:return k=q.yieldResult,e.copyToChannel(k.getChannelData(0),0),q.return(e)}})})};a.makeSampleData=function(a){return id(this,void 0,void 0,function h(){var b,c,e,f;return $jscomp.generator.createGenerator(h,function(h){return 1==h.nextAddress?(b=a,c=b.buffer,e=b.shouldLoop,f=b.freq,h.yield(c,2)):h.return({buffer:h.yieldResult,shouldLoop:e,freq:f})})})}})(vb||(vb={}));var Xb=function(a,b,d,c){function h(a){return a instanceof d?a:new d(function(b){b(a)})}return new (d||(d=Promise))(function(d,
e){function r(a){try{q(c.next(a))}catch(x){e(x)}}function f(a){try{q(c["throw"](a))}catch(x){e(x)}}function q(a){a.done?d(a.value):h(a.value).then(r,f)}q((c=c.apply(a,b||[])).next())})},U;(function(a){a[a.DRUMS=0]="DRUMS";a[a.CHORDS=1]="CHORDS"})(U||(U={}));var ia;(function(a){a.TONIC="tonic";a.SUBDOMINANT="subdominant";a.DOMINANT="dominant";a.AMBIGUOUS="ambiguous"})(ia||(ia={}));var Yb;(function(a){function b(a,b,d){d=void 0===d?4:d;var c=pc.getPitchClass(a);a=ha.fromArray(t).map(function(a){return ha.fromArray(u[a])});
a.unshift(Cb(0));return a.map(function(a){return lb.generate(d,function(d){d=pc.indexIntoPitchClass(c,a+2*d);return Zd(b+d)})})}function d(){var a=p.rhythm.subdivision;return lb.flatten(a.map(function(b,d){for(var c=[0===d%2?mb.KICK:mb.SNARE],h=0;h<b-1;h++)d===a.length-1&&h===b-2?c.push(mb.OPEN_HI_HAT):c.push(mb.CLOSED_HI_HAT);return c}))}function c(b,d){return Xb(this,void 0,void 0,function Xc(){var c;return $jscomp.generator.createGenerator(Xc,function(h){if(1==h.nextAddress)return h.yield(a.drumkit.scheduleHit(a.context,
b,d),2);c=h.yieldResult;c.connect(a.masterGain);h.jumpToEnd()})})}function e(b,d){return Xb(this,void 0,void 0,function Xc(){var c;return $jscomp.generator.createGenerator(Xc,function(h){if(1==h.nextAddress)return h.yield(d.scheduleNote(a.context,b),2);c=h.yieldResult;c.connect(a.masterGain);h.jumpToEnd()})})}function f(){p.rhythm.generateNewSubdivision(ha.fromArray([5,6,7,8,9,11,13]));var a={chord:Ef(128),imperfections:[1,1]};a=pc.getAllScalesMatchingQuery(a);lb.isNonEmpty(a)&&(p.scale=ha.fromArray(a));
p.drumLoop=d();p.progression=b(p.scale,p.root);p.queue=[[U.CHORDS,U.DRUMS],[U.CHORDS,U.DRUMS],[U.CHORDS,U.DRUMS],[U.CHORDS,U.DRUMS],[U.CHORDS,U.DRUMS],[U.CHORDS,U.DRUMS],[U.CHORDS,U.DRUMS],[U.CHORDS,U.DRUMS],[U.DRUMS]]}function g(b){return Xb(this,void 0,void 0,function jc(){var d,c,h,r,f;return $jscomp.generator.createGenerator(jc,function(q){switch(q.nextAddress){case 1:d=p.progression[da(p.chordIndex,p.progression.length)],c=60/p.beatsPerMinute,h=$jscomp.makeIterator(d),r=h.next();case 2:if(r.done){q.jumpTo(4);
break}f=r.value;return q.yield(e({midiNumber:oc(da(f,12)+60),start:b,duration:c*p.rhythm.beats},a.instruments.pad),3);case 3:r=h.next();q.jumpTo(2);break;case 4:p.chordIndex++,q.jumpToEnd()}})})}function k(a){return Xb(this,void 0,void 0,function jc(){var b,d,h,e,r;return $jscomp.generator.createGenerator(jc,function(f){1==f.nextAddress&&(b=60/p.beatsPerMinute,d=0,h=$jscomp.makeIterator(p.drumLoop),e=h.next());if(5!=f.nextAddress){if(e.done)return f.jumpTo(0);r=e.value;return f.yield(c(a+d,r),5)}d+=
b;e=h.next();return f.jumpTo(2)})})}function l(b){return Xb(this,void 0,void 0,function jc(){var d,c,h,e,r,q,O;return $jscomp.generator.createGenerator(jc,function(n){switch(n.nextAddress){case 1:if(!m)return n.return();d=60/p.beatsPerMinute;0===p.queue.length&&f();c=d*p.rhythm.beats;h=p.queue.shift();if(!h){n.jumpTo(2);break}e=$jscomp.makeIterator(h);r=e.next();case 3:if(r.done){n.jumpTo(2);break}q=r.value;switch(q){case U.DRUMS:return n.jumpTo(6);case U.CHORDS:return n.jumpTo(7);default:ra(q)}n.jumpTo(4);
break;case 6:return n.yield(k(b),9);case 9:n.jumpTo(4);break;case 7:return n.yield(g(b),10);case 10:n.jumpTo(4);break;case 4:r=e.next();n.jumpTo(3);break;case 2:return O=b+c,n.yield(new Promise(function(b){window.setTimeout(b,1E3*(O-a.context.currentTime-.1))}),11);case 11:return n.return(l(O))}})})}var m=!1,n=void 0;a.context=function(){var a,b=window;if(b=null!==(a=b.AudioContext)&&void 0!==a?a:b.webkitAudioContext)return new b;throw Error("AudioContext is not supported");}();a.samples=na(a.context);
a.drumkit=new $d(a.samples);a.instruments={arp:new Wb({type:"sawtooth",detune:3},{attack:.01,decay:.05,sustain:0,release:.1}),bass:new Wb({type:"triangle",detune:2},{attack:.01,decay:.01,sustain:1,release:.1}),pad:new Wb({type:"triangle",detune:4},{attack:1,decay:.1,sustain:.5,release:.5})};a.masterGain=a.context.createGain();var p={beatsPerMinute:220,rhythm:new Kb,root:Zd(0),scale:gb(1857),progression:[],chordIndex:0,drumLoop:[],queue:[]},t=[[ia.TONIC,ia.SUBDOMINANT,ia.DOMINANT],[ia.SUBDOMINANT,
ia.SUBDOMINANT,ia.DOMINANT],[ia.SUBDOMINANT,ia.DOMINANT,ia.DOMINANT],[ia.AMBIGUOUS,ia.SUBDOMINANT,ia.DOMINANT],[ia.SUBDOMINANT,ia.DOMINANT,ia.AMBIGUOUS]],u={tonic:[Cb(0),Cb(5)],subdominant:[Cb(1),Cb(3)],dominant:[Cb(4),Cb(6)],ambiguous:[Cb(2)]};a.initialize=function(){m||(m=!0,a.masterGain.gain.value=hb.currentOptions.volume,a.masterGain.connect(a.context.destination),n=l(a.context.currentTime),n.catch(function(a){console.error("Music initialization failed:");console.error(a)}))};a.stop=function(){return Xb(this,
void 0,void 0,function Wc(){return $jscomp.generator.createGenerator(Wc,function(a){if(1==a.nextAddress){if(!m||void 0===n)return a.jumpTo(0);m=!1;return a.yield(n,3)}n=void 0;a.jumpToEnd()})})};a.isPlaying=function(){return m};a.setVolume=function(b){a.masterGain.gain.value=z(0,b,1)}})(Yb||(Yb={}));var tb=function(a,b,d){this.viewWidth=void 0===a?12:a;this.viewHeight=void 0===b?8:b;this.volume=void 0===d?.25:d};tb.defaultOptions=function(){return new tb};tb.schema=k.classOf({viewWidth:k.aNumber,
viewHeight:k.aNumber,volume:k.aNumber},function(a){return new tb(a.viewWidth,a.viewHeight,a.volume)});var hb;(function(a){function b(){var a=Ab.loadItem("settings",tb.schema);return"success"===(null===a||void 0===a?void 0:a.resultType)?a.result:tb.defaultOptions()}function d(a){Yb.setVolume(a.volume)}a.loadOptions=b;a.currentOptions=b();a.applySettings=d;a.saveOptions=function(b){a.currentOptions=b;d(a.currentOptions);Ab.saveItem("settings",b,tb.schema)};a.restoreDefaults=function(){a.saveOptions(tb.defaultOptions())}})(hb||
(hb={}));var qc=k.constrain(k.aNumber,function(a){return 1<=a&&5>=a}),u=function(a){this.position=a;this.possibleProjects=[];this.resourceConversions=[];this.populationCapacity=void 0};u.prototype.getTexture=function(a){return this.texture};var B={},Jc=k.schema({encode:function(a){return a.name},decode:function(a){return B[a]},validate:function(a){return k.aString.validate(a)&&a in B}}),Gf=k.schema({encode:function(a){var b=a.constructor.name;return{type:b,value:B[b].schema.encode(a)}},decode:function(a){return B[a.type].schema.decode(a.value)},
validate:function(a){return k.recordOf({type:k.aString,value:k.anAny}).validate(a)?B[a.type].schema.validate(a.value):!1}}),v=function(a,b){this.x=a;this.y=b};v.prototype.toString=function(){return"("+this.x+", "+this.y+")"};v.prototype.distanceFrom=function(a){return Math.hypot(Math.abs(this.x-a.x),Math.abs(this.y-a.y))};v.schema=k.classOf({x:k.aNumber,y:k.aNumber},function(a){return new v(a.x,a.y)});var ca=function(a,b){var d=this;this.parentScreen=a;this.world=b;this.viewWidth=hb.currentOptions.viewWidth;
this.viewHeight=hb.currentOptions.viewHeight;this.highlightedCoordinates=null;this.html=g.makeCanvas(this.viewWidth*ca.pixelsPerTile,this.viewHeight*ca.pixelsPerTile,["map-canvas"]);this.html.addEventListener("click",function(a){return d.handleClick(a)});this.refresh()};ca.prototype.refresh=function(){var a=this.world.getTilesInRectangle(this.world.viewPosition.x,this.world.viewPosition.y,this.viewWidth,this.viewHeight);a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())b=b.value,this.drawSquareAtCoordinates(b.getTexture(this.world),
b.position);null!==this.highlightedCoordinates&&this.drawSquareAtCoordinates(ca.highlightImage,this.highlightedCoordinates)};ca.prototype.drawSquareAtCoordinates=function(a,b){var d=this.html.getContext("2d");d.imageSmoothingEnabled=!1;var c=b.x-this.world.viewPosition.x;b=b.y-this.world.viewPosition.y;if(!(0>c||0>b||c>=this.viewWidth||b>=this.viewHeight)){var e=ca.pixelsPerTile/a.width*a.height;d.drawImage(a,c*ca.pixelsPerTile,b*ca.pixelsPerTile-e+ca.pixelsPerTile,ca.pixelsPerTile,e)}};ca.prototype.selectTile=
function(a){this.highlightedCoordinates=a?a.position:null;this.refresh();this.parentScreen.changeSidebarTile(this.highlightedCoordinates)};ca.prototype.moveViewArea=function(a,b){a=z(0,this.world.viewPosition.x+a,this.world.width-this.viewWidth);b=z(0,this.world.viewPosition.y+b,this.world.height-this.viewHeight);this.world.viewPosition=new v(a,b);this.refresh()};ca.prototype.handleClick=function(a){a=this.world.getTileAtCoordinates(new v(Math.floor(this.viewWidth/this.html.clientWidth*(a.pageX-this.html.offsetLeft))+
this.world.viewPosition.x,Math.floor(this.viewHeight/this.html.clientHeight*(a.pageY-this.html.offsetTop))+this.world.viewPosition.y));this.selectTile(a)};ca.prototype.handleKeyDown=function(a){var b=a.code;if("ArrowUp"===b||"KeyW"===b)a.preventDefault(),this.moveViewArea(0,-1);if("ArrowLeft"===b||"KeyA"===b)a.preventDefault(),this.moveViewArea(-1,0);if("ArrowDown"===b||"KeyS"===b)a.preventDefault(),this.moveViewArea(0,1);if("ArrowRight"===b||"KeyD"===b)a.preventDefault(),this.moveViewArea(1,0)};
ca.pixelsPerTile=100;ca.highlightImage=Je;var Lb=function(a,b){this.parentScreen=a;this.run=b;this.position=null;this.html=g.makeDiv(["world-screen-sidebar"]);this.refresh()};Lb.prototype.changeTile=function(a){this.position=a;this.refresh()};Lb.prototype.refresh=function(){var a=this;if(null===this.position)g.fillHTML(this.html,[g.makePara("No structure or terrain tile selected",["sidebar-tile-name"])]);else{var b=this.run.world.getTileAtCoordinates(this.position),d=g.makeDiv();b.populationCapacity&&
d.appendChild(g.makePara("Population capacity for "+b.populationCapacity.capacity+" "+b.populationCapacity.species.name));var c=g.makeDiv(),e=b.possibleProjects.filter(function(b){return b.isVisible(a.position,a.run)});e=$jscomp.makeIterator(e);for(var f=e.next();!f.done;f=e.next())c.appendChild(this.makeProjectHTML(b,f.value));e=g.makeDiv();if(0<b.resourceConversions.length){e.appendChild(g.makePara("Production:"));f=$jscomp.makeIterator(b.resourceConversions);for(var k=f.next();!k.done;k=f.next())e.appendChild(this.makeConversionHTML(k.value))}g.fillHTML(this.html,
[g.makePara(b.getTileName(),["sidebar-tile-name"]),g.makePara(b.getTileDescription()),d,e,c])}};Lb.prototype.makeProjectHTML=function(a,b){var d=this,c=g.makeDiv(["tile-project"]),e=g.makeButton(b.title,function(){d.doProject(b,a)},[],b.canDo(a.position,this.run)?"enabled":"disabled");c.appendChild(e);c.appendChild(g.makePara(b.projectDescription));if(0===b.costs.length)c.appendChild(g.makePara("Cost: Free"));else{var f=this.run.inventory.clone();e=b.costs.map(function(a){var b=f.canAfford([a]),d=
g.makePara(a.toString(),[b?"project-requirement-met":"project-requirement-unmet"]);b&&f.payCost([a]);return d});e=g.makeDivContaining([g.makePara("Costs: ")].concat($jscomp.arrayFromIterable(e)));c.appendChild(e)}0<b.completionRequirements.length&&c.appendChild(g.makePara("Requirements:"));e=$jscomp.makeIterator(b.completionRequirements);for(var k=e.next();!k.done;k=e.next()){k=k.value;var l=k.evaluate(this.run,this.position)?"project-requirement-met":"project-requirement-unmet";c.appendChild(g.makePara("- "+
k.toString(),[l]))}return c};Lb.prototype.makeConversionHTML=function(a){return g.makePara("- "+a.toString())};Lb.prototype.doProject=function(a,b){a.doAction(b.position,this.run);this.run.updateQuestState();this.parentScreen.refresh()};var jd=function(a){this.inventory=a.inventory;this.html=g.makeDiv(["world-screen-inventory"]);this.refresh()};jd.prototype.refresh=function(){for(var a=g.makeDiv(),b=$jscomp.makeIterator(this.inventory.getPopulationStrings()),d=b.next();!d.done;d=b.next())a.appendChild(g.makePara(d.value));
b=g.makeDiv();var c=$jscomp.makeIterator(this.inventory.getInventoryStrings());for(d=c.next();!d.done;d=c.next())b.appendChild(g.makePara(d.value));0===this.inventory.getResourceList().length&&b.appendChild(g.makePara("(none)"));g.fillHTML(this.html,[g.makeDivContaining([g.makeDivContaining([g.makeHeader("Population",1,[])],["world-screen-population-header"]),g.makePara("Available workers: "+this.inventory.getAvailableWorkers()),g.makePara("Total population:"+(0===this.inventory.getTotalPopulation()?
" 0":"")),a,g.makeHeader("Inventory",1),b])])};var kd=function(a){this.ending=a;this.html=g.makeDiv();this.refresh()};kd.prototype.refresh=function(){var a=g.makeHeader(this.ending.title),b=g.makePara(this.ending.description),d=g.makeButton("Exit",function(){K.show(new Oa)});g.fillHTML(this.html,[g.makeDivContaining([a,b,d],["ending-page"])])};var ld=function(a){this.html=g.makeDiv(["world-screen-quest-description"]);this.run=a;this.refresh()};ld.prototype.refresh=function(){var a=this,b=this.run.getCurrentQuestDescription(),
d=this.run.getCurrentQuestHint();b=g.makePara("Objective: "+(d?b+"\n(hint: "+d+")":b));d=this.run.getPreviousQuestDescription();this.run.questCompletionShown||(this.run.questCompletionShown=!0,b=g.makePara("Completed: "+d,["quest-description-emphasis"]),setTimeout(function(){var b=a.run.getQuestEndState();b?K.show(new kd(b)):a.refresh()},1500));g.fillHTML(this.html,[b])};var nb=function(a){this.mapUI=new ca(this,a.world);this.tileSidebar=new Lb(this,a);this.inventorySidebar=new jd(a);this.header=
new md(a);this.questIndicator=new ld(a);this.html=g.makeDivContaining([this.header.html,this.questIndicator.html,g.makeDivContaining([this.inventorySidebar.html,g.makeDivContaining([this.mapUI.html],["world-screen-map-box"]),this.tileSidebar.html],["world-screen-hbox"])],["flex-vertical","world-screen"])};nb.prototype.refresh=function(){this.mapUI.refresh();this.tileSidebar.refresh();this.inventorySidebar.refresh();this.header.refresh();this.questIndicator.refresh()};nb.prototype.handleKeyDown=function(a){this.mapUI.handleKeyDown(a)};
nb.prototype.changeSidebarTile=function(a){this.tileSidebar.changeTile(a)};var Zb;(function(a){a.safeKeys=function(a){return Object.keys(a)};a.safeEntries=function(a){return Object.entries(a)}})(Zb||(Zb={}));var l=function(a){this.name=a};l.values=function(){return Zb.safeKeys(l).map(function(a){return l[a]}).filter(function(a){return a instanceof l})};l.entries=function(){var a={};Zb.safeEntries(l).filter(function(a){return a[1]instanceof l}).forEach(function(b){var d=$jscomp.makeIterator(b);b=d.next().value;
d=d.next().value;a[b]=d});return a};l.Energy=new l("\u26a1 Energy");l.Food=new l("\ud83c\udf2f Food");l.Metal=new l("\u26cf Metal Ore");l.BuildingMaterials=new l("\ud83d\udd29 Construction Parts");l.Electronics=new l("\ud83d\udca1 Electronics");l.Cavorite=new l("\ud83d\udc8e Cavorite");l.Orichalcum=new l("\ud83e\uddea Orichalcum");l.Superconductor=new l("\ud83e\uddf5 Superconductor");l.SmartMatter=new l("\ud83d\udca0 SmartMatter");l.EngineeringKnowledge=new l("\u2699\ufe0f Engineering Data");l.PsychKnowledge=
new l("\ud83e\udde0 Psychological Data");l.AlienKnowledge=new l("\ud83d\udef8 Alien Data");l.AlignmentKnowledge=new l("\ud83d\udcce AI Alignment Data");l.schema=k.mapping(l.entries());var n=function(a,b){this.resource=a;this.quantity=b};n.prototype.toString=function(){return this.resource.name+" x"+this.quantity};n.schema=k.classOf({resource:l.schema,quantity:k.aNumber},function(a){return new n(a.resource,a.quantity)});var y=function(a,b,d,c){this.inputs=a;this.outputs=b;this.requiredWorkers=d;this.priority=
c;this.enabled=!0};y.newConversion=function(a,b,d){a=new y(a,b,void 0===d?0:d,y.nextNumber);y.nextNumber++;return a};y.prototype.toString=function(){var a=this.outputs.map(function(a){return a.toString()}).join(", "),b=this.inputs.map(function(a){return a.toString()});0!==this.requiredWorkers&&b.push(this.requiredWorkers+" workers");var d=b.join(", ");return 0===b.length?"Produce "+a:"Produce "+a+" using "+d};y.unsafeGetNextPriority=function(){return y.nextNumber};y.unsafeSetNextPriority=function(a){y.nextNumber=
a};y.nextNumber=0;y.schema=k.classOf({priority:k.aNumber,enabled:k.aBoolean,inputs:k.arrayOf(n.schema),outputs:k.nonEmptyArrayOf(n.schema),requiredWorkers:k.aNumber},function(a){var b=a.enabled;a=new y(a.inputs,a.outputs,a.requiredWorkers,a.priority);a.enabled=b;return a});var ae=function(a){this.run=a;this.html=g.makeDiv(["main-menu","pause-menu"]);this.refresh()};ae.prototype.refresh=function(){var a=this;g.fillHTML(this.html,[g.makeHeader("Game Paused",2),g.makeDivContaining([g.makeButton("resume_game",
function(){K.show(new nb(a.run))}),Oa.makeAudioButton(this),g.makeButton("change_settings",function(){K.show(new rc(a))}),g.makeButton("save_and_quit",function(){Db.saveProgress({game:a.run,nextConversionPriority:y.unsafeGetNextPriority()});K.show(new Oa)})],["main-menu-options"])])};var F=function(a,b){this.text=a;this.attribution=b};F.getRandomQuote=function(){return ha.fromArray(this.QuotesList)};F.getQuote=function(a){return this.QuotesList[a]};F.QuotesList=[new F(w($jscomp$templatelit$0),"Nick Bostrom"),
new F(w($jscomp$templatelit$1),"Nick Bostrom"),new F(w($jscomp$templatelit$2),"Eliezer Yudkowsky"),new F(w($jscomp$templatelit$3),"Claude Shannon"),new F(w($jscomp$templatelit$4),"Greg Egan"),new F(w($jscomp$templatelit$5),"Eliezer Yudkowsky"),new F(w($jscomp$templatelit$6),"Alan Turing"),new F(w($jscomp$templatelit$7),"Buzz Aldrin"),new F(w($jscomp$templatelit$8),"Dawn Program mission proposal, published 10942214400 SPE"),new F(w($jscomp$templatelit$9),"Isaac Calvin, CEO of CabiAI"),new F(w($jscomp$templatelit$10),
"Sol Unified Newsfeed, article published 10963335600 SPE"),new F(w($jscomp$templatelit$11),"Aurora Mission Colonist Handbook"),new F(w($jscomp$templatelit$12),"Aurora Mission Colonist Handbook"),new F(w($jscomp$templatelit$13),"A History of the Colonial Alliance by Elizabeth Seldon"),new F(w($jscomp$templatelit$14),"A History of the Colonial Alliance by Elizabeth Seldon"),new F(w($jscomp$templatelit$15),"A History of the Colonial Alliance by Elizabeth Seldon"),new F(w($jscomp$templatelit$16),"Medical Technician Noah Verres, Aurora Expedition, T-minus-5 days to planetfall"),
new F(w($jscomp$templatelit$17),"Quartermaster Allison Li, Aurora Expedition, T-minus-3 days to planetfall"),new F(w($jscomp$templatelit$18),"Journal of the Moretrue Institute for Effective Policy"),new F(w($jscomp$templatelit$19),"Introduction to Frontier Engineering by Robin North"),new F(w($jscomp$templatelit$20),"Dr. Alex Scott, Moretrue Institute for Effective Policy"),new F(w($jscomp$templatelit$21),"An Oral History of The Lunar Republics"),new F(w($jscomp$templatelit$22),"Harmony of the Exospheres by Caritas Wilson"),
new F(w($jscomp$templatelit$23),"Harmony of the Exospheres by Caritas Wilson"),new F(w($jscomp$templatelit$24),"Harmony of the Exospheres by Caritas Wilson"),new F(w($jscomp$templatelit$25),"Harmony of the Exospheres by Caritas Wilson"),new F(w($jscomp$templatelit$26),"Zeroball, Etc. by Parity Harker"),new F(w($jscomp$templatelit$27),"Zeroball, Etc. by Parity Harker"),new F(w($jscomp$templatelit$28),"Journal of the Moretrue Institute for Effective Policy"),new F(w($jscomp$templatelit$29),"Introduction to Frontier Engineering by Robin North"),
new F(w($jscomp$templatelit$30),"Dr. Alex Scott, Moretrue Institute for Effective Policy"),new F(w($jscomp$templatelit$31),"An Oral History of The Lunar Republics")];var $b=function(a,b){this.run=a;this.quoteIndex=b;this.doneLoading=!1;this.html=g.makeDiv();this.loadingBar=g.makeDiv(["transition-loading-bar"]);this.loadingArea=g.makeDivContaining([this.loadingBar],["transition-loading-area"]);this.quote=b?F.getQuote(b):F.getRandomQuote();a=this.quote.text;b="\u00a0".repeat(4);a=a.replace(/\t/g,b);
a=a.replace(/ {4}/g,b);a=a.replace(/^(\s*)/,"$1\u201c")+"\u201d";g.fillHTML(this.html,[g.makeDivContaining([g.makePara(a),g.makePara("- "+this.quote.attribution,["transition-attribution"])],["transition-quote-panel"]),this.loadingArea])};$b.prototype.refresh=function(){};$b.prototype.startLoading=function(){var a=this,b=Date.now();this.run.completeTurn();Db.saveProgress({game:this.run,nextConversionPriority:y.unsafeGetNextPriority()});b=Date.now()-b;setTimeout(function(){g.fillHTML(a.loadingArea,
[g.makeButton("Continue",function(){a.continueToNextTurn()})]);a.doneLoading=!0},2E3-b)};$b.prototype.continueToNextTurn=function(){K.show(new nb(this.run))};$b.prototype.handleKeyDown=function(){this.doneLoading&&this.continueToNextTurn()};var qb=pb(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),kc=pb(/Edge/i),be=pb(/firefox/i),nd=pb(/safari/i)&&!pb(/chrome/i)&&!pb(/android/i),sc=pb(/iP(ad|od|hone)/i),Hf=pb(/chrome/i)&&pb(/android/i),Dd={capture:!1,passive:!1},Ed=/\s+/g,hc,Ga="Sortable"+
(new Date).getTime(),tc=[],od={initializeByDefault:!0},lc={mount:function(a){for(var b in od)!od.hasOwnProperty(b)||b in a||(a[b]=od[b]);tc.push(a)},pluginEvent:function(a,b,d){var c=this;this.eventCanceled=!1;d.cancel=function(){c.eventCanceled=!0};var e=a+"Global";tc.forEach(function(c){if(b[c.pluginName]){if(b[c.pluginName][e])b[c.pluginName][e](ub({sortable:b},d));if(b.options[c.pluginName]&&b[c.pluginName][a])b[c.pluginName][a](ub({sortable:b},d))}})},initializePlugins:function(a,b,d,c){tc.forEach(function(c){var h=
c.pluginName;if(a.options[h]||c.initializeByDefault)c=new c(a,b,a.options),c.sortable=a,c.options=a.options,a[h]=c,ob(d,c.defaults)});for(var h in a.options)a.options.hasOwnProperty(h)&&(c=this.modifyOption(a,h,a.options[h]),"undefined"!==typeof c&&(a.options[h]=c))},getEventProperties:function(a,b){var d={};tc.forEach(function(c){"function"===typeof c.eventProperties&&ob(d,c.eventProperties.call(b[c.pluginName],a))});return d},modifyOption:function(a,b,d){var c;tc.forEach(function(h){a[h.pluginName]&&
h.optionListeners&&"function"===typeof h.optionListeners[b]&&(c=h.optionListeners[b].call(a[h.pluginName],d))});return c}},ya=function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},c=d.evt;d=Tc(d,["evt"]);lc.pluginEvent.bind(E)(a,b,ub({dragEl:t,parentEl:Y,ghostEl:G,rootEl:R,nextEl:Mb,lastDownEl:Kc,cloneEl:S,cloneHidden:Eb,dragStarted:uc,putSortable:fa,activeSortable:E.active,originalEvent:c,oldIndex:Sb,oldDraggableIndex:ic,newIndex:Fa,newDraggableIndex:xb,hideGhostForTarget:ce,
unhideGhostForTarget:de,cloneNowHidden:function(){Eb=!0},cloneNowShown:function(){Eb=!1},dispatchSortableEvent:function(a){ta({sortable:b,name:a,originalEvent:c})}},d))},t,Y,G,R,Mb,Kc,S,Eb,Sb,Fa,ic,xb,Lc,fa,ac=!1,Mc=!1,Bc=[],Nb,ib,pd,qd,ee,fe,uc,bc,nc,mc=!1,Nc=!1,Cc,oa,rd=[],$c=!1,Dc=[],Oc="undefined"!==typeof document,ge=kc||qb?"cssFloat":"float",ze=Oc&&!Hf&&!sc&&"draggable"in document.createElement("div"),he=function(){if(Oc){if(qb)return!1;var a=document.createElement("x");a.style.cssText="pointer-events:auto";
return"auto"===a.style.pointerEvents}}(),Ld=function(a,b){var d=D(a),c=parseInt(d.width)-parseInt(d.paddingLeft)-parseInt(d.paddingRight)-parseInt(d.borderLeftWidth)-parseInt(d.borderRightWidth),e=zc(a,0,b);a=zc(a,1,b);var f=e&&D(e);b=a&&D(a);var k=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+ea(e).width,g=b&&parseInt(b.marginLeft)+parseInt(b.marginRight)+ea(a).width;return"flex"===d.display?"column"===d.flexDirection||"column-reverse"===d.flexDirection?"vertical":"horizontal":"grid"===d.display?
1>=d.gridTemplateColumns.split(" ").length?"vertical":"horizontal":e&&f["float"]&&"none"!==f["float"]?(d="left"===f["float"]?"left":"right",!a||"both"!==b.clear&&b.clear!==d?"horizontal":"vertical"):e&&("block"===f.display||"flex"===f.display||"table"===f.display||"grid"===f.display||k>=c&&"none"===d[ge]||a&&"none"===d[ge]&&k+g>c)?"vertical":"horizontal"},If=function(a,b,d){var c=d?a.left:a.top,e=d?a.right:a.bottom;a=d?a.width:a.height;var f=d?b.left:b.top,k=d?b.right:b.bottom;b=d?b.width:b.height;
return c===f||e===k||c+a/2===f+b/2},Jf=function(a,b){var d;Bc.some(function(c){if(!Uc(c)){var h=ea(c),e=c[Ga].options.emptyInsertThreshold,f=a>=h.left-e&&a<=h.right+e;h=b>=h.top-e&&b<=h.bottom+e;if(e&&f&&h)return d=c}});return d},Md=function(a){function b(a,d){return function(c,h,e,f){var r=c.options.group.name&&h.options.group.name&&c.options.group.name===h.options.group.name;if(null==a&&(d||r))return!0;if(null==a||!1===a)return!1;if(d&&"clone"===a)return a;if("function"===typeof a)return b(a(c,
h,e,f),d)(c,h,e,f);c=(d?c:h).options.group.name;return!0===a||"string"===typeof a&&a===c||a.join&&-1<a.indexOf(c)}}var d={},c=a.group;c&&"object"==fc(c)||(c={name:c});d.name=c.name;d.checkPull=b(c.pull,!0);d.checkPut=b(c.put);d.revertClone=c.revertClone;a.group=d},ce=function(){!he&&G&&D(G,"display","none")},de=function(){!he&&G&&D(G,"display","")};Oc&&document.addEventListener("click",function(a){if(Mc)return a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),
Mc=!1},!0);var Ob=function(a){if(t){a=a.touches?a.touches[0]:a;var b=Jf(a.clientX,a.clientY);if(b){var d={},c;for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);d.target=d.rootEl=b;d.preventDefault=void 0;d.stopPropagation=void 0;b[Ga]._onDragOver(d)}}},Kf=function(a){t&&t.parentNode[Ga]._isOutsideThisEl(a.target)};E.prototype={constructor:E,_isOutsideThisEl:function(a){this.el.contains(a)||a===this.el||(bc=null)},_getDirection:function(a,b){return"function"===typeof this.options.direction?this.options.direction.call(this,
a,b,t):this.options.direction},_onTapStart:function(a){if(a.cancelable){var b=this,d=this.el,c=this.options,e=c.preventOnFilter,f=a.type,k=a.touches&&a.touches[0]||a.pointerType&&"touch"===a.pointerType&&a,g=(k||a).target,l=a.target.shadowRoot&&(a.path&&a.path[0]||a.composedPath&&a.composedPath()[0])||g,m=c.filter;Ee(d);if(!(t||/mousedown|pointerdown/.test(f)&&0!==a.button||c.disabled||l.isContentEditable||(g=kb(g,c.draggable,d,!1),g&&g.animated||Kc===g))){Sb=Na(g);ic=Na(g,c.draggable);if("function"===
typeof m){if(m.call(this,a,g,this)){ta({sortable:b,rootEl:l,name:"filter",targetEl:g,toEl:d,fromEl:d});ya("filter",b,{evt:a});e&&a.cancelable&&a.preventDefault();return}}else if(m&&(m=m.split(",").some(function(c){if(c=kb(l,c.trim(),d,!1))return ta({sortable:b,rootEl:c,name:"filter",targetEl:g,fromEl:d,toEl:d}),ya("filter",b,{evt:a}),!0}))){e&&a.cancelable&&a.preventDefault();return}c.handle&&!kb(l,c.handle,d,!1)||this._prepareDragStart(a,k,g)}}},_prepareDragStart:function(a,b,d){var c=this,e=c.el,
f=c.options,g=e.ownerDocument;if(d&&!t&&d.parentNode===e){var k=ea(d);R=e;t=d;Y=t.parentNode;Mb=t.nextSibling;Kc=d;Lc=f.group;E.dragged=t;Nb={target:t,clientX:(b||a).clientX,clientY:(b||a).clientY};ee=Nb.clientX-k.left;fe=Nb.clientY-k.top;this._lastX=(b||a).clientX;this._lastY=(b||a).clientY;t.style["will-change"]="all";d=function(){ya("delayEnded",c,{evt:a});E.eventCanceled?c._onDrop():(c._disableDelayedDragEvents(),!be&&c.nativeDraggable&&(t.draggable=!0),c._triggerDragStart(a,b),ta({sortable:c,
name:"choose",originalEvent:a}),Ea(t,f.chosenClass,!0))};f.ignore.split(",").forEach(function(a){Fd(t,a.trim(),Zc)});L(g,"dragover",Ob);L(g,"mousemove",Ob);L(g,"touchmove",Ob);L(g,"mouseup",c._onDrop);L(g,"touchend",c._onDrop);L(g,"touchcancel",c._onDrop);be&&this.nativeDraggable&&(this.options.touchStartThreshold=4,t.draggable=!0);ya("delayStart",this,{evt:a});!f.delay||f.delayOnTouchOnly&&!b||this.nativeDraggable&&(kc||qb)?d():E.eventCanceled?this._onDrop():(L(g,"mouseup",c._disableDelayedDrag),
L(g,"touchend",c._disableDelayedDrag),L(g,"touchcancel",c._disableDelayedDrag),L(g,"mousemove",c._delayedDragTouchMoveHandler),L(g,"touchmove",c._delayedDragTouchMoveHandler),f.supportPointer&&L(g,"pointermove",c._delayedDragTouchMoveHandler),c._dragStartTimer=setTimeout(d,f.delay))}},_delayedDragTouchMoveHandler:function(a){a=a.touches?a.touches[0]:a;Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||
1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){t&&Zc(t);clearTimeout(this._dragStartTimer);this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var a=this.el.ownerDocument;I(a,"mouseup",this._disableDelayedDrag);I(a,"touchend",this._disableDelayedDrag);I(a,"touchcancel",this._disableDelayedDrag);I(a,"mousemove",this._delayedDragTouchMoveHandler);I(a,"touchmove",this._delayedDragTouchMoveHandler);I(a,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(a,
b){b=b||"touch"==a.pointerType&&a;!this.nativeDraggable||b?this.options.supportPointer?L(document,"pointermove",this._onTouchMove):b?L(document,"touchmove",this._onTouchMove):L(document,"mousemove",this._onTouchMove):(L(t,"dragend",this),L(R,"dragstart",this._onDragStart));try{document.selection?Ec(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(d){}},_dragStarted:function(a,b){ac=!1;if(R&&t){ya("dragStarted",this,{evt:b});this.nativeDraggable&&L(document,"dragover",
Kf);var d=this.options;!a&&Ea(t,d.dragClass,!1);Ea(t,d.ghostClass,!0);E.active=this;a&&this._appendGhost();ta({sortable:this,name:"start",originalEvent:b})}else this._nulling()},_emulateDragOver:function(){if(ib){this._lastX=ib.clientX;this._lastY=ib.clientY;ce();for(var a=document.elementFromPoint(ib.clientX,ib.clientY),b=a;a&&a.shadowRoot;){a=a.shadowRoot.elementFromPoint(ib.clientX,ib.clientY);if(a===b)break;b=a}t.parentNode[Ga]._isOutsideThisEl(a);if(b){do{if(b[Ga]&&b[Ga]._onDragOver({clientX:ib.clientX,
clientY:ib.clientY,target:a,rootEl:b})&&!this.options.dragoverBubble)break;a=b}while(b=b.parentNode)}de()}},_onTouchMove:function(a){if(Nb){var b=this.options,d=b.fallbackTolerance,c=b.fallbackOffset;b=a.touches?a.touches[0]:a;var e=G&&Rb(G,!0),f=G&&e&&e.a,g=G&&e&&e.d,k=sc&&oa&&Hd(oa);f=(b.clientX-Nb.clientX+c.x)/(f||1)+(k?k[0]-rd[0]:0)/(f||1);c=(b.clientY-Nb.clientY+c.y)/(g||1)+(k?k[1]-rd[1]:0)/(g||1);if(!E.active&&!ac){if(d&&Math.max(Math.abs(b.clientX-this._lastX),Math.abs(b.clientY-this._lastY))<
d)return;this._onDragStart(a,!0)}G&&(e?(e.e+=f-(pd||0),e.f+=c-(qd||0)):e={a:1,b:0,c:0,d:1,e:f,f:c},d="matrix(".concat(e.a,",").concat(e.b,",").concat(e.c,",").concat(e.d,",").concat(e.e,",").concat(e.f,")"),D(G,"webkitTransform",d),D(G,"mozTransform",d),D(G,"msTransform",d),D(G,"transform",d),pd=f,qd=c,ib=b);a.cancelable&&a.preventDefault()}},_appendGhost:function(){if(!G){var a=this.options.fallbackOnBody?document.body:R,b=ea(t,!0,sc,!0,a),d=this.options;if(sc){for(oa=a;"static"===D(oa,"position")&&
"none"===D(oa,"transform")&&oa!==document;)oa=oa.parentNode;oa!==document.body&&oa!==document.documentElement?(oa===document&&(oa=rb()),b.top+=oa.scrollTop,b.left+=oa.scrollLeft):oa=rb();rd=Hd(oa)}G=t.cloneNode(!0);Ea(G,d.ghostClass,!1);Ea(G,d.fallbackClass,!0);Ea(G,d.dragClass,!0);D(G,"transition","");D(G,"transform","");D(G,"box-sizing","border-box");D(G,"margin",0);D(G,"top",b.top);D(G,"left",b.left);D(G,"width",b.width);D(G,"height",b.height);D(G,"opacity","0.8");D(G,"position",sc?"absolute":
"fixed");D(G,"zIndex","100000");D(G,"pointerEvents","none");E.ghost=G;a.appendChild(G);D(G,"transform-origin",ee/parseInt(G.style.width)*100+"% "+fe/parseInt(G.style.height)*100+"%")}},_onDragStart:function(a,b){var d=this,c=a.dataTransfer,e=d.options;ya("dragStart",this,{evt:a});E.eventCanceled?this._onDrop():(ya("setupClone",this),E.eventCanceled||(S=Kd(t),S.draggable=!1,S.style["will-change"]="",this._hideClone(),Ea(S,this.options.chosenClass,!1),E.clone=S),d.cloneId=Ec(function(){ya("clone",d);
E.eventCanceled||(d.options.removeCloneOnHide||R.insertBefore(S,t),d._hideClone(),ta({sortable:d,name:"clone"}))}),!b&&Ea(t,e.dragClass,!0),b?(Mc=!0,d._loopId=setInterval(d._emulateDragOver,50)):(I(document,"mouseup",d._onDrop),I(document,"touchend",d._onDrop),I(document,"touchcancel",d._onDrop),c&&(c.effectAllowed="move",e.setData&&e.setData.call(d,c,t)),L(document,"drop",d),D(t,"transform","translateZ(0)")),ac=!0,d._dragStartId=Ec(d._dragStarted.bind(d,b,a)),L(document,"selectstart",d),uc=!0,nd&&
D(document.body,"user-select","none"))},_onDragOver:function(a){function b(b,d){ya(b,y,ub({evt:a,isOwner:u,axis:B?"vertical":"horizontal",revert:l,dragRect:F,targetRect:k,canSort:v,fromSortable:w,target:g,completed:c,onMove:function(b,d){return Yc(R,f,t,F,b,ea(b),a,d)},changed:e},d))}function d(){b("dragOverAnimationCapture");y.captureAnimationState();y!==w&&w.captureAnimationState()}function c(d){b("dragOverCompleted",{insertion:d});d&&(u?p._hideClone():p._showClone(y),y!==w&&(Ea(t,fa?fa.options.ghostClass:
p.options.ghostClass,!1),Ea(t,m.ghostClass,!0)),fa!==y&&y!==E.active?fa=y:y===E.active&&fa&&(fa=null),w===y&&(y._ignoreWhileAnimating=g),y.animateAll(function(){b("dragOverAnimationComplete");y._ignoreWhileAnimating=null}),y!==w&&(w.animateAll(),w._ignoreWhileAnimating=null));if(g===t&&!t.animated||g===f&&!g.animated)bc=null;m.dragoverBubble||a.rootEl||g===document||(t.parentNode[Ga]._isOutsideThisEl(a.target),!d&&Ob(a));!m.dragoverBubble&&a.stopPropagation&&a.stopPropagation();return C=!0}function e(){Fa=
Na(t);xb=Na(t,m.draggable);ta({sortable:y,name:"change",toEl:f,newIndex:Fa,newDraggableIndex:xb,originalEvent:a})}var f=this.el,g=a.target,k,l,m=this.options,n=m.group,p=E.active,u=Lc===n,v=m.sort,w=fa||p,y=this,C=!1;if(!$c){void 0!==a.preventDefault&&a.cancelable&&a.preventDefault();g=kb(g,m.draggable,f,!0);b("dragOver");if(E.eventCanceled)return C;if(t.contains(a.target)||g.animated&&g.animatingX&&g.animatingY||y._ignoreWhileAnimating===g)return c(!1);Mc=!1;if(p&&!m.disabled&&(u?v||(l=!R.contains(t)):
fa===this||(this.lastPutMode=Lc.checkPull(this,p,t,a))&&n.checkPut(this,p,t,a))){var B="vertical"===this._getDirection(a,g);var F=ea(t);b("dragOverValid");if(E.eventCanceled)return C;if(l)return Y=R,d(),this._hideClone(),b("revert"),E.eventCanceled||(Mb?R.insertBefore(t,Mb):R.appendChild(t)),c(!0);n=Uc(f,m.draggable);if(!n||Be(a,B,this)&&!n.animated){if(n===t)return c(!1);n&&f===a.target&&(g=n);g&&(k=ea(g));if(!1!==Yc(R,f,t,F,g,k,a,!!g))return d(),f.appendChild(t),Y=f,e(),c(!0)}else if(g.parentNode===
f){k=ea(g);var A=0;A=t.parentNode!==f;var z=!If(t.animated&&t.toRect||F,g.animated&&g.toRect||k,B);n=B?"top":"left";var I=Gd(g,"top","top")||Gd(t,"top","top"),K=I?I.scrollTop:void 0;if(bc!==g){var J=k[n];mc=!1;Nc=!z&&m.invertSwap||A}A=Ce(a,g,k,B,z?1:m.swapThreshold,null==m.invertedSwapThreshold?m.swapThreshold:m.invertedSwapThreshold,Nc,bc===g);if(0!==A){z=Na(t);do{z-=A;var H=Y.children[z]}while(H&&("none"===D(H,"display")||H===G))}if(0===A||H===g)return c(!1);bc=g;nc=A;H=g.nextElementSibling;z=!1;
z=1===A;A=Yc(R,f,t,F,g,k,a,z);if(!1!==A){if(1===A||-1===A)z=1===A;$c=!0;setTimeout(Ae,30);d();z&&!H?f.appendChild(t):g.parentNode.insertBefore(t,z?H:g);I&&Jd(I,0,K-I.scrollTop);Y=t.parentNode;void 0===J||Nc||(Cc=Math.abs(J-ea(g)[n]));e();return c(!0)}}if(f.contains(t))return c(!1)}return!1}},_ignoreWhileAnimating:null,_offMoveEvents:function(){I(document,"mousemove",this._onTouchMove);I(document,"touchmove",this._onTouchMove);I(document,"pointermove",this._onTouchMove);I(document,"dragover",Ob);I(document,
"mousemove",Ob);I(document,"touchmove",Ob)},_offUpEvents:function(){var a=this.el.ownerDocument;I(a,"mouseup",this._onDrop);I(a,"touchend",this._onDrop);I(a,"pointerup",this._onDrop);I(a,"touchcancel",this._onDrop);I(document,"selectstart",this)},_onDrop:function(a){var b=this.el,d=this.options;Fa=Na(t);xb=Na(t,d.draggable);ya("drop",this,{evt:a});Y=t&&t.parentNode;Fa=Na(t);xb=Na(t,d.draggable);if(!E.eventCanceled&&(mc=Nc=ac=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),clearTimeout(this.cloneId),
clearTimeout(this._dragStartId),this.nativeDraggable&&(I(document,"drop",this),I(b,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),nd&&D(document.body,"user-select",""),D(t,"transform",""),a&&(uc&&(a.cancelable&&a.preventDefault(),!d.dropBubble&&a.stopPropagation()),G&&G.parentNode&&G.parentNode.removeChild(G),(R===Y||fa&&"clone"!==fa.lastPutMode)&&S&&S.parentNode&&S.parentNode.removeChild(S),t&&(this.nativeDraggable&&I(t,"dragend",this),Zc(t),t.style["will-change"]="",uc&&
!ac&&Ea(t,fa?fa.options.ghostClass:this.options.ghostClass,!1),Ea(t,this.options.chosenClass,!1),ta({sortable:this,name:"unchoose",toEl:Y,newIndex:null,newDraggableIndex:null,originalEvent:a}),R!==Y?(0<=Fa&&(ta({rootEl:Y,name:"add",toEl:Y,fromEl:R,originalEvent:a}),ta({sortable:this,name:"remove",toEl:Y,originalEvent:a}),ta({rootEl:Y,name:"sort",toEl:Y,fromEl:R,originalEvent:a}),ta({sortable:this,name:"sort",toEl:Y,originalEvent:a})),fa&&fa.save()):Fa!==Sb&&0<=Fa&&(ta({sortable:this,name:"update",
toEl:Y,originalEvent:a}),ta({sortable:this,name:"sort",toEl:Y,originalEvent:a})),E.active)))){if(null==Fa||-1===Fa)Fa=Sb,xb=ic;ta({sortable:this,name:"end",toEl:Y,originalEvent:a});this.save()}this._nulling()},_nulling:function(){ya("nulling",this);R=t=Y=G=Mb=S=Kc=Eb=Nb=ib=uc=Fa=xb=Sb=ic=bc=nc=fa=Lc=E.dragged=E.ghost=E.clone=E.active=null;Dc.forEach(function(a){a.checked=!0});Dc.length=pd=qd=0},handleEvent:function(a){switch(a.type){case "drop":case "dragend":this._onDrop(a);break;case "dragenter":case "dragover":t&&
(this._onDragOver(a),a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.cancelable&&a.preventDefault());break;case "selectstart":a.preventDefault()}},toArray:function(){for(var a=[],b,d=this.el.children,c=0,e=d.length,f=this.options;c<e;c++)b=d[c],kb(b,f.draggable,this.el,!1)&&a.push(b.getAttribute(f.dataIdAttr)||De(b));return a},sort:function(a){var b={},d=this.el;this.toArray().forEach(function(a,c){c=d.children[c];kb(c,this.options.draggable,d,!1)&&(b[a]=c)},this);a.forEach(function(a){b[a]&&
(d.removeChild(b[a]),d.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set&&a.set(this)},closest:function(a,b){return kb(a,b||this.options.draggable,this.el,!1)},option:function(a,b){var d=this.options;if(void 0===b)return d[a];var c=lc.modifyOption(this,a,b);d[a]="undefined"!==typeof c?c:b;"group"===a&&Md(d)},destroy:function(){ya("destroy",this);var a=this.el;a[Ga]=null;I(a,"mousedown",this._onTapStart);I(a,"touchstart",this._onTapStart);I(a,"pointerdown",this._onTapStart);this.nativeDraggable&&
(I(a,"dragover",this),I(a,"dragenter",this));Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")});this._onDrop();this._disableDelayedDragEvents();Bc.splice(Bc.indexOf(this.el),1);this.el=a=null},_hideClone:function(){Eb||(ya("hideClone",this),E.eventCanceled||(D(S,"display","none"),this.options.removeCloneOnHide&&S.parentNode&&S.parentNode.removeChild(S),Eb=!0))},_showClone:function(a){"clone"!==a.lastPutMode?this._hideClone():Eb&&(ya("showClone",
this),E.eventCanceled||(R.contains(t)&&!this.options.group.revertClone?R.insertBefore(S,t):Mb?R.insertBefore(S,Mb):R.appendChild(S),this.options.group.revertClone&&this.animate(t,S),D(S,"display",""),Eb=!1))}};Oc&&L(document,"touchmove",function(a){(E.active||ac)&&a.cancelable&&a.preventDefault()});E.utils={on:L,off:I,css:D,find:Fd,is:function(a,b){return!!kb(a,b,a,!1)},extend:function(a,b){if(a&&b)for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a},throttle:Id,closest:kb,toggleClass:Ea,clone:Kd,
index:Na,nextTick:Ec,cancelNextTick:function(a){return clearTimeout(a)},detectDirection:Ld,getChild:zc};E.get=function(a){return a[Ga]};E.mount=function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];b[0].constructor===Array&&(b=b[0]);b.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(E.utils=ub({},E.utils,a.utils));lc.mount(a)})};E.create=function(a,b){return new E(a,
b)};E.version="1.10.2";var X=[],vc,sd,td=!1,ud,vd,Pc,cc,wd=Id(function(a,b,d,c){if(b.scroll){var e=(a.touches?a.touches[0]:a).clientX,h=(a.touches?a.touches[0]:a).clientY,f=b.scrollSensitivity,g=b.scrollSpeed,k=rb(),m=!1;if(sd!==d){sd=d;Fc();vc=b.scroll;var l=b.scrollFn;!0===vc&&(vc=wb(d,!0))}d=0;var n=vc;do{var p=n,t=ea(p),u=t.top,v=t.bottom,w=t.left,y=t.right,A=t.width;t=t.height;var B=void 0,z=void 0,C=p.scrollWidth,F=p.scrollHeight;z=D(p);var G=p.scrollLeft,H=p.scrollTop;p===k?(B=A<C&&("auto"===
z.overflowX||"scroll"===z.overflowX||"visible"===z.overflowX),z=t<F&&("auto"===z.overflowY||"scroll"===z.overflowY||"visible"===z.overflowY)):(B=A<C&&("auto"===z.overflowX||"scroll"===z.overflowX),z=t<F&&("auto"===z.overflowY||"scroll"===z.overflowY));w=B&&(Math.abs(y-e)<=f&&G+A<C)-(Math.abs(w-e)<=f&&!!G);u=z&&(Math.abs(v-h)<=f&&H+t<F)-(Math.abs(u-h)<=f&&!!H);if(!X[d])for(v=0;v<=d;v++)X[v]||(X[v]={});if(X[d].vx!=w||X[d].vy!=u||X[d].el!==p)if(X[d].el=p,X[d].vx=w,X[d].vy=u,clearInterval(X[d].pid),0!=
w||0!=u)m=!0,X[d].pid=setInterval(function(){c&&0===this.layer&&E.active._onTouchMove(Pc);var b=X[this.layer].vy?X[this.layer].vy*g:0,d=X[this.layer].vx?X[this.layer].vx*g:0;"function"===typeof l&&"continue"!==l.call(E.dragged.parentNode[Ga],d,b,a,Pc,X[this.layer].el)||Jd(X[this.layer].el,d,b)}.bind({layer:d}),24);d++}while(b.bubbleScroll&&n!==k&&(n=wb(n,!1)));td=m}},30),ie=function(a){var b=a.originalEvent,d=a.putSortable,c=a.dragEl,e=a.activeSortable,f=a.dispatchSortableEvent,g=a.hideGhostForTarget;
a=a.unhideGhostForTarget;b&&(e=d||e,g(),b=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:b,b=document.elementFromPoint(b.clientX,b.clientY),a(),e&&!e.el.contains(b)&&(f("spill"),this.onSpill({dragEl:c,putSortable:d})))};ad.prototype={startIndex:null,dragStart:function(a){this.startIndex=a.oldDraggableIndex},onSpill:function(a){var b=a.dragEl;a=a.putSortable;this.sortable.captureAnimationState();a&&a.captureAnimationState();var d=zc(this.sortable.el,this.startIndex,this.options);d?this.sortable.el.insertBefore(b,
d):this.sortable.el.appendChild(b);this.sortable.animateAll();a&&a.animateAll()},drop:ie};ob(ad,{pluginName:"revertOnSpill"});bd.prototype={onSpill:function(a){var b=a.dragEl;a=a.putSortable||this.sortable;a.captureAnimationState();b.parentNode&&b.parentNode.removeChild(b);a.animateAll()},drop:ie};ob(bd,{pluginName:"removeOnSpill"});E.mount(new function(){function a(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var a in this)"_"===a.charAt(0)&&"function"===typeof this[a]&&
(this[a]=this[a].bind(this))}a.prototype={dragStarted:function(a){a=a.originalEvent;this.sortable.nativeDraggable?L(document,"dragover",this._handleAutoScroll):this.options.supportPointer?L(document,"pointermove",this._handleFallbackAutoScroll):a.touches?L(document,"touchmove",this._handleFallbackAutoScroll):L(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(a){a=a.originalEvent;this.options.dragOverBubble||a.rootEl||this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?
I(document,"dragover",this._handleAutoScroll):(I(document,"pointermove",this._handleFallbackAutoScroll),I(document,"touchmove",this._handleFallbackAutoScroll),I(document,"mousemove",this._handleFallbackAutoScroll));clearInterval(cc);Fc();clearTimeout(hc);hc=void 0},nulling:function(){Pc=sd=vc=td=cc=ud=vd=null;X.length=0},_handleFallbackAutoScroll:function(a){this._handleAutoScroll(a,!0)},_handleAutoScroll:function(a,d){var b=this,c=(a.touches?a.touches[0]:a).clientX,e=(a.touches?a.touches[0]:a).clientY,
f=document.elementFromPoint(c,e);Pc=a;if(d||kc||qb||nd){wd(a,this.options,f,d);var g=wb(f,!0);!td||cc&&c===ud&&e===vd||(cc&&clearInterval(cc),cc=setInterval(function(){var h=wb(document.elementFromPoint(c,e),!0);h!==g&&(g=h,Fc());wd(a,b.options,h,d)},10),ud=c,vd=e)}else this.options.bubbleScroll&&wb(f,!0)!==rb()?wd(a,this.options,wb(f,!1),!1):Fc()}};return ob(a,{pluginName:"scroll",initializeByDefault:!0})});E.mount(bd,ad);var Lf=E,dc=function(a){this.run=a;this.html=g.makeDiv(["production-screen"]);
this.refresh()};dc.prototype.refresh=function(){var a=this,b=this.run.inventory.clone(),d=this.run.getResourceConversions(),c=[];d=$jscomp.makeIterator(d);for(var e=d.next();!e.done;e=d.next())e=e.value,b.canAfford(e.inputs)&&b.hasEnoughWorkers(e.requiredWorkers)?(c.push(this.renderConversion(e,!0)),b.applyConversions([e])):c.push(this.renderConversion(e,!1));c=g.makeDivContaining(c);Lf.create(c,{onEnd:function(b){var d=b.oldDraggableIndex;b=b.newDraggableIndex;void 0!==d&&void 0!==b&&a.shiftConversion(d,
b)}});d=g.makePara("Available workers at start of production cycle: "+this.run.inventory.getAvailableWorkers(),["production-screen-available-workers"]);e=g.makePara("Unused workers at end of production cycle: "+b.getAvailableWorkers(),["production-screen-worker-consumption-label"]);var f=g.makeDiv();if(0!==this.run.inventory.getSpeciesList().length){var k=b.clone();f.appendChild(g.makePara("Resources required for worker upkeep:",["production-screen-worker-consumption-label"]));for(var m=$jscomp.makeIterator(k.getSpeciesList()),
l=m.next();!l.done;l=m.next()){var n=l.value;l=k.getProvidedWorkerConsumption(n).quantity;var p=k.getRequiredWorkerConsumption(n).quantity;f.appendChild(g.makePara(n.name+": "+l+"/"+p+" "+n.survivalCost.resource.name,[p>l?"population-consumption-unmet":"population-consumption-met","production-screen-worker-consumption"]));k.payCost([k.getProvidedWorkerConsumption(n)])}}k=g.makeDiv();p=b.getSpeciesList();m=new Map;n=$jscomp.makeIterator(p);for(l=n.next();!l.done;l=n.next())l=l.value,m.set(l,b.getPopulation(l));
b.doPopulationGrowth();n=new Map;var t=$jscomp.makeIterator(p);for(l=t.next();!l.done;l=t.next())l=l.value,n.set(l,b.getPopulation(l));p=$jscomp.makeIterator(p);for(l=p.next();!l.done;l=p.next()){l=l.value;t=m.get(l);var u=n.get(l);t-=u;0<t&&k.appendChild(g.makePara(t+" "+l.name+" will die from lack of "+l.survivalCost.resource.name+"!",["population-death-label"]))}g.fillHTML(this.html,[g.makeHeader("Resource Production Management"),g.makeHeader("Inventory at start of production cycle:",2,["production-screen-label"]),
this.renderInventory(this.run.inventory),g.makeHeader("Resource production",2,["production-screen-label"]),d,g.makePara("Drag conversions to change the activation order",["production-screen-drag-hint"]),c,g.makeHeader("Workforce",2,["production-screen-label"]),e,f,k,g.makeHeader("Inventory at end of production cycle:",2,["production-screen-label"]),this.renderInventory(b),g.makeButton("Back",function(){K.show(new nb(a.run))},["production-screen-back-button"])])};dc.prototype.renderInventory=function(a){a=
a.getInventoryStrings().map(function(a){return g.makePara(a)});0===a.length&&a.push(g.makePara("(none)"));return g.makeDivContaining(a,["production-screen-inventory"])};dc.prototype.renderConversion=function(a,b){var d=this,c=g.makeDiv(["conversion"]),e=a.toString(),f="conversion-description-normal";a.enabled?b||(e=a.toString()+" (cannot afford)",f="conversion-description-cannot-afford"):(e=a.toString()+" (disabled) ",f="conversion-description-disabled");b=g.makePara(e,[f,"conversion-description"]);
b=g.makeDivContaining([b],["conversion-description-box"]);c.appendChild(b);c.appendChild(g.makeButton("Toggle",function(){d.toggle(a)}));return c};dc.prototype.shiftConversion=function(a,b){this.run.shiftConversionPriority(a,b);this.refresh()};dc.prototype.toggle=function(a){a.enabled=!a.enabled;this.refresh()};var xd=function(a){this.run=a;this.html=g.makeDiv(["research-screen"]);this.refresh()};xd.prototype.refresh=function(){var a=this,b=g.makeHeader("Available Research Projects"),d=this.run.getResearchOptions(),
c=l.values().filter(function(a){return d.some(function(b){return b.researchCost.resource===a})}),e=g.makeDiv(["research-resources"]);0!==c.length&&(e.appendChild(g.makeHeader("Available Research Data")),c.forEach(function(b){return e.appendChild(g.makePara(b.name+": "+a.run.inventory.getResourceQuantity(b)))}));c=g.makeDivContaining(d.map(function(b){return a.renderTechOption(b)}));0===d.length&&(b=g.makeDiv());var f=g.makeHeader("Previous Research Projects",1,["previous-research-header"]),k=this.run.getUnlockedTechnologies().filter(function(a){return a.visible}).map(function(a){return g.makePara("\u2022 "+
a.name,["previous-research"])});0===k.length&&(f=g.makeDiv());var m=g.makeButton("Back",function(){K.show(new nb(a.run))},[]);g.fillHTML(this.html,[b,c,e,f].concat($jscomp.arrayFromIterable(k),[m]))};xd.prototype.renderTechOption=function(a){for(var b=this,d=g.makeDivContaining([g.makeHeader(a.name,2),g.makePara(a.description),g.makePara("Development cost: "+a.researchCost)],["tech-option"]),c=0,e=$jscomp.makeIterator(a.requiredTechs),f=e.next();!f.done;f=e.next())f=f.value,this.run.hasUnlockedTechnology(f)||
(c++,d.appendChild(g.makePara("Requires "+f.name+" research")));c=0===c&&this.run.inventory.canAfford([a.researchCost]);d.appendChild(g.makeButton("Conduct Research",function(){b.run.inventory.payCost([a.researchCost]);b.run.unlockTechnology(a);b.run.updateQuestState();b.refresh()},[],c?"enabled":"disabled"));return d};var md=function(a,b){this.run=a;this.buttonState=void 0===b?"enabled":b;this.html=g.makeDiv(["world-screen-header"]);this.refresh()};md.prototype.refresh=function(){var a=this,b=g.makeButton("Pause Game",
function(){K.show(new ae(a.run))},[],this.buttonState),d=g.makeButton("Next Turn",function(){var b=new $b(a.run);K.show(b);b.startLoading()},[],this.buttonState),c=g.makeButton("Manage Production",function(){K.show(new dc(a.run))},[],this.buttonState),e=g.makeButton("Research Projects",function(){K.show(new xd(a.run))},[],this.buttonState);g.fillHTML(this.html,[b,c,e,d])};var wc=function(a,b,d){this.run=a;this.center=b;this.circuitsTile=d;this.mapUI=new ca(this,a.world);this.tileSidebar=new Lb(this,
a);this.tileSidebar.changeTile(b);this.inventorySidebar=new jd(a);this.header=new md(a,"disabled");this.questIndicator=new ld(a);this.html=g.makeDivContaining([this.header.html,this.questIndicator.html,g.makeDivContaining([this.inventorySidebar.html,g.makeDivContaining([this.mapUI.html],["world-screen-map-box"]),this.tileSidebar.html],["world-screen-hbox"])],["flex-vertical","world-screen"])};wc.prototype.expandCircuits=function(a){for(var b=this,d=this.run.world,c=d.getTilesInCircle(this.center,
a),e=d.getTileAtCoordinates(this.center),f=$jscomp.makeIterator(c),g=f.next();!g.done;g=f.next())g=g.value,g!==e&&d.placeTile(new this.circuitsTile(g.position));this.run.updateQuestState();this.run.inventory.applyPopulationCaps();this.refresh();if(c.length<d.width*d.height)setTimeout(function(){b.expandCircuits(1.01*a+.05)},100);else{d=$jscomp.makeIterator(this.run.inventory.getResourceList());for(c=d.next();!c.done;c=d.next())c=c.value,this.run.inventory.removeResource(c,this.run.inventory.getResourceQuantity(c));
this.refresh()}};wc.prototype.refresh=function(){this.mapUI.refresh();this.tileSidebar.refresh();this.inventorySidebar.refresh();this.header.refresh();this.questIndicator.refresh()};wc.prototype.handleKeyDown=function(a){this.mapUI.handleKeyDown(a)};wc.prototype.changeSidebarTile=function(a){this.tileSidebar.changeTile(a)};var je=[],A=function(a,b,d,c,e){this.name=a;this.description=b;this.requiredTechs=d;this.researchCost=c;this.visible=void 0===e?!0:e};A.makeUnlockableTechnology=function(a,b,d,
c){a=new A(a,b,d,c,!0);je.push(a);return a};A.makeHiddenTechnology=function(a,b,d){d=void 0===d?!1:d;return new A(a,b,[],new n(l.EngineeringKnowledge,0),d)};A.prototype.equals=function(a){return this.name===a.name};A.schema=function(){var a=k.classOf({name:k.aString,description:k.aString,requiredTechs:Hc.arrayOf(function(){return a}),researchCost:n.schema,visible:k.aBoolean},function(a){return new A(a.name,a.description,a.requiredTechs,a.researchCost,a.visible)});return a};var J=function(a,b,d){this.name=
a;this.growthMultiplier=b;this.survivalCost=d};J.values=function(){return Zb.safeKeys(J).map(function(a){return J[a]}).filter(function(a){return a instanceof J})};J.entries=function(){var a={};Zb.safeEntries(J).filter(function(a){return a[1]instanceof J}).forEach(function(b){var d=$jscomp.makeIterator(b);b=d.next().value;d=d.next().value;a[b]=d});return a};J.Human=new J("\ud83d\udc69\ud83c\udffb\u200d\ud83d\ude80 Human Colonists",.1,new n(l.Food,1));J.Robot=new J("\ud83e\uddbe Robots",0,new n(l.Energy,
.5));J.schema=k.mapping(J.entries());var V=function(a){a=u.call(this,a)||this;a.texture=Ud;return a};$jscomp.inherits(V,u);V.prototype.getTileName=function(){return V.tileName};V.prototype.getTileDescription=function(){return V.tileDescription};V.prototype.getTexture=function(a){var b=this.position.x,d=this.position.y,c=a.getTileAtCoordinates(new v(b,d-1))instanceof V,e=a.getTileAtCoordinates(new v(b,d+1))instanceof V,f=a.getTileAtCoordinates(new v(b+1,d))instanceof V;return(a=a.getTileAtCoordinates(new v(b-
1,d))instanceof V)&&f&&c&&e?Ud:a&&f&&c?pf:a&&c&&e?rf:a&&f&&e?of:f&&c&&e?qf:a&&f?Vd:c&&e?Wd:a&&c?mf:f&&c?nf:a&&e?kf:f&&e?lf:a||f?Vd:Wd};V.tileName="Road";V.tileDescription="Allows transportation of workers and supplies";V.schema=k.classOf({position:v.schema},function(a){return new V(a.position)});B[V.name]=V;var Mf=Gc(V,1),Qc={hasTech:k.recordOf({queryType:k.literal("hasTech"),technology:A.schema()}),speciesHasPopulation:k.recordOf({queryType:k.literal("speciesHasPopulation"),species:J.schema,minPopulation:k.aNumber}),
hasTotalPopulation:k.recordOf({queryType:k.literal("hasTotalPopulation"),minPopulation:k.aNumber}),availableHousing:k.recordOf({queryType:k.literal("availableHousing"),species:J.schema,minAvailableCapacity:k.aNumber}),tileExists:k.recordOf({queryType:k.literal("tileExists"),tileType:Jc}),allTilesAreOfType:k.recordOf({queryType:k.literal("allTilesAreOfType"),tileTypes:k.arrayOf(Jc)}),hasResource:k.recordOf({queryType:k.literal("hasResource"),resource:l.schema,minQuantity:k.aNumber})},Nf=k.schema({encode:function(a){return Qc[a.queryType].encode(a)},
decode:function(a){return Qc[a.queryType].decode(a)},validate:function(a){if("object"!==typeof a||null===a)return!1;var b=Qc[a.queryType];return b?b.validate(a):!1}}),dd=Object.assign(Object.assign({},Qc),{tileWithinDistance:k.recordOf({queryType:k.literal("tileWithinDistance"),tileType:Jc,radius:k.aNumber}),anyTileWithinDistance:k.recordOf({queryType:k.literal("anyTileWithinDistance"),tileTypes:k.arrayOf(Jc),radius:k.aNumber}),not:k.recordOf({queryType:k.literal("not"),query:Tb()}),or:k.recordOf({queryType:k.literal("or"),
query1:Tb(),query2:Tb()}),and:k.recordOf({queryType:k.literal("and"),query1:Tb(),query2:Tb()})}),Q=function(a,b,d,c,e,f){this.title=a;this.projectDescription=b;this.action=d;this.costs=c;this.completionRequirements=e;this.visibilityRequirements=f};Q.prototype.canDo=function(a,b){return b.inventory.canAfford(this.costs)&&this.isVisible(a,b)&&this.completionRequirements.every(function(d){return d.evaluate(b,a)})};Q.prototype.isVisible=function(a,b){return this.visibilityRequirements.every(function(d){return Ib(d)(b,
a)})};Q.prototype.doAction=function(a,b){if(!this.canDo(a,b))throw"tried to do project "+this.title+" without meeting requirements";b.inventory.payCost(this.costs);this.action(a,b)};var Rc=function(a,b,d,c,e,f,g){var h=Q.call(this,a,b,function(a,b){b.world.placeTile(new d(a))},e,f,g)||this;h.title=a;h.projectDescription=b;h.activeMonolithTile=d;h.circuitsTile=c;h.costs=e;h.completionRequirements=f;h.visibilityRequirements=g;return h};$jscomp.inherits(Rc,Q);Rc.prototype.doAction=function(a,b){if(!this.canDo(a,
b))throw"tried to do project "+this.title+" without meeting requirements";b.inventory.payCost(this.costs);this.action(a,b);a=new wc(b,a,this.circuitsTile);K.show(a);a.expandCircuits(1)};var Fb=function(a,b){this.species=a;this.capacity=b};Fb.schema=k.classOf({species:J.schema,capacity:k.aNumber},function(a){return new Fb(a.species,a.capacity)});var Pb=A.makeUnlockableTechnology("Industrial Engineering","Approaches for optimizing production processes",[],new n(l.EngineeringKnowledge,25)),Pa=A.makeUnlockableTechnology("Structural Engineering",
"Techniques for fabricating large structures on the planet's surface",[],new n(l.EngineeringKnowledge,10)),ke=A.makeUnlockableTechnology("Distributed Robotics","Autonomous robotic worker drones capable of performing the same jobs as human workers",[Pb],new n(l.EngineeringKnowledge,100)),Of=A.makeUnlockableTechnology("Swarm Robotics","Algorithms for efficiently managing large numbers of robotic workers",[ke],new n(l.EngineeringKnowledge,100)),yd=A.makeUnlockableTechnology("Colonist Behavior Modeling",
"Simulations of human behavior in the isolated conditions of a deep space colony",[],new n(l.PsychKnowledge,30)),Pf=A.makeUnlockableTechnology("Habitation Pods","Compact and efficient residence units allow more humans to be packed into a small habitat",[yd],new n(l.EngineeringKnowledge,15)),le=A.makeUnlockableTechnology("Nuclear Engineering","Applying nuclear physics to technology and power generation",[Pb],new n(l.EngineeringKnowledge,70)),zd=A.makeUnlockableTechnology("Planetary Surveying","Exploration of the planetary environment, including the structures believed to have been built by an alien civilization",
[],new n(l.EngineeringKnowledge,50)),Qf=A.makeUnlockableTechnology("Game theory","Mathematical models of strategic interaction among rational decision-makers",[yd],new n(l.PsychKnowledge,30)),Ad=A.makeUnlockableTechnology("Cognitive Biases Research","Study of systematic patterns of deviation from rational thinking and decision-making",[Qf],new n(l.PsychKnowledge,50)),me=A.makeUnlockableTechnology("Human Rationality","Practices to improve humans' ability to form accurate beliefs and make effective decisions",
[Ad],new n(l.PsychKnowledge,200)),ec=A.makeHiddenTechnology("AI Safety Research","A proposal for researching techniques for aligning the goals of an artificial intelligence with the goals of its human creators",!1),ne=A.makeUnlockableTechnology("Control Problem","A description of the problem of creating a superintelligent agent that will behave in a way that benefits its creators",[ec],new n(l.AlignmentKnowledge,20)),Rf=A.makeUnlockableTechnology("Motivation Selection","Techniques for specifying the goals and motives of an artificial intelligence",
[ne],new n(l.AlignmentKnowledge,50)),Sf=A.makeUnlockableTechnology("Coherent Extrapolated Volition",w($jscomp$templatelit$32),[Rf],new n(l.AlignmentKnowledge,300)),Tf=A.makeUnlockableTechnology("Decision Theory","The study of the reasoning underlying an agent's choices",[ne],new n(l.AlignmentKnowledge,40)),Uf=A.makeUnlockableTechnology("Acausal trade",w($jscomp$templatelit$33),[Tf],new n(l.AlignmentKnowledge,200)),Vf=A.makeUnlockableTechnology("Cooperative Reprogramming",w($jscomp$templatelit$34),
[Uf,Sf],new n(l.AlignmentKnowledge,700)),xc=A.makeUnlockableTechnology("Xenoarchaeology",w($jscomp$templatelit$35),[zd],new n(l.AlienKnowledge,75)),Wf=A.makeUnlockableTechnology("Sociology","The study of the development, structure, and functioning of societies",[yd],new n(l.PsychKnowledge,50)),Bd=A.makeUnlockableTechnology("Alien History",w($jscomp$templatelit$36),[Wf,xc],new n(l.AlienKnowledge,200)),Sc=A.makeUnlockableTechnology("Xenomaterials","Techniques for processing and applying exotic resources found in the ruins of the alien civilization",
[xc],new n(l.AlienKnowledge,200)),Xf=A.makeUnlockableTechnology("Nanotechnology","Manipulation of matter on an atomic, molecular, and supramolecular scale",[Sc],new n(l.EngineeringKnowledge,100)),Yf=A.makeUnlockableTechnology("Zero Point Energy","Exploiting exotic, previously-unknown principles of physics to extract tremendous amounts of energy from the quantum vacuum",[Sc,le],new n(l.EngineeringKnowledge,250)),jb=A.makeHiddenTechnology("Monolith Surveying",w($jscomp$templatelit$37)),Zf=A.makeUnlockableTechnology("Hypercomputing",
w($jscomp$templatelit$38),[Sc],new n(l.EngineeringKnowledge,300)),oe=A.makeUnlockableTechnology("Neural Uploading",w($jscomp$templatelit$39),[jb,Zf],new n(l.AlienKnowledge,200)),pe=A.makeUnlockableTechnology("Singularity Engineering",w($jscomp$templatelit$40),[jb],new n(l.AlienKnowledge,500)),Ha=function(a){a=u.call(this,a)||this;a.texture=Se;return a};$jscomp.inherits(Ha,u);Ha.prototype.getTileName=function(){return Ha.tileName};Ha.prototype.getTileDescription=function(){return Ha.tileDescription};
Ha.tileName="Seed Core";Ha.tileDescription=w($jscomp$templatelit$41);Ha.schema=k.classOf({position:v.schema},function(a){return new Ha(a.position)});B[Ha.name]=Ha;var Ia=function(a){a=u.call(this,a)||this;a.texture=Ue;return a};$jscomp.inherits(Ia,u);Ia.prototype.getTileName=function(){return Ia.tileName};Ia.prototype.getTileDescription=function(){return Ia.tileDescription};Ia.tileName="Hypercomputer Network";Ia.tileDescription="A self-replicating computing substrate that hosts a virtual reality for uploaded alien minds";
Ia.schema=k.classOf({position:v.schema},function(a){return new Ia(a.position)});B[Ia.name]=Ia;var ja=function(a){a=u.call(this,a)||this;a.texture=Cf;return a};$jscomp.inherits(ja,u);ja.prototype.getTileName=function(){return ja.tileName};ja.prototype.getTileDescription=function(){return ja.tileDescription};ja.tileName="Neural Emulation Platform";ja.tileDescription="A machine capable of interfacing with the alien monolith's hypercomputers and accessing the stored alien connectomes";ja.schema=k.classOf({position:v.schema},
function(a){return new ja(a.position)});B[ja.name]=ja;var pa=function(a){a=u.call(this,a)||this;a.texture=Bf;return a};$jscomp.inherits(pa,u);pa.prototype.getTileName=function(){return pa.tileName};pa.prototype.getTileDescription=function(){return pa.tileDescription};pa.tileName="Nanotech Foundry";pa.tileDescription="A nanotechnology manufacturing facility capable of completing the unfinished alien Monolith device";pa.schema=k.classOf({position:v.schema},function(a){return new pa(a.position)});B[pa.name]=
pa;var Ja=function(a){a=u.call(this,a)||this;a.texture=Ve;return a};$jscomp.inherits(Ja,u);Ja.prototype.getTileName=function(){return Ja.tileName};Ja.prototype.getTileDescription=function(){return Ja.tileDescription};Ja.tileName="Hypercomputer Network";Ja.tileDescription="A self-replicating computing substrate hosting a utopian virtual reality for uploaded human minds";Ja.schema=k.classOf({position:v.schema},function(a){return new Ja(a.position)});B[Ja.name]=Ja;var Ka=function(a){a=u.call(this,a)||
this;a.texture=Te;return a};$jscomp.inherits(Ka,u);Ka.prototype.getTileName=function(){return Ka.tileName};Ka.prototype.getTileDescription=function(){return Ka.tileDescription};Ka.tileName="Seed Core";Ka.tileDescription=w($jscomp$templatelit$42);Ka.schema=k.classOf({position:v.schema},function(a){return new Ka(a.position)});B[Ka.name]=Ka;var za=function(a){a=u.call(this,a)||this;a.texture=Re;a.possibleProjects=[new Rc("Activate Seed Core",w($jscomp$templatelit$43),Ka,Ja,[new n(l.Energy,1E5)],[sb(pa,
3),sb(ja,2),T(pe)],[])];return a};$jscomp.inherits(za,u);za.prototype.getTileName=function(){return za.tileName};za.prototype.getTileDescription=function(){return za.tileDescription};za.tileName="Reprogrammed Monolith";za.tileDescription=w($jscomp$templatelit$44);za.schema=k.classOf({position:v.schema},function(a){return new za(a.position)});B[za.name]=za;var ka=function(a){a=u.call(this,a)||this;a.texture=Qe;a.possibleProjects=[new Q("Upload human neural data",w($jscomp$templatelit$45),function(a,
d){d.world.placeTile(new za(a))},[new n(l.Energy,1E3),new n(l.SmartMatter,500)],[sb(ja,2),T(oe)],[M(Vf),M(jb)]),new Rc("Activate Seed Core",w($jscomp$templatelit$46),Ha,Ia,[new n(l.Energy,1E5)],[sb(pa,3),sb(ja,2),T(pe)],[M(jb)])];return a};$jscomp.inherits(ka,u);ka.prototype.getTileName=function(){return ka.tileName};ka.prototype.getTileDescription=function(){return ka.tileDescription};ka.tileName="Monolith";ka.tileDescription="A towering alien structure";ka.schema=k.classOf({position:v.schema},function(a){return new ka(a.position)});
B[ka.name]=ka;var ua=function(a,b){b=void 0===b?1:b;a=u.call(this,a)||this;a.texture=Xd;a.resourceConversions=[y.newConversion([],[new n(l.Cavorite,200),new n(l.Energy,25)],300),y.newConversion([],[new n(l.Orichalcum,200),new n(l.Energy,25)],300)];a.textureVariant=b;return a};$jscomp.inherits(ua,u);ua.prototype.getTileName=function(){return ua.tileName};ua.prototype.getTileDescription=function(){return ua.tileDescription};ua.prototype.getTexture=function(){switch(this.textureVariant){case 1:return Xd;
case 2:return Af}};ua.tileName="Alien Ruins Recycler Excavation";ua.tileDescription="A facility that harvests and recycles exotic materials from the alien structure.";ua.schema=k.contra(k.recordOf({position:v.schema,resourceConversions:k.arrayOf(y.schema),textureVariant:k.union(k.literal(1),k.literal(2))}),function(a){return{position:a.position,resourceConversions:a.resourceConversions,textureVariant:a.textureVariant}},function(a){var b=a.resourceConversions;a=new ua(a.position,a.textureVariant);
a.resourceConversions=b;return a});B[ua.name]=ua;var la=function(a){var b=u.call(this,a)||this;b.textureVariant=ha.bool()?1:2;b.texture=Td;b.possibleProjects=[new Q("Excavate","Construct a facility to harvest exotic alien resources from the ruins",function(a,c){return c.world.placeTile(new ua(a,b.textureVariant))},[new n(l.BuildingMaterials,200),new n(l.Energy,100)],[Z,T(xc)],[M(zd)])];return b};$jscomp.inherits(la,u);la.prototype.getTileName=function(){return la.tileName};la.prototype.getTileDescription=
function(){return la.tileDescription};la.prototype.getTexture=function(){switch(this.textureVariant){case 1:return Td;case 2:return Pe}};la.tileName="Alien Ruins";la.tileDescription="Abandoned structure built by a long-dead alien civilization";la.schema=k.contra(k.recordOf({position:v.schema,textureVariant:k.union(k.literal(1),k.literal(2))}),function(a){return{position:a.position,textureVariant:a.textureVariant}},function(a){var b=a.textureVariant;a=new la(a.position);a.textureVariant=b;return a});
B[la.name]=la;var fb=function(a,b){this.description=a;this.query=b};fb.prototype.evaluate=function(a,b){return Ib(this.query)(a,b)};fb.prototype.toString=function(){return this.description};fb.schema=k.contra(k.recordOf({description:k.aString,query:Tb()}),function(a){return{description:a.description,query:a.query}},function(a){return new fb(a.description,a.query)});var Z=new fb("adjacent to a road",Mf),qa=function(a){a=u.call(this,a)||this;a.texture=$e;a.populationCapacity=new Fb(J.Human,200);a.possibleProjects=
[new Q("AI Safety Research Proposal",w($jscomp$templatelit$47),function(a,d){return d.unlockTechnology(ec)},[],[T(me)],[M(Ad),Hb(M(ec)),cd(J.Human,500)])];return a};$jscomp.inherits(qa,u);qa.prototype.getTileName=function(){return qa.tileName};qa.prototype.getTileDescription=function(){return qa.tileDescription};qa.tileName="Habitat Dome";qa.tileDescription="A pressurized structure that provides housing, services, and life support for humans";qa.schema=k.classOf({position:v.schema,populationCapacity:Fb.schema},
function(a){var b=a.populationCapacity;a=new qa(a.position);a.populationCapacity=b;return a});B[qa.name]=qa;var La=function(a){a=u.call(this,a)||this;a.texture=df;a.resourceConversions=[y.newConversion([new n(l.Energy,10)],[new n(l.Food,200)],30)];return a};$jscomp.inherits(La,u);La.prototype.getTileName=function(){return La.tileName};La.prototype.getTileDescription=function(){return La.tileDescription};La.tileName="Greenhouse";La.tileDescription="Produces "+l.Food.name+" for "+J.Human.name;La.schema=
k.classOf({position:v.schema,resourceConversions:k.arrayOf(y.schema)},function(a){var b=a.resourceConversions;a=new La(a.position);a.resourceConversions=b;return a});B[La.name]=La;var Qa=function(a){a=u.call(this,a)||this;a.texture=sf;a.populationCapacity=new Fb(J.Human,2E3);a.possibleProjects=[new Q("AI Safety Research Proposal",w($jscomp$templatelit$48),function(a,d){return d.unlockTechnology(ec)},[],[T(me)],[M(Ad),Hb(M(ec)),cd(J.Human,500)])];return a};$jscomp.inherits(Qa,u);Qa.prototype.getTileName=
function(){return Qa.tileName};Qa.prototype.getTileDescription=function(){return Qa.tileDescription};Qa.tileName="Arcology";Qa.tileDescription="A self-contained habitat for efficiently housing a large number of humans";Qa.schema=k.classOf({position:v.schema,populationCapacity:Fb.schema},function(a){var b=a.populationCapacity;a=new Qa(a.position);a.populationCapacity=b;return a});B[Qa.name]=Qa;var Ra=function(a){a=u.call(this,a)||this;a.texture=ef;a.resourceConversions=[y.newConversion([new n(l.Energy,
150)],[new n(l.Food,2E3)],50)];return a};$jscomp.inherits(Ra,u);Ra.prototype.getTileName=function(){return Ra.tileName};Ra.prototype.getTileDescription=function(){return Ra.tileDescription};Ra.tileName="Hydroponics Greenhouse";Ra.tileDescription="Produces "+l.Food.name+" for "+J.Human.name+" more efficiently than a standard greenhouse";Ra.schema=k.classOf({position:v.schema,resourceConversions:k.arrayOf(y.schema)},function(a){var b=a.resourceConversions;a=new Ra(a.position);a.resourceConversions=
b;return a});B[Ra.name]=Ra;var Sa=function(a){a=u.call(this,a)||this;a.texture=uf;a.populationCapacity=new Fb(J.Robot,5E3);a.possibleProjects=[new Q("Construct robot group","Create 100 robotic worker drones",function(a,d){d.inventory.addWorkers(J.Robot,100);d.inventory.releaseWorkers(100)},[new n(l.Electronics,50),new n(l.Energy,100)],[Rd(J.Robot,100)],[]),new Q("Construct robot swarm","Create 1000 robotic worker drones",function(a,d){d.inventory.addWorkers(J.Robot,1E3);d.inventory.releaseWorkers(1E3)},
[new n(l.Electronics,250),new n(l.Energy,1E3)],[Rd(J.Robot,1E3)],[M(Of)])];return a};$jscomp.inherits(Sa,u);Sa.prototype.getTileName=function(){return Sa.tileName};Sa.prototype.getTileDescription=function(){return Sa.tileDescription};Sa.tileName="Drone Hive";Sa.tileDescription="A facility for manufacturing, storing, and maintaining mobile robotic worker drones";Sa.schema=k.classOf({position:v.schema,populationCapacity:Fb.schema},function(a){var b=a.populationCapacity;a=new Sa(a.position);a.populationCapacity=
b;return a});B[Sa.name]=Sa;var Ta=function(a,b){var d=u.call(this,a)||this;d.wastelandVariant=b;d.texture=We;d.possibleProjects=[new Q("Break down construction site","Revert this location to wasteland",function(a,b){b.world.placeTile(new H(a,d.wastelandVariant))},[],[],[]),ba(Sa,[new n(l.BuildingMaterials,250),new n(l.Electronics,500)],[T(Pa),T(ke),Z],[M(Pb)]),ba(qa,[new n(l.BuildingMaterials,200)],[T(Pa),Z],[]),ba(Qa,[new n(l.BuildingMaterials,500)],[T(Pf),Z],[M(Pa)]),ba(La,[new n(l.BuildingMaterials,
25)],[Z],[M(Pa)]),ba(Ra,[new n(l.BuildingMaterials,25),new n(l.Electronics,30)],[Z,T(Pb)],[M(Pa)])];return d};$jscomp.inherits(Ta,u);Ta.prototype.getTileName=function(){return Ta.tileName};Ta.prototype.getTileDescription=function(){return Ta.tileDescription};Ta.tileName="Construction Site - Habitat";Ta.tileDescription="An area designated for construction of habitation and life support facilities";Ta.schema=k.contra(k.recordOf({position:v.schema,wastelandVariant:qc}),function(a){return{position:a.position,
wastelandVariant:a.wastelandVariant}},function(a){return new Ta(a.position,a.wastelandVariant)});B[Ta.name]=Ta;var Aa=function(a){a=u.call(this,a)||this;a.texture=xf;a.resourceConversions=[y.newConversion([],[new n(l.EngineeringKnowledge,5)],30)];return a};$jscomp.inherits(Aa,u);Aa.prototype.getTileName=function(){return Aa.tileName};Aa.prototype.getTileDescription=function(){return Aa.tileDescription};Aa.tileName="Engineering Lab";Aa.tileDescription="A workshop for developing new technology";Aa.schema=
k.classOf({position:v.schema,resourceConversions:k.arrayOf(y.schema)},function(a){var b=a.resourceConversions;a=new Aa(a.position);a.resourceConversions=b;return a});B[Aa.name]=Aa;var Ua=function(a){a=u.call(this,a)||this;a.texture=yf;a.resourceConversions=[y.newConversion([],[new n(l.PsychKnowledge,10)],25)];return a};$jscomp.inherits(Ua,u);Ua.prototype.getTileName=function(){return Ua.tileName};Ua.prototype.getTileDescription=function(){return Ua.tileDescription};Ua.tileName="Psychology Lab";Ua.tileDescription=
"A laboratory for studying how humans behave in the isolated conditions of a remote colony";Ua.schema=k.classOf({position:v.schema,resourceConversions:k.arrayOf(y.schema)},function(a){var b=a.resourceConversions;a=new Ua(a.position);a.resourceConversions=b;return a});B[Ua.name]=Ua;var Ba=function(a){a=u.call(this,a)||this;a.texture=zf;a.resourceConversions=[y.newConversion([],[new n(l.AlienKnowledge,10)],50)];a.possibleProjects=[new Q("Survey Alien Monolith",w($jscomp$templatelit$49,jb.name),function(a,
d){d.unlockTechnology(jb)},[new n(l.AlienKnowledge,50)],[sb(ka,5)],[M(Bd),Hb(M(jb))])];return a};$jscomp.inherits(Ba,u);Ba.prototype.getTileName=function(){return Ba.tileName};Ba.prototype.getTileDescription=function(){return Ba.tileDescription};Ba.tileName="Xenoarchaeology Lab";Ba.tileDescription="A laboratory for studying artifacts and technology left by the now-dead alien civilization";Ba.schema=k.classOf({position:v.schema,resourceConversions:k.arrayOf(y.schema)},function(a){var b=a.resourceConversions;
a=new Ba(a.position);a.resourceConversions=b;return a});B[Ba.name]=Ba;var Va=function(a){a=u.call(this,a)||this;a.texture=wf;a.resourceConversions=[y.newConversion([],[new n(l.AlignmentKnowledge,10)],100)];return a};$jscomp.inherits(Va,u);Va.prototype.getTileName=function(){return Va.tileName};Va.prototype.getTileDescription=function(){return Va.tileDescription};Va.tileName="AI Alignment Lab";Va.tileDescription=w($jscomp$templatelit$50);Va.schema=k.classOf({position:v.schema,resourceConversions:k.arrayOf(y.schema)},
function(a){var b=a.resourceConversions;a=new Va(a.position);a.resourceConversions=b;return a});B[Va.name]=Va;var Wa=function(a,b){var d=u.call(this,a)||this;d.wastelandVariant=b;d.texture=Xe;d.possibleProjects=[new Q("Break down construction site","Revert this location to wasteland",function(a,b){b.world.placeTile(new H(a,d.wastelandVariant))},[],[],[]),ba(Aa,[new n(l.BuildingMaterials,20),new n(l.Electronics,20)],[Z],[]),ba(Ua,[new n(l.BuildingMaterials,30)],[Z],[]),ba(Ba,[new n(l.BuildingMaterials,
40)],[new fb("within 3 units of "+la.tileName+" or "+ka.tileName,Fe([la,ua,ka,za],3)),Z,T(zd)],[]),ba(Va,[new n(l.BuildingMaterials,20),new n(l.Electronics,40)],[Ge(J.Human,200),Z],[M(ec)])];return d};$jscomp.inherits(Wa,u);Wa.prototype.getTileName=function(){return Wa.tileName};Wa.prototype.getTileDescription=function(){return Wa.tileDescription};Wa.tileName="Construction Site - Laboratories";Wa.tileDescription="An area designated for construction of research laboratories";Wa.schema=k.contra(k.recordOf({position:v.schema,
wastelandVariant:qc}),function(a){return{position:a.position,wastelandVariant:a.wastelandVariant}},function(a){return new Wa(a.position,a.wastelandVariant)});B[Wa.name]=Wa;var va=function(a){a=u.call(this,a)||this;a.texture=bf;a.resourceConversions=[y.newConversion([new n(l.Metal,50)],[new n(l.BuildingMaterials,50)],25),y.newConversion([new n(l.Metal,50)],[new n(l.Electronics,50)],25)];return a};$jscomp.inherits(va,u);va.prototype.getTileName=function(){return va.tileName};va.prototype.getTileDescription=
function(){return va.tileDescription};va.tileName="Ore Processing Center";va.tileDescription="A facility used to process ore into useful materials";va.schema=k.classOf({position:v.schema,resourceConversions:k.arrayOf(y.schema)},function(a){var b=a.resourceConversions;a=new va(a.position);a.resourceConversions=b;return a});B[va.name]=va;var Ca=function(a){a=u.call(this,a)||this;a.texture=af;a.resourceConversions=[y.newConversion([],[new n(l.Energy,100)])];return a};$jscomp.inherits(Ca,u);Ca.prototype.getTileName=
function(){return Ca.tileName};Ca.prototype.getTileDescription=function(){return Ca.tileDescription};Ca.tileName="Photovoltaic Array";Ca.tileDescription="Converts light from this planet's sun into electrical energy";Ca.schema=k.classOf({position:v.schema,resourceConversions:k.arrayOf(y.schema)},function(a){var b=a.resourceConversions;a=new Ca(a.position);a.resourceConversions=b;return a});B[Ca.name]=Ca;var Xa=function(a){a=u.call(this,a)||this;a.texture=tf;a.resourceConversions=[y.newConversion([],
[new n(l.Energy,1E3)],15)];return a};$jscomp.inherits(Xa,u);Xa.prototype.getTileName=function(){return Xa.tileName};Xa.prototype.getTileDescription=function(){return Xa.tileDescription};Xa.tileName="Nuclear Power Plant";Xa.tileDescription="A high-efficiency fission power plant";Xa.schema=k.classOf({position:v.schema,resourceConversions:k.arrayOf(y.schema)},function(a){var b=a.resourceConversions;a=new Xa(a.position);a.resourceConversions=b;return a});B[Xa.name]=Xa;var Ya=function(a){a=u.call(this,
a)||this;a.texture=hf;a.resourceConversions=[y.newConversion([new n(l.Metal,1E3)],[new n(l.BuildingMaterials,1E3)],250)];return a};$jscomp.inherits(Ya,u);Ya.prototype.getTileName=function(){return Ya.tileName};Ya.prototype.getTileDescription=function(){return Ya.tileDescription};Ya.tileName="Construction Materials Factory";Ya.tileDescription="A facility for producing "+l.BuildingMaterials.name;Ya.schema=k.classOf({position:v.schema,resourceConversions:k.arrayOf(y.schema)},function(a){var b=a.resourceConversions;
a=new Ya(a.position);a.resourceConversions=b;return a});B[Ya.name]=Ya;var Za=function(a){a=u.call(this,a)||this;a.texture=gf;a.resourceConversions=[y.newConversion([new n(l.Metal,500)],[new n(l.Electronics,500)],100)];return a};$jscomp.inherits(Za,u);Za.prototype.getTileName=function(){return Za.tileName};Za.prototype.getTileDescription=function(){return Za.tileDescription};Za.tileName="Electronics Factory";Za.tileDescription="A facility for producing "+l.Electronics.name;Za.schema=k.classOf({position:v.schema,
resourceConversions:k.arrayOf(y.schema)},function(a){var b=a.resourceConversions;a=new Za(a.position);a.resourceConversions=b;return a});B[Za.name]=Za;var $a=function(a){a=u.call(this,a)||this;a.texture=jf;a.resourceConversions=[y.newConversion([new n(l.Cavorite,500),new n(l.Energy,200)],[new n(l.Superconductor,500)],100),y.newConversion([new n(l.Orichalcum,500),new n(l.Energy,200)],[new n(l.SmartMatter,500)],100)];return a};$jscomp.inherits($a,u);$a.prototype.getTileName=function(){return $a.tileName};
$a.prototype.getTileDescription=function(){return $a.tileDescription};$a.tileName="Xeno-Materials Factory";$a.tileDescription="A facility for processing alien resources";$a.schema=k.classOf({position:v.schema,resourceConversions:k.arrayOf(y.schema)},function(a){var b=a.resourceConversions;a=new $a(a.position);a.resourceConversions=b;return a});B[$a.name]=$a;var ab=function(a){a=u.call(this,a)||this;a.texture=vf;a.resourceConversions=[y.newConversion([],[new n(l.Energy,1E4)],40)];return a};$jscomp.inherits(ab,
u);ab.prototype.getTileName=function(){return ab.tileName};ab.prototype.getTileDescription=function(){return ab.tileDescription};ab.tileName="Zero Point Energy Plant";ab.tileDescription="A power plant that exploits exotic physics and alien science to produce vast amounts of "+l.Energy.name+".";ab.schema=k.classOf({position:v.schema,resourceConversions:k.arrayOf(y.schema)},function(a){var b=a.resourceConversions;a=new ab(a.position);a.resourceConversions=b;return a});B[ab.name]=ab;var bb=function(a,
b){var d=u.call(this,a)||this;d.wastelandVariant=b;d.texture=Ye;d.possibleProjects=[new Q("Break down construction site","Revert this location to wasteland",function(a,b){b.world.placeTile(new H(a,d.wastelandVariant))},[],[],[]),ba(Ca,[new n(l.Electronics,200)],[],[]),ba(va,[new n(l.Energy,100),new n(l.BuildingMaterials,100)],[Z,T(Pb)],[M(Pa)]),ba(Ya,[new n(l.BuildingMaterials,350)],[Z,T(Pb)],[M(Pa)]),ba(Za,[new n(l.BuildingMaterials,300),new n(l.Electronics,150)],[Z,T(Pb)],[M(Pa)]),ba($a,[new n(l.BuildingMaterials,
200),new n(l.Electronics,200),new n(l.Energy,1E3)],[Z,T(Sc)],[M(xc)]),ba(Xa,[new n(l.BuildingMaterials,150),new n(l.Electronics,300)],[T(le),Z],[M(Pa)]),ba(ab,[new n(l.BuildingMaterials,200),new n(l.Electronics,100),new n(l.Superconductor,1E3)],[T(Yf)],[M(xc)])];return d};$jscomp.inherits(bb,u);bb.prototype.getTileName=function(){return bb.tileName};bb.prototype.getTileDescription=function(){return bb.tileDescription};bb.tileName="Construction Site - Industry";bb.tileDescription="An area designated for construction of industrial facilities and infrastructure";
bb.schema=k.contra(k.recordOf({position:v.schema,wastelandVariant:qc}),function(a){return{position:a.position,wastelandVariant:a.wastelandVariant}},function(a){return new bb(a.position,a.wastelandVariant)});B[bb.name]=bb;var cb=function(a,b){var d=u.call(this,a)||this;d.wastelandVariant=b;d.texture=Ze;d.possibleProjects=[new Q("Break down construction site","Revert this location to wasteland",function(a,b){b.world.placeTile(new H(a,d.wastelandVariant))},[],[],[]),ba(pa,[new n(l.SmartMatter,1E3),new n(l.BuildingMaterials,
500),new n(l.Electronics,200)],[Z,new fb("within 3 units of a Monolith",Pd(Gc(ka,3),Gc(za,3))),T(Xf)],[M(jb),Hb(yb(pa))]),ba(ja,[new n(l.BuildingMaterials,300),new n(l.Electronics,1E3),new n(l.Superconductor,1E3),new n(l.SmartMatter,500)],[Z,sb(ka,2),T(oe)],[M(jb),Hb(yb(ja))])];return d};$jscomp.inherits(cb,u);cb.prototype.getTileName=function(){return cb.tileName};cb.prototype.getTileDescription=function(){return cb.tileDescription};cb.tileName="Construction Site - Hyperengineering";cb.tileDescription=
"An area designated for construction of advanced technologies necessary for completing the mission";cb.schema=k.contra(k.recordOf({position:v.schema,wastelandVariant:qc}),function(a){return{position:a.position,wastelandVariant:a.wastelandVariant}},function(a){return new cb(a.position,a.wastelandVariant)});B[cb.name]=cb;var H=function(a,b){var d=u.call(this,a)||this;d.texture=Sd;d.possibleProjects=[new Q("Create habitat construction site","Designate this location for construction of habitation and life support facilities",
function(a,b){b.world.placeTile(new Ta(a,d.textureVariant))},[],[],[]),new Q("Create industry construction site","Designate this location for construction of industrial facilities and infrastructure",function(a,b){b.world.placeTile(new bb(a,d.textureVariant))},[],[],[]),new Q("Create laboratory construction site","Designate this location for construction of research laboratories",function(a,b){b.world.placeTile(new Wa(a,d.textureVariant))},[],[],[]),new Q("Create xenoengineering construction site",
"Designate this location for construction of advanced technologies",function(a,b){b.world.placeTile(new cb(a,d.textureVariant))},[],[],[M(jb),Pd(Hb(yb(ja)),Hb(yb(pa)))]),new Q("Construct Road","Construct roads to extend the reach of the colony's logistics",function(a,b){b.world.placeTile(new V(a))},[new n(l.BuildingMaterials,10)],[Z],[])];d.textureVariant=b?b:ha.fromWeightedArray([[1/8,1],[1/8,2],[1/8,3],[1/8,4],[.5,5]]);return d};$jscomp.inherits(H,u);H.prototype.getTileName=function(){return H.tileName};
H.prototype.getTileDescription=function(){return H.tileDescription};H.prototype.getTexture=function(){switch(this.textureVariant){case 1:return Ke;case 2:return Le;case 3:return Me;case 4:return Ne;case 5:return Sd}};H.tileName="Wasteland";H.tileDescription="Nothing of note here";H.schema=k.contra(k.recordOf({position:v.schema,textureVariant:qc}),function(a){return{position:a.position,textureVariant:a.textureVariant}},function(a){return new H(a.position,a.textureVariant)});B[H.name]=H;var db=function(a){a=
u.call(this,a)||this;a.texture=ff;a.resourceConversions=[y.newConversion([new n(l.Energy,75)],[new n(l.Metal,50)],100)];return a};$jscomp.inherits(db,u);db.prototype.getTileName=function(){return db.tileName};db.prototype.getTileDescription=function(){return db.tileDescription};db.tileName="Mineshaft";db.tileDescription="A mineshaft built into a mountain to allow long-term ore extraction";db.schema=k.classOf({position:v.schema,resourceConversions:k.arrayOf(y.schema)},function(a){var b=a.resourceConversions;
a=new db(a.position);a.resourceConversions=b;return a});B[db.name]=db;var wa=function(a){a=u.call(this,a)||this;a.texture=Oe;a.possibleProjects=[new Q("Construct Mineshaft","Create a mineshaft to allow long-term ore extraction",function(a,d){d.world.placeTile(new db(a))},[new n(l.Energy,500),new n(l.BuildingMaterials,250)],[T(Pa),Z,sb(va,5)],[]),new Q("Strip Mining","Destroy the mountain to produce "+l.Metal.name,function(a,d){d.inventory.addResource(l.Metal,500);d.world.placeTile(new H(a,5))},[new n(l.Energy,
25)],[sb(va,5)],[])];return a};$jscomp.inherits(wa,u);wa.prototype.getTileName=function(){return wa.tileName};wa.prototype.getTileDescription=function(){return wa.tileDescription};wa.tileName="Mountain";wa.tileDescription="A large geological formation containing useful mineral resources";wa.schema=k.classOf({position:v.schema},function(a){return new wa(a.position)});B[wa.name]=wa;var Ma=function(a){a=u.call(this,a)||this;a.texture=cf;a.possibleProjects=[new Q("Unpack Lander","Unload colonists and deploy prefabricated colonial buildings",
function(a,d){var b=d.world;b.placeTile(new qa(new v(a.x+1,a.y)));b.placeTile(new Ca(new v(a.x+1,a.y-1)));b.placeTile(new La(new v(a.x-1,a.y)));b.placeTile(new va(new v(a.x-1,a.y-1)));b.placeTile(new V(new v(a.x,a.y-1)));b.placeTile(new V(a));b.placeTile(new V(new v(a.x,a.y+1)));d.inventory.addResource(l.Food,1E3);d.inventory.addWorkers(J.Human,100);d.inventory.releaseWorkers()},[],[],[])];return a};$jscomp.inherits(Ma,u);Ma.prototype.getTileName=function(){return Ma.tileName};Ma.prototype.getTileDescription=
function(){return Ma.tileDescription};Ma.tileName="Landing Pod";Ma.tileDescription=w($jscomp$templatelit$51);Ma.schema=k.classOf({position:v.schema},function(a){return new Ma(a.position)});B[Ma.name]=Ma;var Qb;(function(a){a.nonrandomTiles=function(){return[new H(new v(0,0)),new H(new v(1,0)),new H(new v(2,0)),new wa(new v(0,1)),new wa(new v(1,1)),new wa(new v(2,1)),new H(new v(0,2)),new H(new v(1,2)),new H(new v(2,2)),new H(new v(0,3)),new Ma(new v(1,3)),new H(new v(2,3)),new H(new v(0,4)),new H(new v(1,
4)),new H(new v(2,4)),new ka(new v(13,15))]};a.width=20;a.height=20;a.mountainRange=[20,25];a.ruinRange=[5,7]})(Qb||(Qb={}));var eb=function(a,b,d){this.width=a;this.height=b;this.grid=d;this.viewPosition=new v(0,0)};eb.generateWorld=function(){for(var a=Qb.width,b=Qb.height,d=Array(b),c=0;c<b;c++){d[c]=Array(a);for(var e=0;e<a;e++)d[c][e]=new H(new v(e,c))}a=new eb(a,b,d);b=ha.intBetween.apply(ha,$jscomp.arrayFromIterable(Qb.mountainRange));for(d=0;d<b;d++)c=a.getTiles().filter(function(a){return a instanceof
H}),lb.isNonEmpty(c)&&(c=ha.fromArray(c).position,a.placeTile(new wa(c)));b=ha.intBetween.apply(ha,$jscomp.arrayFromIterable(Qb.ruinRange));for(d=0;d<b;d++)c=a.getTiles().filter(function(a){return a instanceof H}),lb.isNonEmpty(c)&&(c=ha.fromArray(c).position,a.placeTile(new la(c)));b=$jscomp.makeIterator(Qb.nonrandomTiles());for(d=b.next();!d.done;d=b.next())a.placeTile(d.value);return a};eb.prototype.placeTile=function(a){this.grid[a.position.y][a.position.x]=a};eb.prototype.getTiles=function(){return lb.flatten(this.grid)};
eb.prototype.getTilesInRectangle=function(a,b,c,e){0>b&&(b=0);0>a&&(a=0);var d=[];b=this.grid.slice(b,b+e);b=$jscomp.makeIterator(b);for(e=b.next();!e.done;e=b.next()){e=e.value.slice(a,a+c);e=$jscomp.makeIterator(e);for(var f=e.next();!f.done;f=e.next())d.push(f.value)}return d};eb.prototype.getTileAtCoordinates=function(a){if(!(0>a.x||a.x>=this.width||0>a.y||a.y>=this.height))return this.grid[a.y][a.x]};eb.prototype.getTilesInCircle=function(a,b){return this.getTiles().filter(function(c){return a.distanceFrom(c.position)<=
b})};eb.prototype.getPopulationCapacity=function(a){for(var b=0,c=$jscomp.makeIterator(this.getTiles()),e=c.next();!e.done;e=c.next())e=e.value,e.populationCapacity&&e.populationCapacity.species===a&&(b+=e.populationCapacity.capacity);return b};eb.schema=k.classOf({width:k.aNumber,height:k.aNumber,grid:k.arrayOf(k.arrayOf(Gf))},function(a){return new eb(a.width,a.height,a.grid)});var Da=function(){this.map=new Map};Da.prototype.add=function(a,b){this.set(a,this.get(a)+b)};Da.prototype.remove=function(a,
b){this.add(a,-1*b)};Da.prototype.get=function(a){return this.map.get(a)||0};Da.prototype.set=function(a,b){if(0>b)throw"tried to set quantity to negative value";0===b?this.map.delete(a):this.map.set(a,b)};Da.prototype.getSum=function(){return Array.from(this.map.values()).reduce(function(a,b){return a+b},0)};Da.prototype.positiveQuantityKeys=function(){return Array.from(this.map.keys())};Da.prototype.clone=function(){for(var a=new Da,b=$jscomp.makeIterator(this.positiveQuantityKeys()),c=b.next();!c.done;c=
b.next())c=c.value,a.add(c,this.get(c));return a};Da.schema=function(a){return k.contra(k.recordOf({map:k.map(a,k.aNumber)}),function(a){return{map:a.map}},function(a){var b=new Da;b.map=a.map;return b})};var N=function(a){this.world=a;this.resourceQuantities=new Da;this.populationQuantities=new Da;this.availableWorkers=0};N.prototype.addResource=function(a,b){this.resourceQuantities.add(a,b)};N.prototype.removeResource=function(a,b){this.resourceQuantities.remove(a,b)};N.prototype.getResourceQuantity=
function(a){return this.resourceQuantities.get(a)||0};N.prototype.addWorkers=function(a,b){this.populationQuantities.add(a,b);this.populationQuantities.set(a,z(0,this.populationQuantities.get(a),this.world.getPopulationCapacity(a)))};N.prototype.releaseWorkers=function(a){a=void 0===a?Number.POSITIVE_INFINITY:a;this.availableWorkers=Math.min(this.availableWorkers+a,this.populationQuantities.getSum())};N.prototype.occupyWorkers=function(a){if(this.availableWorkers<a)throw"insufficient workers";if(0>
a)throw"tried to occupy a negative number of workers";this.availableWorkers-=a};N.prototype.getSpeciesList=function(){return this.populationQuantities.positiveQuantityKeys()};N.prototype.getPopulation=function(a){return this.populationQuantities.get(a)};N.prototype.getRequiredWorkerConsumption=function(a){var b=a.survivalCost.quantity*this.populationQuantities.get(a);return new n(a.survivalCost.resource,b)};N.prototype.getProvidedWorkerConsumption=function(a){var b=this.getRequiredWorkerConsumption(a).quantity,
c=this.getResourceQuantity(a.survivalCost.resource);return new n(a.survivalCost.resource,Math.min(b,c))};N.prototype.doPopulationGrowth=function(){for(var a=$jscomp.makeIterator(this.getSpeciesList()),b=a.next();!b.done;b=a.next()){b=b.value;var c=this.getProvidedWorkerConsumption(b);this.payCost([c]);this.populationQuantities.set(b,Math.floor(c.quantity/b.survivalCost.quantity));c=Math.floor(b.growthMultiplier*this.populationQuantities.get(b));this.addWorkers(b,c)}};N.prototype.applyPopulationCaps=
function(){for(var a=$jscomp.makeIterator(this.getSpeciesList()),b=a.next();!b.done;b=a.next())b=b.value,this.populationQuantities.set(b,z(0,this.populationQuantities.get(b),this.world.getPopulationCapacity(b)));this.availableWorkers=z(0,this.availableWorkers,this.getTotalPopulation())};N.prototype.getTotalPopulation=function(){return this.populationQuantities.getSum()};N.prototype.getAvailableWorkers=function(){return this.availableWorkers};N.prototype.canAfford=function(a){var b=this,c=new Map;
a=$jscomp.makeIterator(a);for(var e=a.next();!e.done;e=a.next())e=e.value,c.set(e.resource,e.quantity+(c.get(e.resource)||0));return Array.from(c.keys()).every(function(a){var d=c.get(a);a=b.getResourceQuantity(a);return d<=a})};N.prototype.hasEnoughWorkers=function(a){return this.availableWorkers>=a};N.prototype.payCost=function(a){if(this.canAfford(a)){a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())b=b.value,this.removeResource(b.resource,b.quantity)}else throw"Cannot afford to pay cost";
};N.prototype.getResourceList=function(){var a=this;return l.values().filter(function(b){return 0!==a.resourceQuantities.get(b)})};N.prototype.getInventoryStrings=function(){var a=this;return this.getResourceList().map(function(b){return b.name+": "+a.getResourceQuantity(b)})};N.prototype.getPopulationStrings=function(){var a=this;return this.populationQuantities.positiveQuantityKeys().map(function(b){return a.populationQuantities.get(b)+" "+b.name})};N.prototype.applyConversions=function(a){a=$jscomp.makeIterator(a);
for(var b=a.next();!b.done;b=a.next())if(b=b.value,this.canAfford(b.inputs)&&this.hasEnoughWorkers(b.requiredWorkers)&&b.enabled){this.payCost(b.inputs);this.occupyWorkers(b.requiredWorkers);b=$jscomp.makeIterator(b.outputs);for(var c=b.next();!c.done;c=b.next())c=c.value,this.addResource(c.resource,c.quantity)}};N.prototype.clone=function(){var a=new N(this.world);a.resourceQuantities=this.resourceQuantities.clone();a.populationQuantities=this.populationQuantities.clone();a.availableWorkers=this.availableWorkers;
return a};N.schema=k.injecting(k.recordOf({resourceQuantities:Da.schema(l.schema),populationQuantities:Da.schema(J.schema),availableWorkers:k.aNumber}),function(a){return{resourceQuantities:a.resourceQuantities,populationQuantities:a.populationQuantities,availableWorkers:a.availableWorkers}},function(a){return function(b){var c=b.resourceQuantities,e=b.populationQuantities;b=b.availableWorkers;var f=new N(a);f.resourceQuantities=c;f.populationQuantities=e;f.availableWorkers=b;return f}});var Gb=function(a,
b){this.title=a;this.description=b};Gb.schema=k.classOf({title:k.aString,description:k.aString},function(a){return new Gb(a.title,a.description)});var xa=function(a,b){this.requirement=a;this.next=b};xa.schema=function(){return k.classOf({requirement:Nf,next:k.unionOf(function(a){return a instanceof ma},function(a){return a instanceof Gb},k.lazy(function(){return ma.schema()}),Gb.schema)},function(a){return new xa(a.requirement,a.next)})};var ma=function(a,b,c){this.description=a;this.paths=b;this.hint=
c};ma.prototype.nextState=function(a){for(var b=$jscomp.makeIterator(this.paths),c=b.next();!c.done;c=b.next())if(c=c.value,Qd(c.requirement)(a))return c.next;return this};ma.schema=function(){return k.contra(k.recordOf({description:k.aString,paths:Hc.arrayOf(function(){return xa.schema()}),hint:k.optional(k.aString)}),function(a){return{description:a.description,paths:a.paths,hint:a.hint}},function(a){return new ma(a.description,a.paths,a.hint)})};var qe=new Gb("Final Mission Report",w($jscomp$templatelit$52)),
re=new Gb("A Transmission to Earth",w($jscomp$templatelit$53)),$f=new ma("Unlock the secrets of the monolith",[new xa(Nd([Ha,Ia]),qe),new xa(Nd([Ka,Ja]),re)]),ag=new ma("Study the Monolith",[new xa(M(jb),$f)]),bg=new ma("Research "+Bd.name,[new xa(M(Bd),ag)]),cg=new ma("Excavate the "+la.tileName+" to extract resources",[new xa(yb(ua),bg)]),dg=new ma("Construct "+Ba.tileName+" to study the "+la.tileName,[new xa(yb(Ba),cg)],'Use the "WASD" or arrow keys to move around the map'),eg=new ma("Grow total worker population to 250",
[new xa({queryType:"hasTotalPopulation",minPopulation:250},dg)],"A "+qa.tileName+" has capacity for "+(new qa(new v(0,0))).populationCapacity.capacity+" colonists"),fg=new ma("Develop the "+Pa.name+" technology",[new xa(M(Pa),eg)],"Access available technologies through the research screen"),gg=new ma("Construct "+Aa.tileName,[new xa(yb(Aa),fg)],"Designate an empty "+H.tileName+" tile as a laboratory construction site"),hg=new ma("Acquire "+l.Metal.name,[new xa(Od(l.Metal,1),gg)]),ig=new ma("Build up at least 100 units of "+
l.Energy.name,[new xa(Od(l.Energy,100),hg)],"The "+Ca.tileName+" produces "+l.Energy.name+" each turn"),jg=new ma("Deploy shelter for the colonists",[new xa(yb(qa),ig)],"Select the "+Ma.tileName),aa=function(a,b,c){this.world=a;this.inventory=b;this.questStage=c;this.endState=void 0;this.prevQuestDescription="";this.questCompletionShown=!0;this.completedTechs=[]};aa.newGame=function(){var a=eb.generateWorld(),b=new N(a);return new aa(a,b,jg)};aa.prototype.getCurrentQuestDescription=function(){return this.questStage.description};
aa.prototype.getCurrentQuestHint=function(){return this.questStage.hint};aa.prototype.getQuestEndState=function(){return this.endState};aa.prototype.updateQuestState=function(){var a=this.questStage.nextState(this);if(a instanceof Gb)this.endState=a,this.questCompletionShown=!1;else if(a!==this.questStage){var b=this.questStage.description;this.questStage=a;this.updateQuestState();this.questCompletionShown=!1;this.prevQuestDescription=b}};aa.prototype.getPreviousQuestDescription=function(){return this.prevQuestDescription};
aa.prototype.getResourceConversions=function(){var a=lb.flatten(this.world.getTiles().map(function(a){return a.resourceConversions}));a.sort(function(a,c){return a.priority-c.priority});return a};aa.prototype.hasUnlockedTechnology=function(a){return this.completedTechs.some(function(b){return b.equals(a)})};aa.prototype.unlockTechnology=function(a){this.hasUnlockedTechnology(a)||this.completedTechs.push(a)};aa.prototype.getUnlockedTechnologies=function(){return this.completedTechs};aa.prototype.getResearchOptions=
function(){var a=this;return je.filter(function(a){return a.visible}).filter(function(b){return b.requiredTechs.every(function(b){return a.completedTechs.some(function(a){return a.equals(b)})})}).filter(function(b){return!a.hasUnlockedTechnology(b)})};aa.prototype.completeTurn=function(){this.inventory.applyConversions(this.getResourceConversions());this.inventory.releaseWorkers();this.inventory.doPopulationGrowth();this.updateQuestState()};aa.prototype.shiftConversionPriority=function(a,b){if(!(a===
b||0>a)){var c=this.getResourceConversions();if(!(b>=c.length)){var e=c[b].priority;if(a<b)for(;b>a;b--)c[b].priority=c[b-1].priority;else for(;b<a;b++)c[b].priority=c[b+1].priority;c[a].priority=e}}};aa.schema=k.contra(k.recordOf({world:eb.schema,inventory:N.schema,questStage:ma.schema(),endState:k.optional(Gb.schema),prevQuestDescription:k.aString,questCompletionShown:k.aBoolean,completedTechs:k.arrayOf(A.schema())}),function(a){return{world:a.world,inventory:N.schema.project(a.inventory),questStage:a.questStage,
endState:a.endState,prevQuestDescription:a.prevQuestDescription,questCompletionShown:a.questCompletionShown,completedTechs:a.completedTechs}},function(a){var b=a.world,c=a.inventory,e=a.questStage,f=a.endState,g=a.prevQuestDescription,k=a.questCompletionShown;a=a.completedTechs;c=N.schema.inject(b)(c);b=new aa(b,c,e);b.endState=f;b.prevQuestDescription=g;b.questCompletionShown=k;b.completedTechs=a;return b});var se=k.recordOf({game:aa.schema,nextConversionPriority:k.aNumber}),Db;(function(a){a.saveProgress=
function(a){return Ab.saveItem("save",a,se)};a.loadProgress=function(){var a=Ab.loadItem("save",se);if("success"===(null===a||void 0===a?void 0:a.resultType))return a.result};a.saveExists=function(){return Ab.hasItem("save")};a.clearProgress=function(){Ab.removeItem("save")}})(Db||(Db={}));var te=function(){this.html=g.makeDiv(["main-menu","confirm-menu"]);this.refresh()};te.prototype.refresh=function(){g.fillHTML(this.html,[g.makeHeader("Delete Saved Data?",1),g.makeDivContaining([g.makeButton("confirm",
function(){Db.clearProgress();K.show(new rc(new Oa))}),g.makeButton("cancel",function(){return K.show(new rc(new Oa))})],["main-menu-options"])])};var rc=function(a){this.backScreen=a;this.html=g.makeDiv();this.options=hb.loadOptions();this.refresh()};rc.prototype.refresh=function(){var a=this,b=function(a,b,c,e,f,k){var d=g.makePara(e.toString());a=g.makeSlider(a,b,c,e,function(a){f(a);d.innerText=a.toString()},k);return g.makeDivContaining([a,d],["settings-slider"])};b=[b("Volume",0,100,100*this.options.volume,
function(b){a.options.volume=b/100;hb.saveOptions(a.options)},5),b("View width",6,18,this.options.viewWidth,function(b){a.options.viewWidth=b;hb.saveOptions(a.options)}),b("View height",4,12,this.options.viewHeight,function(b){a.options.viewHeight=b;hb.saveOptions(a.options)})];g.fillHTML(this.html,[g.makeDivContaining([g.makeHeader("Settings",1),g.makeDivContaining(b),g.makeDivContaining([g.makeButton("Restore defaults",function(){a.options=tb.defaultOptions();hb.saveOptions(a.options);a.refresh()})]),
g.makeDivContaining([g.makeButton("Clear saved game",function(){K.show(new te)},[],Db.saveExists()?"enabled":"disabled")]),g.makeDivContaining([g.makeButton("Back",function(){hb.saveOptions(a.options);K.show(a.backScreen)})])],["settings"])])};var zb=function(a){this.currentGame=a};zb.prototype.refresh=function(){this.currentGame.updateQuestState();K.refreshCurrentPage()};zb.prototype.addResource=function(a,b){this.currentGame.inventory.addResource(a,b);this.refresh()};zb.prototype.removeResource=
function(a,b){this.currentGame.inventory.payCost([new n(a,b)]);this.refresh()};zb.prototype.addPopulation=function(a,b){this.currentGame.inventory.addWorkers(a,b);this.refresh()};zb.prototype.showEnding=function(a){K.show(new kd((void 0===a?0:a)?re:qe))};zb.prototype.freeResources=function(){for(var a=$jscomp.makeIterator(l.values()),b=a.next();!b.done;b=a.next())this.addResource(b.value,1E6)};zb.prototype.showQuote=function(a){K.show(new $b(this.currentGame,a))};var ue=function(){this.html=g.makeDiv(["main-menu",
"confirm-menu"]);this.refresh()};ue.prototype.refresh=function(){g.fillHTML(this.html,[g.makeHeader("Overwrite Saved Data?",1),g.makeDivContaining([g.makeButton("confirm",function(){var a=aa.newGame();ed(a);K.show(new nb(a))}),g.makeButton("cancel",function(){return K.show(new Oa)})],["main-menu-options"])])};var ve=function(a,b,c){var d=this;this.header=a;this.message=b;this.backScreen=c;this.html=g.makeDivContaining([g.makeHeader(this.header),g.makePara(this.message),g.makeDivContaining([g.makeButton("Back",
function(){K.show(d.backScreen)})])],["message-screen"])};ve.prototype.refresh=function(){};var kg=function(a,b,c,e){function d(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,f){function g(a){try{k(e.next(a))}catch(x){f(x)}}function h(a){try{k(e["throw"](a))}catch(x){f(x)}}function k(a){a.done?c(a.value):d(a.value).then(g,h)}k((e=e.apply(a,b||[])).next())})},Oa=function(){this.html=g.makeDiv(["main-menu"]);this.refresh()};Oa.makeAudioButton=function(a){var b=
this;return Yb.isPlaying()?g.makeButton("disable_audio",function(c){return kg(b,void 0,void 0,function r(){return $jscomp.generator.createGenerator(r,function(b){if(1==b.nextAddress)return c.disabled=!0,c.innerText="please_wait",b.yield(Yb.stop(),2);a.refresh();b.jumpToEnd()})})}):g.makeButton("enable_audio",function(){Yb.initialize();a.refresh()})};Oa.prototype.refresh=function(){var a=this,b=Db.saveExists(),c=g.makeButton("resume_game",function(){var a=Db.loadProgress();a?(y.unsafeSetNextPriority(a.nextConversionPriority),
ed(a.game),K.show(new nb(a.game))):K.show(new ve("Deserialization Error","The saved game data is invalid",new Oa))}),e=g.makeButton(b?"start_new_game":"start_game",function(){if(b)K.show(new ue);else{var a=aa.newGame();ed(a);K.show(new nb(a))}});g.fillHTML(this.html,[g.makeHeader("Aurora",1),g.makeDivContaining([b?c:g.makeDiv(),e,Oa.makeAudioButton(this),g.makeButton("change_settings",function(){return K.show(new rc(a))}),g.makeButton("view_credits",function(){return K.show(new fd)})],["main-menu-options"])])};
var lg=function(a,b,c,e){function d(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,f){function g(a){try{k(e.next(a))}catch(x){f(x)}}function h(a){try{k(e["throw"](a))}catch(x){f(x)}}function k(a){a.done?c(a.value):d(a.value).then(g,h)}k((e=e.apply(a,b||[])).next())})};window.onload=function(){return lg(this,void 0,void 0,function b(){return $jscomp.generator.createGenerator(b,function(b){if(1==b.nextAddress)return console.log("Script Loaded"),b.yield(p(),
2);K.show(new Oa);b.jumpToEnd()})})}}]);}).call(this || window)
</script><script type="text/javascript">(function(){'use strict';}).call(this || window)
</script></body> </html> 